{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/orders/Context.jsx","pages/orders/TableItem.jsx","pages/orders/Table.jsx","../../src/FileSaver.js","pages/orders/OrdersByStatus.jsx"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Context","createContext","TableItem","newStatus","statusColor","id","serial_number","status","updated_at","deleteItem","price","client","printOne","item","useContext","selected","setSelected","useState","checked","setChecked","history","useHistory","threePoints","images","orders","date","moment","format","time","navigate","push","useEffect","deletedCheck","filter","el","length","className","onChange","value","type","onClick","is-responsive","first_name","city","src","localStorage","setItem","window","open","location","host","i18n","t","Table","items","selectedAll","selectAll","selectAllOrders","tableArrow","useCallback","style","marginLeft","map","index","key","console","MouseEvent","document","self","global","HTMLAnchorElement","b","name","setTimeout","f","navigator","autoBom","test","Blob","i","saveAs","module","mapDispatchToProps","deleteOrder","printOneOrder","getOrderByStatus","deleteOrders","printSelectedOrders","connect","printOrder","ordersPaginated","ordersByStatus","deletedOrder","withRouter","props","infoIcon","title","setTitle","setOrders","state","slug","reload","newArray","forEach","elem","Provider","disabled","stringSelected","JSON","stringify"],"mappings":"mKAIe,SAASA,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,iCIL9F,WAEMC,EAAUC,wBAAc,MAEfD,O,iICuGAE,EAnGG,SAAC,GAA0F,IAQrGC,EACAC,EATaC,EAAuF,EAAvFA,GAAIC,EAAmF,EAAnFA,cAAeC,EAAoE,EAApEA,OAAQC,EAA4D,EAA5DA,WAAYC,EAAgD,EAAhDA,WAAYC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,OAA6B,KAArBC,SAAqB,EAAXC,KAC3DC,qBAAWd,MAArCe,EADgG,EAChGA,SAAUC,EADsF,EACtFA,YADsF,EAE1EC,oBAAS,GAFiE,mBAEjGC,EAFiG,KAExFC,EAFwF,KAGlGC,EAAUC,cACRC,EAAgBC,IAAOC,OAAvBF,YACFG,EAAOC,IAAOlB,GAAYmB,OAAO,cACjCC,EAAOF,IAAOlB,GAAYmB,OAAO,YAIvC,OAAQpB,GACJ,IAAK,UAIL,IAAK,UAIL,IAAK,YAIL,IAAK,YACDJ,EAAYI,EACZH,EAAcG,EACd,MACJ,IAAK,WACDJ,EAAY,WACZC,EAAc,WACd,MACJ,IAAK,qBACDD,EAAY,YACZC,EAAc,WACd,MACJ,IAAK,qBACDD,EAAY,YACZC,EAAc,WAItB,IACMyB,EAAW,kBAAMT,EAAQU,KAAK,SAAU,CAAEzB,QAmBhD,OAbA0B,qBAAU,WACN,GAAIb,EAASF,EAAY,GAAD,mBAAKD,GAAL,CAAeV,UAClC,IAAKa,EAAS,CACf,IAAMc,EAAejB,EAASkB,QAAO,SAAAC,GAAE,OAAIA,IAAO7B,KAClDW,EAAYgB,MAEjB,CAACd,IAEJa,qBAAU,WAEqB,IADPhB,EAASkB,QAAO,SAAApB,GAAI,OAAIA,IAASR,KACrC8B,OAAgBhB,GAAW,GACpCA,GAAW,KACnB,CAACJ,IAEA,yBAAKqB,UAAU,6BACX,yBAAKA,UAAU,uCACX,2BAAOC,SAjBL,kBAAMlB,GAAYD,IAiBIoB,MAAOpB,EAASA,QAASA,EAASkB,UAAU,+CAA+CG,KAAK,aACxH,yBAAKH,UAAU,4CAA4C9B,IAE/D,yBAAKkC,QAASX,EAAUO,UAAU,uCAC9B,yBAAKA,UAAWhC,IAChB,yBAAKgC,UAAU,4CAA4CjC,IAE/D,yBAAKqC,QAASX,EAAUO,UAAU,uCAC9B,yBAAKA,UAAU,4CAA4C1B,EAA3D,WAEJ,yBAAK8B,QAASX,EAAUY,gBAAc,OAAOL,UAAU,uCACnD,yBAAKA,UAAU,4CAA4CX,IAE/D,yBAAKe,QAASX,EAAUY,gBAAc,OAAOL,UAAU,uCACnD,yBAAKA,UAAU,4CAA4CR,IAE/D,yBAAKY,QAASX,EAAUY,gBAAc,OAAOL,UAAU,uCACnD,yBAAKA,UAAU,4CAA4CzB,EAAO+B,aAEtE,yBAAKF,QAASX,EAAUY,gBAAc,OAAOL,UAAU,gDACnD,yBAAKA,UAAU,4CAA4CzB,EAAOgC,OAEtE,yBAAKF,gBAAc,OAAOL,UAAU,gDAChC,yBAAKA,UAAU,YACX,yBAAKA,UAAU,2CAA2CQ,IAAKtB,IAC/D,yBAAKc,UAAU,oBACX,yBAAKI,QA/CN,WACfK,aAAaC,QAAQ,WAAYzC,GACjC0C,OAAOC,KAAP,iBAAsBD,OAAOE,SAASC,KAAtC,cAAwD,iBA6Cdd,UAAU,yBAAyBe,IAAKC,EAAE,iBACpE,yBAAKZ,QAlDF,kBAAM/B,EAAWJ,IAkDU+B,UAAU,yBAAyBe,IAAKC,EAAE,uBC5CjFC,IA/CD,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,MAAO7C,EAA2B,EAA3BA,WAAYG,EAAe,EAAfA,SAAe,EACZE,qBAAWd,KAAtCuD,EADuC,EACvCA,YAAaC,EAD0B,EAC1BA,UAEfC,GADiBlC,IAAOC,OAAtBkC,WACgBC,uBAAY,WAAQH,GAAWD,KAAgB,CAACA,KACxE,OACI,yBAAKnB,UAAU,wBACX,yBAAKA,UAAU,+BACX,yBAAKA,UAAU,oCACX,2BAAOG,KAAK,WAAWF,SAAUoB,EAAiBnB,MAAOiB,EAAarC,QAASqC,IAC/E,yBAAKK,MAAO,CAACC,WAAY,IAAKzB,UAAU,yCAAyCe,IAAKC,EAAE,yBAG5F,yBAAKhB,UAAU,oCACX,yBAAKA,UAAU,yCAAyCe,IAAKC,EAAE,mBAGnE,yBAAKhB,UAAU,oCACX,yBAAKA,UAAU,yCAAyCe,IAAKC,EAAE,wBAGnE,yBAAKX,gBAAc,OAAOL,UAAU,oCAChC,yBAAKA,UAAU,yCAAyCe,IAAKC,EAAE,iBAGnE,yBAAKX,gBAAc,OAAOL,UAAU,oCAChC,yBAAKA,UAAU,yCAAyCe,IAAKC,EAAE,iBAGnE,yBAAKX,gBAAc,OAAOL,UAAU,oCAChC,yBAAKA,UAAU,yCAAyCe,IAAKC,EAAE,yBAGnE,yBAAKX,gBAAc,OAAOL,UAAU,6CAChC,yBAAKA,UAAU,yCAAyCe,IAAKC,EAAE,iBAGnE,yBAAKX,gBAAc,OAAOL,UAAU,6CAChC,yBAAKA,UAAU,yCAAyCe,IAAKC,EAAE,qBAGtEE,GAASA,EAAMQ,KAAI,SAACjD,EAAMkD,GACvB,OAAO,kBAAC,EAAD,eAAWlD,KAAMA,EAAMD,SAAUA,EAAUH,WAAYA,GAAgBI,EAAvE,CAA6EmD,IAAKD,W,0GChBzG,kBACE,IAAI,EAAM,IAAV,eACA,aAFkC,GAGlC,eAHkC,OAIlC,SAAa,WACX,EAAO,EAAD,eAER,UAAc,WACZE,QAAA,kCAEF,SAGF,cACE,IAAI,EAAM,IAAV,eAEA,oBACA,IACE,SACA,MAAO,IACT,OAAO,eAAqB,OAAI1D,OAIlC,cACE,IACE,gBAAmB,IAAI2D,WAAvB,UACA,MAAO,GACP,IAAI,EAAMC,SAAA,YAAV,eACA,gEAFU,MAIV,oBApDA,MAAU,yBAA8BpB,gBAA9B,cACD,uBAA4BqB,YAA5B,UACF,oBAA8BC,WAA9B,WAsDP,EAAS,WAEV,yBAA8BtB,SAA/B,EACI,aAGF,aAAcuB,kBAAd,UACA,gBAAmC,IAC/B,EAAM,OAAe,EADU,UAE/B,EAAIH,SAAA,cAF2B,KAGnC,EAAO,GAAQI,EAARC,MAH4B,WAKnC,WALmC,EAMnC,MANmC,WAW/B,iBAX+B,GAajC,OAbiC,EAc7B,WAAavB,SAdgB,OAmB/B,EAnB+B,GAe/B,EAAY,EAAZ,MACI,EAASsB,EAAD,EADZ,GAEI,EAAM,EAAG,SAjBkB,YAuBjC,OAAS,kBAvBwB,GAwBjCE,YAAW,WAAc,kBAAoB,EAApB,QAxBQ,KAyBjCA,YAAW,WAAc,EAAM,KAzBE,KA8BnC,+BACA,SAAAC,EAAA,KAGA,GAFA,EAAO,GAAQ,EAARF,MAAqB,WAExB,iBAAJ,EAUEG,UAAA,iBArGN,cAA0B,MACpB,oBADoB,EACS,EAAO,CAAEC,SAAS,GAC1C,iBAFe,IAGtBX,QAAA,KAHsB,sDAItB,EAAO,CAAEW,SAJa,IASpB,WAAgB,6EAA6EC,KAAK,EAT9E,MAUf,IAAIC,KAAK,CAAC,SAAV,GAA8C,CAAEvC,KAAM,EAVvC,OAYjB,EAyFwBgC,CAAI,EAA/B,GAVF,QACE,GAAI,EAAJ,GACE,EAAS,EAAD,EADV,OAEO,CACL,IAAI,EAAIJ,SAAA,cAAR,KACA,OAFK,EAGL,SAHK,SAILM,YAAW,WAAc,EAAM,QAQnC,kBASA,IANA,EAAQ,GAASzB,KAAK,GAAD,aAEnB,iBACA,0BAAgC,kBAG9B,iBAAJ,EAA8B,OAAO,EAAS,EAAD,EAAf,GATY,IAWtC,EAAQ,+BAX8B,KAYtC,EAAW,eAAe6B,KAAK,EAApB,cAA4C,EAZjB,OAatCE,EAAc,eAAeF,KAAKF,UAbI,WAe1C,IAAKI,GAAgB,GAAjB,IAAwC,iBAA5C,WAA4E,CAE1E,IAAI,EAAS,IAAb,WACA,YAAmB,WACjB,IAAI,EAAM,EAAV,OACA,EAAMA,EAAc,EAAM,yBAFG,yBAGzB,EAAO,gBAHkB,EAIxB9B,SAJwB,EAK7B,EAAQ,MAEV,uBACK,KACD,EAAM,OAAe,EADpB,UAED,EAAM,kBAFL,GAGD,EAAO,WAHN,EAIAA,SAAA,KAJA,EAKL,EALK,KAMLwB,YAAW,WAAc,uBAAf,QAKhB,SAAiB,EAAAO,OAAgB,EAG/BC,EAAA,QAAiB,I,4MCjFbC,EAAqB,CAAEC,gBAAaC,kBAAeC,qBAAkBC,iBAAcC,yBAE1EC,uBAPS,SAAC,GAAD,MAEjB,CACHC,WAHoB,EACpBA,WAEYC,gBAHQ,EACRA,gBAEiBC,eAHT,EACSA,eAEgBC,aAHzB,EACyBA,gBAMTV,EAAzBM,CAA6CK,aAzErC,SAACC,GAAW,IACvBC,EAAaxE,IAAOC,OAApBuE,SADsB,EAEJ9E,mBAASkC,IAAKC,EAAE,qBAFZ,mBAEvB4C,EAFuB,KAEhBC,EAFgB,OAGFhF,mBAAS6E,EAAMH,gBAHb,mBAGvBnE,EAHuB,KAGf0E,EAHe,OAIEjF,mBAAS,IAJX,mBAIvBF,EAJuB,KAIbC,EAJa,OAKGC,oBAAS,GALZ,mBAKvBsC,EALuB,KAKVC,EALU,KAO9BzB,qBAAU,WACF+D,EAAM7C,SAASkD,OAASL,EAAM7C,SAASkD,MAAMH,QAC7CC,EAASH,EAAM7C,SAASkD,MAAMH,OAC9BF,EAAMT,iBAAiBS,EAAM7C,SAASkD,MAAMC,SAEjD,IACHrE,qBAAU,WAAY+D,EAAMF,cAAgB7C,OAAOE,SAASoD,WAAc,CAACP,EAAMF,eACjF7D,qBAAU,WAAY+D,EAAML,YAAYT,iBAAOc,EAAML,WAAY,iBAAmB,CAACK,EAAML,aAC3F1D,qBAAU,WACNmE,EAAUJ,EAAMH,gBAChBnC,GAAU,GACVxC,EAAY,MACb,CAAC8E,EAAMH,iBACV5D,qBAAU,WACN,GAAIwB,GAAeuC,EAAMH,eAAgB,CACrC,IAAIW,EAAW,GACfR,EAAMH,eAAeY,SAAQ,SAAAC,GACzBF,EAASxE,KAAK0E,EAAKnG,OAEvBW,EAAYsF,QAEZtF,EAAY,MAEjB,CAACuC,IAaJ,OACI,kBAAC,IAAQkD,SAAT,CAAkBnE,MAAO,CAAEvB,WAAUC,cAAawC,YAAWD,gBACzD,kBAAC,IAAD,KACI,yBAAKnB,UAAU,iBACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,8BACX,yBAAKA,UAAU,mCAAmC4D,IAEtD,yBAAK5D,UAAU,+BACX,yBAAKA,UAAU,mCAAmCQ,IAAKmD,MAG/D,kBAAC,IAAD,CAAOnF,SAAUkF,EAAMV,cAAe3E,WAAYqF,EAAMX,YAAa7B,MAAO9B,IAC5E,yBAAKY,UAAU,gCACX,4BAAQI,QAzBC,WACzBsD,EAAMR,aAAavE,EAAU+E,EAAM7C,SAASkD,MAAMC,MAClDpF,EAAY,IACZwC,GAAU,IAsB6CkD,UAAU3F,EAASoB,OAAuBC,UAAU,kCAAkCe,IAAKC,EAAE,wBACpI,4BAAQZ,QArBH,WACrB,IAAMmE,EAAiBC,KAAKC,UAAU9F,GACtC8B,aAAaC,QAAQ,gBAAiB6D,GACtC5D,OAAOC,KAAP,iBAAsBD,OAAOE,SAASC,KAAtC,mBAA6D,iBAkBVwD,UAAU3F,EAASoB,OAAuBC,UAAU,iCAAiCe,IAAKC,EAAE","file":"static/js/29.82711cdf.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React,{createContext} from 'react';\n\nconst Context = createContext(null);\n\nexport default Context;","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './orders.scss';\nimport moment from 'moment';\nimport Context from './Context';\n\nconst TableItem = ({ id, serial_number, status, updated_at, deleteItem, price, client, printOne, item }) => {\n    const { selected, setSelected } = useContext(Context);\n    const [checked, setChecked] = useState(false)\n    const history = useHistory();\n    const { threePoints } = images.orders;\n    const date = moment(updated_at).format('DD/MM/YYYY');\n    const time = moment(updated_at).format('HH:mm:ss');\n\n    let newStatus;\n    let statusColor;\n    switch (status) {\n        case 'pending':\n            newStatus = status;\n            statusColor = status;\n            break;\n        case 'ongoing':\n            newStatus = status;\n            statusColor = status;\n            break;\n        case 'cancelled':\n            newStatus = status;\n            statusColor = status;\n            break;\n        case 'completed':\n            newStatus = status;\n            statusColor = status;\n            break;\n        case 'archived':\n            newStatus = 'archived';\n            statusColor = 'archived';\n            break;\n        case 'archived:cancelled':\n            newStatus = 'cancelled';\n            statusColor = 'archived';\n            break;\n        case 'archived:completed':\n            newStatus = 'completed';\n            statusColor = 'archived';\n            break;\n    }\n\n    const deleteThisItem = () => deleteItem(id);\n    const navigate = () => history.push('/order', { id })\n    const printOrder = () => {\n        localStorage.setItem('printOne', id)\n        window.open(`http://${window.location.host}/print/one`, 'Print Orders') //this should be https://\n    };\n    const check = () => setChecked(!checked);\n    useEffect(() => {\n        if (checked) setSelected([...selected, id])\n        else if (!checked) {\n            const deletedCheck = selected.filter(el => el !== id);\n            setSelected(deletedCheck);\n        }\n    }, [checked]);\n\n    useEffect(() => {\n        const iAmSelected = selected.filter(item => item === id);\n        if (iAmSelected.length === 0) { setChecked(false) }\n        else { setChecked(true) }\n    }, [selected])\n    return (\n        <div className=\"strike-orders__table-item\">\n            <div className=\"strike-orders__table-item-container\">\n                <input onChange={check} value={checked} checked={checked} className=\"strike-orders__table-item-container-checkbox\" type=\"checkbox\" />\n                <div className=\"strike-orders__table-item-container-text\">{serial_number}</div>\n            </div>\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\n                <div className={statusColor} />\n                <div className=\"strike-orders__table-item-container-text\">{newStatus}</div>\n            </div>\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\n                <div className=\"strike-orders__table-item-container-text\">{price}â‚¬</div>\n            </div>\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\n                <div className=\"strike-orders__table-item-container-text\">{date}</div>\n            </div>\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\n                <div className=\"strike-orders__table-item-container-text\">{time}</div>\n            </div>\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\n                <div className=\"strike-orders__table-item-container-text\">{client.first_name}</div>\n            </div>\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\n                <div className=\"strike-orders__table-item-container-text\">{client.city}</div>\n            </div>\n            <div is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\n                <div className=\"dropdown\">\n                    <img className=\"strike-orders__table-item-container-dots\" src={threePoints} />\n                    <div className=\"dropdown-content\">\n                        <div onClick={printOrder} className=\"dropdown-content-text\">{i18n.t('orders.print')}</div>\n                        <div onClick={deleteThisItem} className=\"dropdown-content-text\">{i18n.t('orders.delete')}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default TableItem;","import React from 'react';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './orders.scss';\nimport TableItem from './TableItem';\nimport Context from './Context';\nimport { useContext, useCallback } from 'react';\n\nconst Table = ({ items, deleteItem, printOne }) => {\n    const { selectedAll, selectAll } = useContext(Context);\n    const { tableArrow } = images.orders;\n    const selectAllOrders = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\n    return (\n        <div className=\"strike-orders__table\">\n            <div className=\"strike-orders__table-header\">\n                <div className=\"strike-orders__table-header-item\">\n                    <input type=\"checkbox\" onChange={selectAllOrders} value={selectedAll} checked={selectedAll} />\n                    <div style={{marginLeft: 15}} className=\"strike-orders__table-header-item-text\">{i18n.t('orders.serialNumber')}</div>\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\n                </div>\n                <div className=\"strike-orders__table-header-item\">\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.status')}</div>\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\n                </div>\n                <div className=\"strike-orders__table-header-item\">\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.unitedPrice')}</div>\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\n                </div>\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.date')}</div>\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\n                </div>\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.time')}</div>\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\n                </div>\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.customerName')}</div>\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\n                </div>\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.city')}</div>\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\n                </div>\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.actions')}</div>\n                </div>\n            </div>\n            {items && items.map((item, index) => {\n                return <TableItem item={item} printOne={printOne} deleteItem={deleteItem} {...item} key={index} />\n            })}\n        </div>\n    )\n}\n\nexport default Table","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile)\n  : 'download' in HTMLAnchorElement.prototype\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari)) && typeof FileReader === 'object') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './orders.scss';\nimport { getOrderByStatus, printOneOrder, deleteOrder, printSelectedOrders, deleteOrders } from '../../store/actions/orders';\nimport { saveAs } from 'file-saver';\nimport Table from './Table';\nimport Context from './Context';\n\nconst OrdersByStatus = (props) => {\n    const { infoIcon } = images.orders;\n    const [title, setTitle] = useState(i18n.t('orders.allOrders'));\n    const [orders, setOrders] = useState(props.ordersByStatus);\n    const [selected, setSelected] = useState([]);\n    const [selectedAll, selectAll] = useState(false)\n\n    useEffect(() => {\n        if (props.location.state && props.location.state.title) {\n            setTitle(props.location.state.title);\n            props.getOrderByStatus(props.location.state.slug);\n        }\n    }, [])\n    useEffect(() => { if (props.deletedOrder) { window.location.reload() } }, [props.deletedOrder])\n    useEffect(() => { if (props.printOrder) saveAs(props.printOrder, 'newFile.pdf'); }, [props.printOrder]);\n    useEffect(() => {\n        setOrders(props.ordersByStatus)\n        selectAll(false);\n        setSelected([])\n    }, [props.ordersByStatus]);\n    useEffect(() => {\n        if (selectedAll && props.ordersByStatus) {\n            let newArray = [];\n            props.ordersByStatus.forEach(elem => {\n                newArray.push(elem.id)\n            })\n            setSelected(newArray)\n        } else {\n            setSelected([])\n        }\n    }, [selectedAll])\n\n    const deleteSelectedOrders = () => {\n        props.deleteOrders(selected, props.location.state.slug);\n        setSelected([])\n        selectAll(false);\n    }\n    const printSelectedOrd = () => {\n        const stringSelected = JSON.stringify(selected);\n        localStorage.setItem('printMultiple', stringSelected);\n        window.open(`http://${window.location.host}/print/multiple`, 'Print Orders') //this should be https://\n    }\n\n    return (\n        <Context.Provider value={{ selected, setSelected, selectAll, selectedAll }}>\n            <Wrapper>\n                <div className=\"strike-orders\">\n                    <div className=\"strike-orders__header\">\n                        <div className=\"strike-orders__header-left\">\n                            <div className=\"strike-orders__header-left-text\">{title}</div>\n                        </div>\n                        <div className=\"strike-orders__header-right\">\n                            <img className=\"strike-orders__header-right-icon\" src={infoIcon} />\n                        </div>\n                    </div>\n                    <Table printOne={props.printOneOrder} deleteItem={props.deleteOrder} items={orders} />\n                    <div className=\"strike-orders__footerbuttons\">\n                        <button onClick={deleteSelectedOrders} disabled={selected.length ? false : true} className=\"strike-orders__delete-selected\">{i18n.t('orders.deleteOrders')}</button>\n                        <button onClick={printSelectedOrd} disabled={selected.length ? false : true} className=\"strike-orders__print-selected\">{i18n.t('orders.printSelected')}</button>\n                    </div>\n                </div>\n            </Wrapper>\n        </Context.Provider>\n    )\n}\n\nconst mapStateToProps = ({\n    printOrder, ordersPaginated, ordersByStatus, deletedOrder\n}) => ({\n    printOrder, ordersPaginated, ordersByStatus, deletedOrder\n});\nconst mapDispatchToProps = { deleteOrder, printOneOrder, getOrderByStatus, deleteOrders, printSelectedOrders };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(OrdersByStatus))"],"sourceRoot":""}