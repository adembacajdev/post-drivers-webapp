{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/orders/Context.jsx","pages/orders/TableItem.jsx","pages/orders/Table.jsx","pages/orders/Orders.jsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Context","createContext","TableItem","newStatus","statusColor","id","serial_number","status","updated_at","deleteItem","price","client","item","printOne","useContext","selected","setSelected","useState","checked","setChecked","history","useHistory","threePoints","images","orders","date","moment","format","time","navigate","useCallback","useEffect","deletedCheck","el","className","onChange","value","type","onClick","is-responsive","first_name","city","src","localStorage","setItem","window","open","location","host","i18n","t","Table","items","selectedAll","selectAll","selectAllOrders","tableArrow","style","marginLeft","map","index","mapDispatchToProps","getAllOrders","deleteOrder","printOneOrder","getOrdersPaginated","searchOrders","printSelectedOrders","deleteOrders","connect","allOrders","ordersPaginated","deletedOrder","printOrder","withRouter","props","title","setTitle","setOrders","searchSelect","setSearchSelect","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","useForm","register","handleSubmit","errors","state","reload","newArray","data","elem","nextPage","hasNextPage","currentPage","prevPage","hasPrevPage","number","page","handleSearchSelect","e","addOrder","Provider","onSubmit","search","defaultValue","name","ref","required","placeholder","lastPage","is-active","disabled","stringSelected","JSON","stringify"],"mappings":"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","file":"static/js/33.5ef7564d.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React,{createContext} from 'react';\r\n\r\nconst Context = createContext(null);\r\n\r\nexport default Context;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport moment from 'moment';\r\nimport Context from './Context';\r\nimport { useCallback } from 'react';\r\n\r\nconst TableItem = ({ id, serial_number, status, updated_at, deleteItem, price, client, printOne, item }) => {\r\n    const { selected, setSelected } = useContext(Context);\r\n    const [checked, setChecked] = useState(false)\r\n    const history = useHistory();\r\n    const { threePoints } = images.orders;\r\n    const date = moment(updated_at).format('DD/MM/YYYY');\r\n    const time = moment(updated_at).format('HH:mm:ss');\r\n\r\n    let newStatus;\r\n    let statusColor;\r\n    switch (status) {\r\n        case 'pending':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'ongoing':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'cancelled':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'completed':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'archived':\r\n            newStatus = 'archived';\r\n            statusColor = 'archived';\r\n            break;\r\n        case 'archived:cancelled':\r\n            newStatus = 'cancelled';\r\n            statusColor = 'archived';\r\n            break;\r\n        case 'archived:completed':\r\n            newStatus = 'completed';\r\n            statusColor = 'archived';\r\n            break;\r\n    }\r\n\r\n    const deleteThisItem = () => deleteItem(id);\r\n    const navigate = useCallback(() => { history.push('/order', { id }) }, [item.id])\r\n    const printOrder = () => {\r\n        localStorage.setItem('printOne', id)\r\n        window.open(`http://${window.location.host}/print/one`, 'Print Orders') //this should be https://\r\n    };\r\n    const check = () => setChecked(!checked);\r\n    useEffect(() => {\r\n        if (checked) setSelected([...selected, id])\r\n        else if (!checked) {\r\n            const deletedCheck = selected.filter(el => el !== id);\r\n            setSelected(deletedCheck);\r\n        }\r\n    }, [checked]);\r\n\r\n    useEffect(() => {\r\n        const iAmSelected = selected.filter(item => item === id);\r\n        if (iAmSelected.length === 0) { setChecked(false) }\r\n        else { setChecked(true) }\r\n    }, [selected])\r\n    return (\r\n        <div className=\"strike-orders__table-item\">\r\n            <div className=\"strike-orders__table-item-container\">\r\n                <input onChange={check} value={checked} checked={checked} className=\"strike-orders__table-item-container-checkbox\" type=\"checkbox\" />\r\n                <div className=\"strike-orders__table-item-container-text\">{serial_number}</div>\r\n            </div>\r\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\r\n                <div className={statusColor} />\r\n                <div className=\"strike-orders__table-item-container-text\">{newStatus}</div>\r\n            </div>\r\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{price}â‚¬</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{date}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{time}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{client.first_name}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\r\n                <div className=\"strike-orders__table-item-container-text\">{client.city}</div>\r\n            </div>\r\n            <div is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\r\n                <div className=\"dropdown\">\r\n                    <img className=\"strike-orders__table-item-container-dots\" src={threePoints} />\r\n                    <div className=\"dropdown-content\">\r\n                        <div onClick={printOrder} className=\"dropdown-content-text\">{i18n.t('orders.print')}</div>\r\n                        <div onClick={deleteThisItem} className=\"dropdown-content-text\">{i18n.t('orders.delete')}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TableItem;","import React from 'react';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport TableItem from './TableItem';\r\nimport Context from './Context';\r\nimport { useContext, useCallback } from 'react';\r\n\r\nconst Table = ({ items, deleteItem, printOne }) => {\r\n    const { selectedAll, selectAll } = useContext(Context);\r\n    const { tableArrow } = images.orders;\r\n    const selectAllOrders = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\r\n    return (\r\n        <div className=\"strike-orders__table\">\r\n            <div className=\"strike-orders__table-header\">\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <input type=\"checkbox\" onChange={selectAllOrders} value={selectedAll} checked={selectedAll} />\r\n                    <div style={{marginLeft: 15}} className=\"strike-orders__table-header-item-text\">{i18n.t('orders.serialNumber')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.status')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.unitedPrice')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.date')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.time')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.customerName')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.city')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.actions')}</div>\r\n                </div>\r\n            </div>\r\n            {items && items.map((item, index) => {\r\n                return <TableItem item={item} printOne={printOne} deleteItem={deleteItem} {...item} key={index} />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport {\r\n    getAllOrders, deleteOrder, printOneOrder, getOrdersPaginated, searchOrders, printSelectedOrders, deleteOrders\r\n} from '../../store/actions/orders';\r\nimport { useForm } from \"react-hook-form\";\r\nimport Context from './Context';\r\nimport Table from './Table';\r\nimport moment from 'moment';\r\n\r\nconst Orders = (props) => {\r\n    const [title, setTitle] = useState(i18n.t('orders.allOrders'));\r\n    const [orders, setOrders] = useState(props.ordersPaginated);\r\n    const [selected, setSelected] = useState([]);\r\n    const [selectedAll, selectAll] = useState(false)\r\n    const [searchSelect, setSearchSelect] = useState('serial_number');\r\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.orders;\r\n\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const onSubmit = ({ type, search }) => { props.searchOrders(type, search); };\r\n\r\n    useEffect(() => {\r\n        props.getOrdersPaginated(10, 1)\r\n        if (props.location.state && props.location.state.title) setTitle(props.location.state.title);\r\n    }, [])\r\n    useEffect(() => { if (props.deletedOrder) window.location.reload() }, [props.deletedOrder])\r\n    useEffect(() => {\r\n        setOrders(props.ordersPaginated);\r\n        selectAll(false);\r\n        setSelected([])\r\n    }, [props.ordersPaginated]);\r\n    useEffect(() => {\r\n        if (selectedAll) {\r\n            let newArray = [];\r\n            orders.data.forEach(elem => {\r\n                newArray.push(elem.id)\r\n            })\r\n            setSelected(newArray)\r\n        } else {\r\n            setSelected([])\r\n        }\r\n    }, [selectedAll])\r\n\r\n    const deleteSelectedOrders = () => {\r\n        props.deleteOrders(selected);\r\n        selectAll(false);\r\n        setSelected([]);\r\n    }\r\n    const printSelectedOrd = () => {\r\n        const stringSelected = JSON.stringify(selected);\r\n        localStorage.setItem('printMultiple', stringSelected);\r\n        window.open(`http://${window.location.host}/print/multiple`, 'Print Orders') //this should be https://\r\n    }\r\n\r\n    const nextPage = useCallback(() => { if (orders.hasNextPage) props.getOrdersPaginated(10, orders.currentPage + 1) }, [orders]);\r\n    const prevPage = useCallback(() => { if (orders.hasPrevPage) props.getOrdersPaginated(10, orders.currentPage - 1) }, [orders]);\r\n    const number = useCallback((page) => { props.getOrdersPaginated(10, page) }, [orders]);\r\n\r\n    const handleSearchSelect = useCallback((e) => { setSearchSelect(e.target.value) }, [searchSelect]);\r\n    const addOrder = useCallback(() => { props.history.push('/add-order-direct-by-shop') }, []);\r\n    return (\r\n        <Context.Provider value={{ selected, setSelected, selectedAll, selectAll }}>\r\n            <Wrapper>\r\n                <div className=\"strike-orders\">\r\n                    <div className=\"strike-orders__header\">\r\n                        <div className=\"strike-orders__header-left\">\r\n                            <div className=\"strike-orders__header-left-text\">{title}</div>\r\n                        </div>\r\n                        <div className=\"strike-orders__header-right\">\r\n                            <div onClick={addOrder} className=\"strike-orders__header-right-text\">{i18n.t('products.addOrder')}</div>\r\n                        </div>\r\n                    </div>\r\n                    <form onSubmit={handleSubmit(onSubmit)} className=\"strike-orders__search\">\r\n                        <select defaultValue={searchSelect} onChange={handleSearchSelect} name=\"type\" ref={register({ required: true })} className=\"strike-orders__search-select\">\r\n                            <option value=\"serial_number\">{i18n.t('orders.serialNumber')}</option>\r\n                            <option value=\"customer_name\">{i18n.t('orders.customerName')}</option>\r\n                            <option value=\"city\">{i18n.t('orders.city')}</option>\r\n                            <option value=\"status\">{i18n.t('orders.status')}</option>\r\n                            <option value=\"date\">{i18n.t('orders.date')}</option>\r\n                        </select>\r\n                        <input defaultValue={searchSelect === 'date' ? moment().format('yyyy-MM-DD') : ''} type={searchSelect === 'date' ? 'date' : 'text'} name=\"search\" ref={register({ required: true })} placeholder={i18n.t('orders.searchPlaceholder')} className=\"strike-orders__search-input\" />\r\n                        <button type=\"submit\" className=\"strike-orders__search-button\">{i18n.t('orders.search')}</button>\r\n                    </form>\r\n                    <Table printOne={props.printOneOrder} deleteItem={props.deleteOrder} items={orders?.data} />\r\n                    <div className=\"strike-orders__pagination\">\r\n                        <img onClick={prevPage} src={orders.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-orders__pagination-leftarrow' />\r\n                        {orders && orders.lastPage.map(item => {\r\n                            return <div onClick={() => number(item)} is-active={item === orders.currentPage ? 'true' : 'false'} key={item} className=\"strike-orders__pagination-number\">{item}</div>\r\n                        })}\r\n                        <img onClick={nextPage} src={orders.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-orders__pagination-rightarrow' />\r\n                    </div>\r\n                    <div className=\"strike-orders__footerbuttons\">\r\n                        <button onClick={deleteSelectedOrders} disabled={selected.length ? false : true} className=\"strike-orders__delete-selected\">{i18n.t('orders.deleteOrders')}</button>\r\n                        <button onClick={printSelectedOrd} disabled={selected.length ? false : true} className=\"strike-orders__print-selected\">{i18n.t('orders.printSelected')}</button>\r\n                    </div>\r\n                </div>\r\n            </Wrapper>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({\r\n    allOrders, ordersPaginated, deletedOrder, printOrder\r\n}) => ({\r\n    allOrders, ordersPaginated, deletedOrder, printOrder\r\n});\r\nconst mapDispatchToProps = {\r\n    getAllOrders, deleteOrder, printOneOrder, getOrdersPaginated, searchOrders, printSelectedOrders, deleteOrders\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Orders));"],"sourceRoot":""}