{"version":3,"sources":["pages/transfers/TableItem.jsx","pages/transfers/Table.jsx","pages/transfers/Transfers.jsx","store/actions/transfers.jsx","containers/wrapper/Wrapper.jsx"],"names":["TableItem","amount","updated_at","date","moment","format","time","className","Table","items","i18n","t","map","item","index","key","mapDispatchToProps","getBalanceDetails","dispatch","a","axios","get","data","success","type","GET_BALANCE_DETAILS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","response","status","LOG_OUT","CLEAR_NOTIFICATION","clear","Promise","reject","getAllTransfers","limit","page","GET_ALL_TRANSFERS","searchTransfers","text","url","parseInt","day","month","year","post","SEARCH_TRANSFERS","connect","allTransfers","balanceDetails","withRouter","props","images","transfers","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","useState","setTransfers","searchType","setSearchType","useForm","register","handleSubmit","watch","errors","useEffect","nextPage","useCallback","hasNextPage","currentPage","prevPage","hasPrevPage","number","handleSearchSelect","e","target","value","Wrapper","latest_total_amount","latest_transport_cost","latest_neto_amount","current_balance","all_time_earning","onSubmit","search","onChange","defaultValue","name","ref","required","placeholder","onClick","src","lastPage","is-active","children"],"mappings":"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","file":"static/js/28.12ab3eb5.chunk.js","sourcesContent":["import React from 'react';\nimport './transfers.scss';\nimport moment from 'moment';\n\n\nconst TableItem = ({ amount, updated_at }) => {\n    const date = moment(updated_at).format('DD/MM/YYYY');\n    const time = moment(updated_at).format('HH:MM:ss');\n    return (\n        <div className=\"strike-transfers__table-item\">\n            <div className=\"strike-transfers__table-item-container\">\n                <div className=\"strike-transfers__table-item-container-text\">{amount}€</div>\n            </div>\n            <div className=\"strike-transfers__table-item-container\">\n                <div className=\"strike-transfers__table-item-container-text\">{date}</div>\n            </div>\n            <div className=\"strike-transfers__table-item-container\">\n                <div className=\"strike-transfers__table-item-container-text\">{time}</div>\n            </div>\n        </div>\n    )\n}\n\nexport default TableItem","import React from 'react';\nimport i18n from '../../services/locales/i18n';\nimport './transfers.scss';\nimport TableItem from './TableItem';\n\n\nconst Table = ({ items }) => {\n    return (\n        <div className=\"strike-transfers__table\">\n            <div className=\"strike-transfers__table-header\">\n                <div className=\"strike-transfers__table-header-item\">\n                    <div className=\"strike-transfers__table-header-item-text\">{i18n.t('transfers.amount')}</div>\n                </div>\n                <div className=\"strike-transfers__table-header-item\">\n                    <div className=\"strike-transfers__table-header-item-text\">{i18n.t('transfers.date')}</div>\n                </div>\n                <div className=\"strike-transfers__table-header-item\">\n                    <div className=\"strike-transfers__table-header-item-text\">{i18n.t('transfers.time')}</div>\n                </div>\n            </div>\n            {items && items.map((item, index) => {\n                return <TableItem key={index} {...item} />\n            })}\n        </div>\n    )\n}\n\nexport default Table;","import React, { useEffect, useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './transfers.scss';\nimport { getAllTransfers, getBalanceDetails, searchTransfers } from '../../store/actions/transfers';\nimport { useForm } from \"react-hook-form\";\nimport Table from './Table';\nimport moment from 'moment';\n\nconst Transfers = (props) => {\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.transfers;\n    const [transfers, setTransfers] = useState(props.allTransfers);\n    const [searchType, setSearchType] = useState('date')\n\n    const { register, handleSubmit, watch, errors } = useForm();\n    const onSubmit = ({ type, search }) => {\n        props.searchTransfers(type, search)\n    };\n\n    useEffect(() => {\n        props.getBalanceDetails();\n        props.getAllTransfers(10, 1);\n    }, [])\n    useEffect(() => { setTransfers(props.allTransfers); }, [props.allTransfers]);\n\n    const nextPage = useCallback(() => { if (transfers.hasNextPage) props.getAllTransfers(10, transfers.currentPage + 1) }, [transfers]);\n    const prevPage = useCallback(() => { if (transfers.hasPrevPage) props.getAllTransfers(10, transfers.currentPage - 1) }, [transfers]);\n    const number = useCallback((page) => { props.getAllTransfers(10, page) }, [transfers]);\n\n    const handleSearchSelect = useCallback((e) => { setSearchType(e.target.value) }, [searchType])\n    return (\n        <Wrapper>\n            <div className=\"strike-transfers-top\">\n                <div className=\"strike-transfers-top__left\">\n                    <div className=\"strike-transfers-top__left-title\">{i18n.t('transfers.latestEarning')}</div>\n                    <div className=\"strike-transfers-top__left-middle\">\n                        <div className=\"strike-transfers-top__left-middle-left\">\n                            <div className=\"strike-transfers-top__left-subtitle\">{i18n.t('transfers.totalAmount')}</div>\n                            <div className=\"strike-transfers-top__left-middle-left-subtitle\">{props.balanceDetails && props.balanceDetails.latest_total_amount}€</div>\n                        </div>\n                        <div className=\"strike-transfers-top__left-middle-right\">\n                            <div className=\"strike-transfers-top__left-subtitle\">{i18n.t('transfers.transportCost')}</div>\n                            <div className=\"strike-transfers-top__left-middle-right-subtitle\">{props.balanceDetails && props.balanceDetails.latest_transport_cost}€</div>\n                        </div>\n                    </div>\n                    <div className=\"strike-transfers-top__left-subtitle text-center\">{i18n.t('transfers.netoAmount')}</div>\n                    <div className=\"strike-transfers-top__left-price text-center\">{props.balanceDetails && props.balanceDetails.latest_neto_amount}€</div>\n                </div>\n                <div className=\"strike-transfers-top__middle\">\n                    <div className=\"strike-transfers-top__middle-title\">{i18n.t('transfers.currentBalance')}</div>\n                    <div className=\"strike-transfers-top__middle-subtitle\">{i18n.t('transfers.totalAmount')}</div>\n                    <div className=\"strike-transfers-top__middle-price\">{props.balanceDetails && props.balanceDetails.current_balance}€</div>\n                </div>\n                <div className=\"strike-transfers-top__right\">\n                    <div className=\"strike-transfers-top__right-title\">{i18n.t('transfers.allTimeEarning')}</div>\n                    <div className=\"strike-transfers-top__right-subtitle\">{i18n.t('transfers.totalAmount')}</div>\n                    <div className=\"strike-transfers-top__right-price\">{props.balanceDetails && props.balanceDetails.all_time_earning}€</div>\n                </div>\n            </div>\n            <div className=\"strike-transfers\">\n                <form onSubmit={handleSubmit(onSubmit)} className=\"strike-transfers__search\">\n                    <select onChange={handleSearchSelect} defaultValue={searchType} name=\"type\" ref={register({ required: true })} className=\"strike-transfers__search-select\">\n                        <option value=\"date\">{i18n.t('transfers.date')}</option>\n                        <option value=\"amount\">{i18n.t('transfers.amount')}</option>\n                    </select>\n                    <input defaultValue={searchType === 'date' ? moment().format('yyyy-MM-DD') : ''} type={searchType === 'date' ? 'date' : 'text'} name=\"search\" ref={register({ required: true })} placeholder={i18n.t('transfers.searchPlaceholder')} className=\"strike-transfers__search-input\" />\n                    <button type=\"submit\" className=\"strike-transfers__search-button\">{i18n.t('transfers.search')}</button>\n                </form>\n                <Table items={transfers.data} />\n                <div className=\"strike-transfers__pagination\">\n                    <img onClick={prevPage} src={transfers.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-transfers__pagination-leftarrow' />\n                    {transfers && transfers.lastPage.map(item => {\n                        return <div onClick={() => number(item)} is-active={item === transfers.currentPage ? 'true' : 'false'} key={item} className=\"strike-transfers__pagination-number\">{item}</div>\n                    })}\n                    <img onClick={nextPage} src={transfers.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-transfers__pagination-rightarrow' />\n                </div>\n            </div>\n        </Wrapper>\n    )\n}\n\nconst mapStateToProps = ({ allTransfers, balanceDetails }) => ({ allTransfers, balanceDetails });\nconst mapDispatchToProps = { getBalanceDetails, getAllTransfers, searchTransfers };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Transfers));","import {\n    GET_ALL_TRANSFERS, GET_SELECTED_TRANSFERS, GET_BALANCE_DETAILS, IS_LOGGED_IN, SEARCH_TRANSFERS, TOGGLE_ERROR_MODAL, LOG_OUT, CLEAR_NOTIFICATION\n} from '../actionTypes';\nimport axios from 'axios';\nimport moment from 'moment';\n\nexport const getAllTransfers = (limit, page) => async (dispatch) => {\n    try {\n        const data = await axios.get(`transfers/paginate/${limit}?page=${page}`);\n        if (data.status === 200) {\n            dispatch({ type: GET_ALL_TRANSFERS, data: data.data })\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const searchTransfers = (type, text) => async (dispatch) => {\n    try {\n        let url = '';\n        if (type === 'amount') url = `/transfers/search/amount?amount=${parseInt(text)}`;\n        if (type === 'date') {\n            const day = moment(text).format('DD');\n            const month = moment(text).format('MM');\n            const year = moment(text).format('YYYY');\n            url = `/transfers/search/date?day=${parseInt(day)}&month=${parseInt(month)}&year=${parseInt(year)}`;\n        }\n        const { data } = await axios.post(url);\n        if (data.success) {\n            dispatch({ type: SEARCH_TRANSFERS, data: data.data })\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getTransfer = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/transfers/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_SELECTED_TRANSFERS, data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getBalanceDetails = () => async (dispatch) => {\n    try {\n        const { data } = await axios.get('/balance');\n        if (data.success) {\n            dispatch({ type: GET_BALANCE_DETAILS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}","import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;"],"sourceRoot":""}