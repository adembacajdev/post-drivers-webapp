{"version":3,"sources":["containers/wrapper/Wrapper.jsx","pages/transfers/TableItem.jsx","pages/transfers/Table.jsx","pages/transfers/Transfers.jsx","store/actions/transfers.jsx"],"names":["Wrapper","props","className","children","TableItem","amount","updated_at","date","moment","format","time","Table","items","i18n","t","map","item","index","key","mapDispatchToProps","getBalanceDetails","dispatch","a","axios","get","data","success","type","GET_BALANCE_DETAILS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","Promise","reject","getAllTransfers","limit","page","status","GET_ALL_TRANSFERS","searchTransfers","text","url","parseInt","day","month","year","post","SEARCH_TRANSFERS","connect","allTransfers","balanceDetails","withRouter","images","transfers","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","useState","setTransfers","searchType","setSearchType","useForm","register","handleSubmit","watch","errors","useEffect","nextPage","useCallback","hasNextPage","currentPage","prevPage","hasPrevPage","number","handleSearchSelect","e","target","value","latest_total_amount","latest_transport_cost","latest_neto_amount","current_balance","all_time_earning","onSubmit","search","onChange","defaultValue","name","ref","required","placeholder","onClick","src","lastPage","is-active"],"mappings":"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","file":"static/js/25.e9b20ca1.chunk.js","sourcesContent":["import React from 'react';\r\nimport './wrapper.scss';\r\n\r\nconst Wrapper = (props) => {\r\n    return (\r\n        <div className=\"strike-wrapper\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","import React from 'react';\r\nimport './transfers.scss';\r\nimport moment from 'moment';\r\n\r\n\r\nconst TableItem = ({ amount, updated_at }) => {\r\n    const date = moment(updated_at).format('DD/MM/YYYY');\r\n    const time = moment(updated_at).format('HH:MM:ss');\r\n    return (\r\n        <div className=\"strike-transfers__table-item\">\r\n            <div className=\"strike-transfers__table-item-container\">\r\n                <div className=\"strike-transfers__table-item-container-text\">{amount}€</div>\r\n            </div>\r\n            <div className=\"strike-transfers__table-item-container\">\r\n                <div className=\"strike-transfers__table-item-container-text\">{date}</div>\r\n            </div>\r\n            <div className=\"strike-transfers__table-item-container\">\r\n                <div className=\"strike-transfers__table-item-container-text\">{time}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TableItem","import React from 'react';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './transfers.scss';\r\nimport TableItem from './TableItem';\r\n\r\n\r\nconst Table = ({ items }) => {\r\n    return (\r\n        <div className=\"strike-transfers__table\">\r\n            <div className=\"strike-transfers__table-header\">\r\n                <div className=\"strike-transfers__table-header-item\">\r\n                    <div className=\"strike-transfers__table-header-item-text\">{i18n.t('transfers.amount')}</div>\r\n                </div>\r\n                <div className=\"strike-transfers__table-header-item\">\r\n                    <div className=\"strike-transfers__table-header-item-text\">{i18n.t('transfers.date')}</div>\r\n                </div>\r\n                <div className=\"strike-transfers__table-header-item\">\r\n                    <div className=\"strike-transfers__table-header-item-text\">{i18n.t('transfers.time')}</div>\r\n                </div>\r\n            </div>\r\n            {items && items.map((item, index) => {\r\n                return <TableItem key={index} {...item} />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table;","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './transfers.scss';\r\nimport { getAllTransfers, getBalanceDetails, searchTransfers } from '../../store/actions/transfers';\r\nimport { useForm } from \"react-hook-form\";\r\nimport Table from './Table';\r\nimport moment from 'moment';\r\n\r\nconst Transfers = (props) => {\r\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.transfers;\r\n    const [transfers, setTransfers] = useState(props.allTransfers);\r\n    const [searchType, setSearchType] = useState('date')\r\n\r\n    const { register, handleSubmit, watch, errors } = useForm();\r\n    const onSubmit = ({ type, search }) => {\r\n        props.searchTransfers(type, search)\r\n    };\r\n\r\n    useEffect(() => {\r\n        props.getBalanceDetails();\r\n        props.getAllTransfers(10, 1);\r\n    }, [])\r\n    useEffect(() => { setTransfers(props.allTransfers); }, [props.allTransfers]);\r\n\r\n    const nextPage = useCallback(() => { if (transfers.hasNextPage) props.getAllTransfers(10, transfers.currentPage + 1) }, [transfers]);\r\n    const prevPage = useCallback(() => { if (transfers.hasPrevPage) props.getAllTransfers(10, transfers.currentPage - 1) }, [transfers]);\r\n    const number = useCallback((page) => { props.getAllTransfers(10, page) }, [transfers]);\r\n\r\n    const handleSearchSelect = useCallback((e) => { setSearchType(e.target.value) }, [searchType])\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-transfers-top\">\r\n                <div className=\"strike-transfers-top__left\">\r\n                    <div className=\"strike-transfers-top__left-title\">{i18n.t('transfers.latestEarning')}</div>\r\n                    <div className=\"strike-transfers-top__left-middle\">\r\n                        <div className=\"strike-transfers-top__left-middle-left\">\r\n                            <div className=\"strike-transfers-top__left-subtitle\">{i18n.t('transfers.totalAmount')}</div>\r\n                            <div className=\"strike-transfers-top__left-middle-left-subtitle\">{props.balanceDetails && props.balanceDetails.latest_total_amount}€</div>\r\n                        </div>\r\n                        <div className=\"strike-transfers-top__left-middle-right\">\r\n                            <div className=\"strike-transfers-top__left-subtitle\">{i18n.t('transfers.transportCost')}</div>\r\n                            <div className=\"strike-transfers-top__left-middle-right-subtitle\">{props.balanceDetails && props.balanceDetails.latest_transport_cost}€</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"strike-transfers-top__left-subtitle text-center\">{i18n.t('transfers.netoAmount')}</div>\r\n                    <div className=\"strike-transfers-top__left-price text-center\">{props.balanceDetails && props.balanceDetails.latest_neto_amount}€</div>\r\n                </div>\r\n                <div className=\"strike-transfers-top__middle\">\r\n                    <div className=\"strike-transfers-top__middle-title\">{i18n.t('transfers.currentBalance')}</div>\r\n                    <div className=\"strike-transfers-top__middle-subtitle\">{i18n.t('transfers.totalAmount')}</div>\r\n                    <div className=\"strike-transfers-top__middle-price\">{props.balanceDetails && props.balanceDetails.current_balance}€</div>\r\n                </div>\r\n                <div className=\"strike-transfers-top__right\">\r\n                    <div className=\"strike-transfers-top__right-title\">{i18n.t('transfers.allTimeEarning')}</div>\r\n                    <div className=\"strike-transfers-top__right-subtitle\">{i18n.t('transfers.totalAmount')}</div>\r\n                    <div className=\"strike-transfers-top__right-price\">{props.balanceDetails && props.balanceDetails.all_time_earning}€</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"strike-transfers\">\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"strike-transfers__search\">\r\n                    <select onChange={handleSearchSelect} defaultValue={searchType} name=\"type\" ref={register({ required: true })} className=\"strike-transfers__search-select\">\r\n                        <option value=\"date\">{i18n.t('transfers.date')}</option>\r\n                        <option value=\"amount\">{i18n.t('transfers.amount')}</option>\r\n                    </select>\r\n                    <input defaultValue={searchType === 'date' ? moment().format('yyyy-MM-DD') : ''} type={searchType === 'date' ? 'date' : 'text'} name=\"search\" ref={register({ required: true })} placeholder={i18n.t('transfers.searchPlaceholder')} className=\"strike-transfers__search-input\" />\r\n                    <button type=\"submit\" className=\"strike-transfers__search-button\">{i18n.t('transfers.search')}</button>\r\n                </form>\r\n                <Table items={transfers.data} />\r\n                <div className=\"strike-transfers__pagination\">\r\n                    <img onClick={prevPage} src={transfers.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-transfers__pagination-leftarrow' />\r\n                    {transfers && transfers.lastPage.map(item => {\r\n                        return <div onClick={() => number(item)} is-active={item === transfers.currentPage ? 'true' : 'false'} key={item} className=\"strike-transfers__pagination-number\">{item}</div>\r\n                    })}\r\n                    <img onClick={nextPage} src={transfers.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-transfers__pagination-rightarrow' />\r\n                </div>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ allTransfers, balanceDetails }) => ({ allTransfers, balanceDetails });\r\nconst mapDispatchToProps = { getBalanceDetails, getAllTransfers, searchTransfers };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Transfers));","import {\r\n    GET_ALL_TRANSFERS, GET_SELECTED_TRANSFERS, GET_BALANCE_DETAILS, IS_LOGGED_IN, SEARCH_TRANSFERS, TOGGLE_ERROR_MODAL\r\n} from '../actionTypes';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nexport const getAllTransfers = (limit, page) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.get(`transfers/paginate/${limit}?page=${page}`);\r\n        if (data.status === 200) {\r\n            dispatch({ type: GET_ALL_TRANSFERS, data: data.data })\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const searchTransfers = (type, text) => async (dispatch) => {\r\n    try {\r\n        let url = '';\r\n        if (type === 'amount') url = `/transfers/search/amount?amount=${parseInt(text)}`;\r\n        if (type === 'date') {\r\n            const day = moment(text).format('DD');\r\n            const month = moment(text).format('MM');\r\n            const year = moment(text).format('YYYY');\r\n            url = `/transfers/search/date?day=${parseInt(day)}&month=${parseInt(month)}&year=${parseInt(year)}`;\r\n        }\r\n        const { data } = await axios.post(url);\r\n        if (data.success) {\r\n            dispatch({ type: SEARCH_TRANSFERS, data: data.data })\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getTransfer = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/transfers/${id}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_SELECTED_TRANSFERS, data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getBalanceDetails = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get('/balance');\r\n        if (data.success) {\r\n            dispatch({ type: GET_BALANCE_DETAILS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}"],"sourceRoot":""}