(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[10],{214:function(e,t,a){"use strict";var r=a(0),c=a.n(r);a(215);t.a=function(e){return c.a.createElement("div",{className:"strike-wrapper"},e.children)}},215:function(e,t,a){},231:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return b}));var r=a(15),c=a.n(r),n=a(24),o=a(2),s=a(10),u=a.n(s),i=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(r){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.get("/products/paginate/".concat(e,"?page=").concat(t));case 3:200===(n=a.sent).status?r({type:o.j,data:n.data}):403===n.code?(r({type:o.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):r({type:o.ab,data:n.message}),a.next=10;break;case 7:return a.prev=7,a.t0=a.catch(0),a.abrupt("return",Promise.reject(a.t0));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/products/search?name=".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:o.W,data:n.data}):403===n.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:o.ab,data:n.message}),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:o.x,data:n.data}):403===n.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:o.x,data:{error:n.error}}),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,s,i,l,d,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,s=e.price,i=e.size,l=e.history,t.next=4,u.a.post("/products",{name:r,description:n,price:s,size:i});case 4:d=t.sent,(p=d.data).success?l.goBack():403===p.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:o.ab,data:p.message}),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,s,i,l,d,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,s=e.size,i=e.id,l=e.history,t.next=4,u.a.put("/products/".concat(i),{name:r,description:n,size:s});case 4:d=t.sent,(p=d.data).success?(a({type:o.db,data:p}),l.goBack()):403===p.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:o.ab,data:p.message}),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.delete("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?window.location.reload():403===n.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:o.ab,data:n.error}),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="",e.forEach((function(e){r=""===r?"product_ids[]=".concat(e):"".concat(r,"&product_ids[]=").concat(e)})),t.next=5,u.a.delete("/products?".concat(r));case 5:n=t.sent,(s=n.data).success?window.location.reload():403===s.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:o.ab,data:s.message}),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},232:function(e,t,a){},313:function(e,t,a){"use strict";var r=a(314),c={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var a,n,o,s,u,i,l=!1;t||(t={}),a=t.debug||!1;try{if(o=r(),s=document.createRange(),u=document.getSelection(),(i=document.createElement("span")).textContent=e,i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var n=c[t.format]||c.default;window.clipboardData.setData(n,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(i),s.selectNodeContents(i),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(d){a&&console.error("unable to copy using execCommand: ",d),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(d){a&&console.error("unable to copy using clipboardData: ",d),a&&console.error("falling back to prompt"),n=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),i&&document.body.removeChild(i),o()}return l}},314:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],r=0;r<e.rangeCount;r++)a.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},794:function(e,t,a){"use strict";a.r(t);var r=a(16),c=a(0),n=a.n(c),o=a(6),s=a(203),u=a(214),i=a(32),l=a(5),d=(a(232),a(231)),p=a(228),m=Object(c.createContext)(null),f=a(255),b=(a(69),a(313)),v=a.n(b),h=function(e){var t=e.item,a=e.deleteProduct,o=window.location.host,u=Object(c.useContext)(m),d=u.selected,p=u.setSelected,b=(u.selectedAll,Object(s.e)()),h=i.a.products.threePoints,k=Object(c.useState)("".concat(o,"/add-order/").concat(t.id)),g=Object(r.a)(k,2),y=g[0],x=(g[1],Object(c.useState)(t.checked)),_=Object(r.a)(x,2),E=_[0],j=_[1],w=Object(c.useState)(!1),C=Object(r.a)(w,2),P=C[0],N=C[1],O=Object(c.useCallback)((function(){N(!P)}),[P]),A=Object(c.useCallback)((function(){b.push("/edit-product",{id:t.id})}),[]),S=Object(c.useCallback)((function(){a(t.id)}),[]);return Object(c.useEffect)((function(){if(E)p([].concat(Object(f.a)(d),[t.id]));else if(!E){var e=d.filter((function(e){return e!==t.id}));p(e)}}),[E]),Object(c.useEffect)((function(){0===d.filter((function(e){return e===t.id})).length?j(!1):j(!0)}),[d]),n.a.createElement("div",{className:"strike-products__table-item"},n.a.createElement("div",{className:"strike-products__table-item-content flex-1"},n.a.createElement("input",{type:"checkbox",onChange:function(){return j(!E)},value:E,checked:E})),n.a.createElement("div",{onClick:A,className:"strike-products__table-item-content flex-1"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},t.id)),n.a.createElement("div",{onClick:A,className:"strike-products__table-item-content flex-3"},n.a.createElement("div",{className:"strike-products__table-item-content-text ml-15"},t.name)),n.a.createElement("div",{onClick:A,"is-responsive":"true",className:"strike-products__table-item-content flex-3"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},t.description)),n.a.createElement("div",{onClick:A,className:"strike-products__table-item-content flex-15"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},"".concat(t.price,"\u20ac"))),n.a.createElement("div",{"is-responsive":"true",onClick:O,className:"strike-products__table-item-content flex-15 text-center"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("img",{className:"strike-products__table-item-content-points",src:h}),n.a.createElement("div",{id:"dropdown-content",className:"dropdown-content"},n.a.createElement("div",{onClick:function(){return v()(y)},className:"dropdown-content-text"},l.a.t("products.copyLink")),n.a.createElement("div",{onClick:A,className:"dropdown-content-text"},l.a.t("products.edit")),n.a.createElement("div",{onClick:S,className:"dropdown-content-text"},l.a.t("products.delete"))))))},k=function(e){var t=e.items,a=e.deleteProduct,r=Object(c.useContext)(m),o=r.selectedAll,s=r.selectAll,u=Object(c.useCallback)((function(){s(!o)}),[o]);return n.a.createElement("div",{className:"strike-products__table"},n.a.createElement("div",{className:"strike-products__table-header"},n.a.createElement("div",{className:"strike-products__table-header-item flex-1"},n.a.createElement("input",{type:"checkbox",onChange:u,value:o,checked:o})),n.a.createElement("div",{className:"strike-products__table-header-item flex-1"},l.a.t("products.id")),n.a.createElement("div",{className:"strike-products__table-header-item flex-3"},l.a.t("products.product")),n.a.createElement("div",{"is-responsive":"true",className:"strike-products__table-header-item flex-3"},l.a.t("products.description")),n.a.createElement("div",{className:"strike-products__table-header-item flex-15"},l.a.t("products.price")),n.a.createElement("div",{"is-responsive":"true",className:"strike-products__table-header-item flex-15 text-center"},l.a.t("products.actions"))),t&&t.map((function(e,t){return n.a.createElement(h,{key:t,item:e,deleteProduct:a})})))},g={getAllProducts:d.c,deleteProduct:d.a,searchProducts:d.f,deleteProducts:d.b};t.default=Object(o.b)((function(e){return{allProducts:e.allProducts,deletedProduct:e.deletedProduct}}),g)(Object(s.g)((function(e){var t=i.a.customers,a=t.filledLeftArrow,o=t.unfilledLeftArrow,s=t.filledRightArrow,d=t.unfilledRightArrow,f=Object(c.useState)(e.allProducts),b=Object(r.a)(f,2),v=b[0],h=b[1],g=Object(c.useState)([]),y=Object(r.a)(g,2),x=y[0],_=y[1],E=Object(c.useState)(!1),j=Object(r.a)(E,2),w=j[0],C=j[1],P=Object(p.a)(),N=P.register,O=P.handleSubmit;P.errors;Object(c.useEffect)((function(){e.getAllProducts(10,1)}),[]),Object(c.useEffect)((function(){e.deletedProduct&&window.location.reload()}),[e.deletedProduct]),Object(c.useEffect)((function(){h(e.allProducts),C(!1),_([])}),[e.allProducts]),Object(c.useEffect)((function(){if(w){var e=[];v.data.forEach((function(t){e.push(t.id)})),_(e)}else _([])}),[w]);var A=Object(c.useCallback)((function(){v.hasNextPage&&e.getAllProducts(10,v.currentPage+1)}),[v]),S=Object(c.useCallback)((function(){v.hasPrevPage&&e.getAllProducts(10,v.currentPage-1)}),[v]),D=Object(c.useCallback)((function(t){e.getAllProducts(10,t)}),[v]),I=Object(c.useCallback)((function(){e.history.push("/add-product")}),[]);return n.a.createElement(m.Provider,{value:{selected:x,setSelected:_,selectedAll:w,selectAll:C}},n.a.createElement(u.a,null,n.a.createElement("div",{className:"strike-products"},n.a.createElement("div",{className:"strike-products__header"},n.a.createElement("div",{className:"strike-products__header-left"},n.a.createElement("div",{className:"strike-products__header-left-title"},l.a.t("products.products"))),n.a.createElement("div",{className:"strike-products__header-right"},n.a.createElement("div",{onClick:I,className:"strike-products__header-right-text"},l.a.t("products.addProduct")))),n.a.createElement("form",{onSubmit:O((function(t){var a=t.search;e.searchProducts(a)})),className:"strike-products__search"},n.a.createElement("input",{name:"search",ref:N({required:!0}),placeholder:l.a.t("products.searchPlaceholder"),className:"strike-products__search-input"}),n.a.createElement("button",{type:"submit",className:"strike-products__search-button"},l.a.t("products.search"))),n.a.createElement(k,{items:v.data,deleteProduct:e.deleteProduct}),n.a.createElement("div",{className:"strike-products__pagination"},n.a.createElement("img",{onClick:S,src:v.hasPrevPage?a:o,className:"strike-products__pagination-leftarrow"}),v&&v.lastPage.map((function(e){return n.a.createElement("div",{onClick:function(){return D(e)},"is-active":e===v.currentPage?"true":"false",key:e,className:"strike-products__pagination-number"},e)})),n.a.createElement("img",{onClick:A,src:v.hasNextPage?s:d,className:"strike-products__pagination-rightarrow"})),n.a.createElement("button",{onClick:function(){e.deleteProducts(x),C(!1),_([])},disabled:!x.length,className:"strike-products__delete-selected"},l.a.t("products.deleteProducts")))))})))}}]);
//# sourceMappingURL=10.a3d1c7f9.chunk.js.map