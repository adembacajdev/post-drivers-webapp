(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[13],{1152:function(e,t,a){"use strict";a.r(t);var r=a(282),n=a(16),c=a(0),o=a.n(c),s=(a(246),a(216)),d=a(204),u=a(8),i=a(5),p=a(225),l=a(237),m=a(490),f=a.n(m),b=a(595),k=(a(491),{updateProduct:l.g,getProduct:l.d,deleteProduct:l.a});t.default=Object(u.b)((function(e){return{product:e.product}}),k)(Object(d.g)((function(e){var t=window.location.host,a=Object(c.useState)("".concat(t,"/add-order/").concat(e.location.state.id)),d=Object(n.a)(a,2),u=d[0],l=(d[1],Object(c.useState)({name:"",decription:"",size:"",openable:"",ks_price:"",al_price:"",mk_price:""})),m=Object(n.a)(l,2),k=m[0],_=m[1],h=Object(p.a)(),v=h.register,y=h.handleSubmit,j=(h.watch,h.errors);Object(c.useEffect)((function(){e.getProduct(e.location.state.id)}),[]),Object(c.useEffect)((function(){_(e.product)}),[e.product]);var g=Object(c.useCallback)((function(){e.deleteProduct(e.location.state.id),e.history.goBack()}),[]);return o.a.createElement(s.a,null,o.a.createElement("div",{className:"strike-addproduct"},o.a.createElement("div",{className:"strike-addproduct__title"},i.a.t("addProductForm.editProduct")),o.a.createElement("div",{className:"strike-addproduct__form"},o.a.createElement("form",{onSubmit:y((function(t){var a=t.name,r=t.description,n=t.size,c=t.ks_price,o=t.al_price,s=t.mk_price,d=t.openable,u=e.location.state.id;""!==a&&""!==r&&""!==n&&""!==c&&""!==o&&""!==s&&""!==d&&e.updateProduct({name:a,description:r,size:n,ks_price:c,al_price:o,mk_price:s,openable:d,id:u,history:e.history})}))},o.a.createElement("div",{className:"strike-addproduct__form-label"},i.a.t("addProductForm.productId")),o.a.createElement("input",{disabled:!0,defaultValue:k&&k.id,"has-error":j.product_id?"true":"false",name:"product_id",ref:v({required:!1}),className:"strike-addproduct__form-input",placeholder:i.a.t("addProductForm.productId")}),o.a.createElement("div",{className:"strike-addproduct__form-label"},i.a.t("addProductForm.name")),o.a.createElement("input",{defaultValue:k&&k.name,"has-error":j.name?"true":"false",name:"name",ref:v({required:!0}),className:"strike-addproduct__form-input",placeholder:i.a.t("addProductForm.name")}),o.a.createElement("div",{className:"strike-addproduct__form-label"},i.a.t("addProductForm.description")),o.a.createElement("input",{defaultValue:k&&k.description,"has-error":j.description?"true":"false",name:"description",ref:v({required:!0}),className:"strike-addproduct__form-input",placeholder:i.a.t("addProductForm.description")}),o.a.createElement("div",{className:"strike-addproduct__form-label"},i.a.t("addProductForm.price")),o.a.createElement("div",{className:"strike-addproduct__form-input-multiple"},o.a.createElement("div",{className:"strike-addproduct__form-input-multiple-item"},o.a.createElement("div",{className:"strike-addproduct__form-input-multiple-item-label"},i.a.t("addProductForm.ks")),o.a.createElement("input",{defaultValue:k&&k.ks_price,disabled:!0,"has-error":j.ks_price?"true":"false",name:"ks_price",ref:v({required:!0}),className:"strike-addproduct__form-input-multiple-item-input",placeholder:i.a.t("addProductForm.price")})),o.a.createElement("div",{className:"strike-addproduct__form-input-multiple-item ml-15"},o.a.createElement("div",{className:"strike-addproduct__form-input-multiple-item-label"},i.a.t("addProductForm.al")),o.a.createElement("input",{defaultValue:k&&k.al_price,disabled:!0,"has-error":j.al_price?"true":"false",name:"al_price",ref:v({required:!0}),className:"strike-addproduct__form-input-multiple-item-input",placeholder:i.a.t("addProductForm.price")})),o.a.createElement("div",{className:"strike-addproduct__form-input-multiple-item ml-15"},o.a.createElement("div",{className:"strike-addproduct__form-input-multiple-item-label"},i.a.t("addProductForm.mk")),o.a.createElement("input",{defaultValue:k&&k.mk_price,disabled:!0,"has-error":j.mk_price?"true":"false",name:"mk_price",ref:v({required:!0}),className:"strike-addproduct__form-input-multiple-item-input",placeholder:i.a.t("addProductForm.price")}))),o.a.createElement("div",{className:"strike-addproduct__form-label"},i.a.t("addProductForm.openable")),o.a.createElement("select",{value:k?k.openable:"",onChange:function(e){return _(Object(r.a)(Object(r.a)({},k),{},{openable:e.target.value}))},"has-error":j.openable?"true":"false",name:"openable",ref:v({required:!0}),className:"strike-addproduct__form-input"},o.a.createElement("option",{value:!0},i.a.t("addProductForm.true")),o.a.createElement("option",{value:!1},i.a.t("addProductForm.false"))),o.a.createElement("div",{className:"strike-addproduct__form-label"},i.a.t("addProductForm.size")),o.a.createElement("select",{disabled:!0,onChange:function(e){return _(Object(r.a)(Object(r.a)({},k),{},{size:e.target.value}))},ref:v({required:!0}),value:k?k.size:"","has-error":j.size?"true":"false",name:"size",className:"strike-addproduct__form-input"},o.a.createElement("option",{value:"small"},i.a.t("addProductForm.small")),o.a.createElement("option",{value:"medium"},i.a.t("addProductForm.medium")),o.a.createElement("option",{value:"large"},i.a.t("addProductForm.large"))),o.a.createElement("button",{className:"strike-addproduct__form-button"},i.a.t("addProductForm.editProduct"))),o.a.createElement("button",{onClick:function(){return e.history.push("/add-order-by-shop",{id:e.location.state.id})},className:"strike-addproduct__form-button"},i.a.t("products.addOrder")),o.a.createElement("button",{onClick:function(){b.a.notify("Link copied!",{position:"bottom-right"}),f()(u)},className:"strike-addproduct__form-button"},i.a.t("products.copyLink")),o.a.createElement("button",{onClick:g,className:"strike-addproduct__form-button"},i.a.t("products.delete")))))})))},216:function(e,t,a){"use strict";var r=a(0),n=a.n(r);a(217);t.a=function(e){return n.a.createElement("div",{className:"strike-wrapper"},e.children)}},217:function(e,t,a){},237:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return l})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return b}));var r=a(15),n=a.n(r),c=a(24),o=a(1),s=a(10),d=a.n(s),u=function(e,t){return function(){var a=Object(c.a)(n.a.mark((function a(r){var c;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.get("/products/paginate/".concat(e,"?page=").concat(t));case 3:200===(c=a.sent).status?r({type:o.j,data:c.data}):403===c.code?(r({type:o.I,data:!1}),localStorage.removeItem("token"),d.a.defaults.headers.common["Content-Type"]="applicaton/json",d.a.defaults.headers.common.Authorization=""):r({type:o.cb,data:c.message}),a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),401===a.t0.response.status&&(r({type:o.K}),r({type:o.I,data:!1}),r({type:o.a}),localStorage.clear()),a.abrupt("return",Promise.reject(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},i=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("/products/search?name=".concat(e));case 3:r=t.sent,(c=r.data).success?a({type:o.X,data:c.data}):403===c.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),d.a.defaults.headers.common["Content-Type"]="applicaton/json",d.a.defaults.headers.common.Authorization=""):a({type:o.cb,data:c.message}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===t.t0.response.status&&(a({type:o.K}),a({type:o.I,data:!1}),a({type:o.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/products/".concat(e));case 3:r=t.sent,(c=r.data).success?a({type:o.x,data:c.data}):403===c.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),d.a.defaults.headers.common["Content-Type"]="applicaton/json",d.a.defaults.headers.common.Authorization=""):a({type:o.x,data:{error:c.error}}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===t.t0.response.status&&(a({type:o.K}),a({type:o.I,data:!1}),a({type:o.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c,s,u,i,p,l,m,f,b,k;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("body",e),t.prev=1,r=e.name,c=e.description,s=e.size,u=e.ks_price,i=e.al_price,p=e.mk_price,l=e.openable,m=e.history,f=JSON.parse(l),t.next=6,d.a.post("/products",{name:r,description:c,size:s,ks_price:u,al_price:i,mk_price:p,openable:f});case 6:b=t.sent,(k=b.data).success?m.goBack():403===k.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),d.a.defaults.headers.common["Content-Type"]="applicaton/json",d.a.defaults.headers.common.Authorization=""):a({type:o.cb,data:k.message}),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(1),401===t.t0.response.status&&(a({type:o.K}),a({type:o.I,data:!1}),a({type:o.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c,s,u,i,p,l;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,c=e.description,s=e.size,u=e.id,i=e.history,t.next=4,d.a.put("/products/".concat(u),{name:r,description:c,size:s});case 4:p=t.sent,(l=p.data).success?(a({type:o.fb,data:l}),i.goBack()):403===l.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),d.a.defaults.headers.common["Content-Type"]="applicaton/json",d.a.defaults.headers.common.Authorization=""):a({type:o.cb,data:l.message}),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),401===t.t0.response.status&&(a({type:o.K}),a({type:o.I,data:!1}),a({type:o.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.delete("/products/".concat(e));case 3:r=t.sent,(c=r.data).success?window.location.reload():403===c.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),d.a.defaults.headers.common["Content-Type"]="applicaton/json",d.a.defaults.headers.common.Authorization=""):a({type:o.cb,data:c.error}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===t.t0.response.status&&(a({type:o.K}),a({type:o.I,data:!1}),a({type:o.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="",e.forEach((function(e){r=""===r?"product_ids[]=".concat(e):"".concat(r,"&product_ids[]=").concat(e)})),t.next=5,d.a.delete("/products?".concat(r));case 5:c=t.sent,(s=c.data).success?window.location.reload():403===s.code?(a({type:o.I,data:!1}),localStorage.removeItem("token"),d.a.defaults.headers.common["Content-Type"]="applicaton/json",d.a.defaults.headers.common.Authorization=""):a({type:o.cb,data:s.message}),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),401===t.t0.response.status&&(a({type:o.K}),a({type:o.I,data:!1}),a({type:o.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},246:function(e,t,a){},282:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(27);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}}}]);
//# sourceMappingURL=13.b9f01715.chunk.js.map