{"version":3,"sources":["containers/wrapper/Wrapper.jsx","pages/orders/AddOrderByShop.jsx"],"names":["Wrapper","props","className","children","timeout","mapDispatchToProps","getProduct","postOrderByShop","connect","product","withRouter","useState","data","setData","useForm","register","handleSubmit","errors","country","setCountry","latitudeMarker","setLatitudeMarker","longitudeMarker","setLongitudeMarker","width","height","latitude","longitude","zoom","viewPort","setViewPort","useEffect","location","state","id","console","log","orderPosted","setTimeout","window","reload","i18n","t","onSubmit","product_id","description","first_name","last_name","city","address","building","prefix","phone","body","history","style","fontSize","color","error","onChange","e","onkeyup","clearTimeout","a","target","name","value","length","defaultValue","has-error","ref","required","placeholder","disabled","ks_price","href","locations","cities","map","item","index","key","maxZoom","mapStyle","mapboxApiAccessToken","onViewportChange","viewport","offsetLeft","offsetTop","draggable","onDragStart","event","lngLat","onDragEnd","src","images","orders","pin","alt","type"],"mappings":"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","file":"static/js/23.dadc8a36.chunk.js","sourcesContent":["import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","import React, { useEffect, useState } from 'react';\nimport './addOrderByShop.scss';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport i18n from '../../services/locales/i18n';\nimport { useForm } from \"react-hook-form\";\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport cities from '../../services/constants/Cities';\nimport locations from '../../services/constants/Locations';\nimport { getProduct } from '../../store/actions/products';\nimport images from '../../assets/images';\nimport { postOrderByShop } from '../../store/actions/orders';\n\nvar timeout = null;\n\nconst AddOrderByShop = (props) => {\n    const [data, setData] = useState([]);\n    const { register, handleSubmit, errors } = useForm();\n    const [country, setCountry] = useState('Kosovë');\n    const [tooltipOpen, setTooltipOpen] = useState(false);\n    const [latitudeMarker, setLatitudeMarker] = useState(42.66758079200047);\n    const [longitudeMarker, setLongitudeMarker] = useState(21.165194013322285);\n    const [viewPort, setViewPort] = useState({ width: 1200, height: 600, latitude: 42.66758079200047, longitude: 21.165194013322285, zoom: 14, })\n\n    const onDragStart = (event) => { const { lngLat } = event }\n    const onDragEnd = (event) => { setLatitudeMarker(event.lngLat[1]); setLongitudeMarker(event.lngLat[0]); }\n    const toggle = () => setTooltipOpen(!tooltipOpen);\n\n    const handleSelectCountry = (e) => {\n        setCountry(e.target.value);\n        setLatitudeMarker(locations[e.target.value][0]);\n        setLongitudeMarker(locations[e.target.value][1]);\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\n    }\n    const handleSelectCity = (e) => {\n        setLatitudeMarker(locations[e.target.value][0]);\n        setLongitudeMarker(locations[e.target.value][1]);\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\n    }\n\n    const onSubmit = ({ product_id, description, first_name, last_name, country, city, address, building, prefix, phone }) => {\n        const body = {\n            product_id, description, first_name, last_name, phone: `${prefix}${phone}`, country, city, address, building,\n            latitude: latitudeMarker, longitude: longitudeMarker\n        }\n        props.postOrderByShop(body, props.history);\n    }\n\n    useEffect(() => {\n        props.location.state?.id ? props.getProduct(props.location.state.id) : console.log('no id')\n    }, [props.location.state.id])\n\n    const handleIdChange = (e) => {\n        window.onkeyup = (e) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(async () => {\n                if (e.target.name === 'product_id' && e.target.value.length === 6) {\n                    props.getProduct(e.target.value);\n                }\n            }, 500)\n        }\n    }\n\n    useEffect(() => {\n        if (props.orderPosted) {\n            setTimeout(() => {\n                window.location.reload();\n            }, 1000)\n        }\n    }, [props.orderPosted]);\n\n    useEffect(() => {\n        setData(props.product)\n    }, [props.product])\n\n\n    return (\n        <Wrapper>\n            <div className=\"strike-addorderbyshop\">\n                <div className=\"strike-addorderbyshop__title\">{i18n.t('addProductForm.editProduct')}</div>\n                <div className=\"strike-addorderbyshop__form\">\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.productDetails')}</div>\n                        {props.product && <div style={{ fontSize: 10, color: 'red' }}>{data?.error}</div>}\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.productId')}</div>\n                        <input onChange={handleIdChange} defaultValue={props?.location?.state?.id} has-error={errors.product_id ? 'true' : 'false'} ref={register({ required: true })} name=\"product_id\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.productId')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.name')}</div>\n                        <input defaultValue={data?.name} disabled ref={register({ required: false })} name=\"name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.name')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.description')}</div>\n                        <input defaultValue={data?.description} disabled ref={register({ required: false })} name=\"firstDescription\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.description')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.price')}</div>\n                        <input defaultValue={data?.ks_price} disabled ref={register({ required: false })} name=\"price\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.price')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.additionalInfo')}</div>\n                        <input has-error={errors.description ? 'true' : 'false'} ref={register({ required: false })} name=\"description\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.exSizeColor')} />\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.yourInformation')}</div>\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.firstName')}</div>\n                        <input has-error={errors.first_name ? 'true' : 'false'} ref={register({ required: true })} name=\"first_name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.firstName')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.lastName')}</div>\n                        <input has-error={errors.last_name ? 'true' : 'false'} ref={register({ required: true })} name=\"last_name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.lastName')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.phone')}</div>\n                        <div className=\"flex-row\">\n                            <select name=\"prefix\" ref={register({ required: false })} className=\"strike-addorderbyshop__fields-row-form-input w-10\">\n                                <option value=\"383\">+383</option>\n                                <option value=\"355\">+355</option>\n                                <option value=\"389\">+389</option>\n                            </select>\n                            <input href=\"#\" id=\"TooltipExample\" has-error={errors.phone ? 'true' : 'false'} ref={register({ required: true })} name=\"phone\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.phone')} />\n                        </div>\n                        {/* <Tooltip placement=\"left\" isOpen={tooltipOpen} target=\"TooltipExample\" toggle={toggle}>{i18n.t('addOrder.receiveCode')}</Tooltip> */}\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.country')}</div>\n                        <select name=\"country\" has-error={errors.country ? 'true' : 'false'} ref={register({ required: true })} onChange={handleSelectCountry} className=\"strike-addorderbyshop__fields-row-form-input\">\n                            <option value=\"Kosovë\">{i18n.t('addOrder.kosovo')}</option>\n                            <option value=\"Shqipëri\">{i18n.t('addOrder.albania')}</option>\n                            <option value=\"Maqedoni e Veriut\">{i18n.t('addOrder.northMacedonia')}</option>\n                        </select>\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.city')}</div>\n                        <select onChange={handleSelectCity} name=\"city\" has-error={errors.city ? 'true' : 'false'} ref={register({ required: true })} className=\"strike-addorderbyshop__fields-row-form-input\">\n                            {cities[country].map((item, index) => {\n                                return <option key={index} value={item}>{item}</option>\n                            })}\n                        </select>\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.address')}</div>\n                        <input has-error={errors.address ? 'true' : 'false'} ref={register({ required: true })} name=\"address\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.address')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.building')}</div>\n                        <input has-error={errors.building ? 'true' : 'false'} ref={register({ required: false })} name=\"building\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.building')} />\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.putLocation')}</div>\n                        <ReactMapGL\n                            {...viewPort}\n                            maxZoom={18}\n                            mapStyle={'mapbox://styles/mapbox/streets-v9'}\n                            // mapStyle={'mapbox://styles/mapbox/satellite-v9'}\n                            mapboxApiAccessToken={'pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q'}\n                            width={\"100%\"}\n                            height={400}\n                            onViewportChange={(viewport) => setViewPort(viewport)}>\n                            <Marker latitude={latitudeMarker} longitude={longitudeMarker} offsetLeft={-23} offsetTop={-46} draggable={true} onDragStart={onDragStart} onDragEnd={onDragEnd}>\n                                <div ><img src={images.orders.pin} width={46} height={46} alt=\"App Logo\" />\n                                </div>\n                            </Marker>\n                        </ReactMapGL>\n                        <div className=\"strike-addorderbyshop__fields-footer\">\n                            <button type=\"submit\">{i18n.t('addOrder.button')}</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </Wrapper>\n    )\n}\n\nconst mapStateToProps = ({ product }) => ({ product });\nconst mapDispatchToProps = { getProduct, postOrderByShop };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(AddOrderByShop));"],"sourceRoot":""}