{"version":3,"sources":["pages/orders/Context.jsx","pages/orders/TableItem.jsx","pages/orders/Table.jsx","pages/orders/Orders.jsx"],"names":["Context","createContext","TableItem","newStatus","statusColor","id","serial_number","status","updated_at","deleteItem","price","client","item","printOne","useContext","selected","setSelected","useState","checked","setChecked","history","useHistory","threePoints","images","orders","date","moment","format","time","navigate","useCallback","push","useEffect","deletedCheck","filter","el","length","className","onChange","value","type","onClick","is-responsive","first_name","city","src","localStorage","setItem","window","open","location","host","i18n","t","Table","items","selectedAll","selectAll","selectAllOrders","tableArrow","style","marginLeft","map","index","key","mapDispatchToProps","getAllOrders","deleteOrder","printOneOrder","getOrdersPaginated","searchOrders","printSelectedOrders","deleteOrders","connect","allOrders","ordersPaginated","deletedOrder","printOrder","withRouter","props","title","setTitle","setOrders","searchSelect","setSearchSelect","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","useForm","register","handleSubmit","errors","state","reload","newArray","data","forEach","elem","nextPage","hasNextPage","currentPage","prevPage","hasPrevPage","number","page","handleSearchSelect","e","target","Provider","onSubmit","search","defaultValue","name","ref","required","placeholder","lastPage","is-active","disabled","stringSelected","JSON","stringify"],"mappings":"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","file":"static/js/33.2dbf6de0.chunk.js","sourcesContent":["import React,{createContext} from 'react';\r\n\r\nconst Context = createContext(null);\r\n\r\nexport default Context;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport moment from 'moment';\r\nimport Context from './Context';\r\nimport { useCallback } from 'react';\r\n\r\nconst TableItem = ({ id, serial_number, status, updated_at, deleteItem, price, client, printOne, item }) => {\r\n    const { selected, setSelected } = useContext(Context);\r\n    const [checked, setChecked] = useState(false)\r\n    const history = useHistory();\r\n    const { threePoints } = images.orders;\r\n    const date = moment(updated_at).format('DD/MM/YYYY');\r\n    const time = moment(updated_at).format('HH:mm:ss');\r\n\r\n    let newStatus;\r\n    let statusColor;\r\n    switch (status) {\r\n        case 'pending':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'ongoing':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'cancelled':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'completed':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'archived':\r\n            newStatus = 'archived';\r\n            statusColor = 'archived';\r\n            break;\r\n        case 'archived:cancelled':\r\n            newStatus = 'cancelled';\r\n            statusColor = 'archived';\r\n            break;\r\n        case 'archived:completed':\r\n            newStatus = 'completed';\r\n            statusColor = 'archived';\r\n            break;\r\n    }\r\n\r\n    const deleteThisItem = () => deleteItem(id);\r\n    const navigate = useCallback(() => { history.push('/order', { id }) }, [item.id])\r\n    const printOrder = () => {\r\n        localStorage.setItem('printOne', id)\r\n        window.open(`http://${window.location.host}/print/one`, 'Print Orders') //this should be https://\r\n    };\r\n    const check = () => setChecked(!checked);\r\n    useEffect(() => {\r\n        if (checked) setSelected([...selected, id])\r\n        else if (!checked) {\r\n            const deletedCheck = selected.filter(el => el !== id);\r\n            setSelected(deletedCheck);\r\n        }\r\n    }, [checked]);\r\n\r\n    useEffect(() => {\r\n        const iAmSelected = selected.filter(item => item === id);\r\n        if (iAmSelected.length === 0) { setChecked(false) }\r\n        else { setChecked(true) }\r\n    }, [selected])\r\n    return (\r\n        <div className=\"strike-orders__table-item\">\r\n            <div className=\"strike-orders__table-item-container\">\r\n                <input onChange={check} value={checked} checked={checked} className=\"strike-orders__table-item-container-checkbox\" type=\"checkbox\" />\r\n                <div className=\"strike-orders__table-item-container-text\">{serial_number}</div>\r\n            </div>\r\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\r\n                <div className={statusColor} />\r\n                <div className=\"strike-orders__table-item-container-text\">{newStatus}</div>\r\n            </div>\r\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{price}â‚¬</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{date}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{time}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{client.first_name}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\r\n                <div className=\"strike-orders__table-item-container-text\">{client.city}</div>\r\n            </div>\r\n            <div is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\r\n                <div className=\"dropdown\">\r\n                    <img className=\"strike-orders__table-item-container-dots\" src={threePoints} />\r\n                    <div className=\"dropdown-content\">\r\n                        <div onClick={printOrder} className=\"dropdown-content-text\">{i18n.t('orders.print')}</div>\r\n                        <div onClick={deleteThisItem} className=\"dropdown-content-text\">{i18n.t('orders.delete')}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TableItem;","import React from 'react';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport TableItem from './TableItem';\r\nimport Context from './Context';\r\nimport { useContext, useCallback } from 'react';\r\n\r\nconst Table = ({ items, deleteItem, printOne }) => {\r\n    const { selectedAll, selectAll } = useContext(Context);\r\n    const { tableArrow } = images.orders;\r\n    const selectAllOrders = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\r\n    return (\r\n        <div className=\"strike-orders__table\">\r\n            <div className=\"strike-orders__table-header\">\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <input type=\"checkbox\" onChange={selectAllOrders} value={selectedAll} checked={selectedAll} />\r\n                    <div style={{marginLeft: 15}} className=\"strike-orders__table-header-item-text\">{i18n.t('orders.serialNumber')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.status')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.unitedPrice')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.date')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.time')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.customerName')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.city')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.actions')}</div>\r\n                </div>\r\n            </div>\r\n            {items && items.map((item, index) => {\r\n                return <TableItem item={item} printOne={printOne} deleteItem={deleteItem} {...item} key={index} />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport {\r\n    getAllOrders, deleteOrder, printOneOrder, getOrdersPaginated, searchOrders, printSelectedOrders, deleteOrders\r\n} from '../../store/actions/orders';\r\nimport { useForm } from \"react-hook-form\";\r\nimport Context from './Context';\r\nimport Table from './Table';\r\nimport moment from 'moment';\r\n\r\nconst Orders = (props) => {\r\n    const [title, setTitle] = useState(i18n.t('orders.allOrders'));\r\n    const [orders, setOrders] = useState(props.ordersPaginated);\r\n    const [selected, setSelected] = useState([]);\r\n    const [selectedAll, selectAll] = useState(false)\r\n    const [searchSelect, setSearchSelect] = useState('serial_number');\r\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.orders;\r\n\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const onSubmit = ({ type, search }) => { props.searchOrders(type, search); };\r\n\r\n    useEffect(() => {\r\n        props.getOrdersPaginated(10, 1)\r\n        if (props.location.state && props.location.state.title) setTitle(props.location.state.title);\r\n    }, [])\r\n    useEffect(() => { if (props.deletedOrder) window.location.reload() }, [props.deletedOrder])\r\n    useEffect(() => {\r\n        setOrders(props.ordersPaginated);\r\n        selectAll(false);\r\n        setSelected([])\r\n    }, [props.ordersPaginated]);\r\n    useEffect(() => {\r\n        if (selectedAll) {\r\n            let newArray = [];\r\n            orders.data.forEach(elem => {\r\n                newArray.push(elem.id)\r\n            })\r\n            setSelected(newArray)\r\n        } else {\r\n            setSelected([])\r\n        }\r\n    }, [selectedAll])\r\n\r\n    const deleteSelectedOrders = () => {\r\n        props.deleteOrders(selected);\r\n        selectAll(false);\r\n        setSelected([]);\r\n    }\r\n    const printSelectedOrd = () => {\r\n        const stringSelected = JSON.stringify(selected);\r\n        localStorage.setItem('printMultiple', stringSelected);\r\n        window.open(`http://${window.location.host}/print/multiple`, 'Print Orders') //this should be https://\r\n    }\r\n\r\n    const nextPage = useCallback(() => { if (orders.hasNextPage) props.getOrdersPaginated(10, orders.currentPage + 1) }, [orders]);\r\n    const prevPage = useCallback(() => { if (orders.hasPrevPage) props.getOrdersPaginated(10, orders.currentPage - 1) }, [orders]);\r\n    const number = useCallback((page) => { props.getOrdersPaginated(10, page) }, [orders]);\r\n\r\n    const handleSearchSelect = useCallback((e) => { setSearchSelect(e.target.value) }, [searchSelect]);\r\n\r\n    return (\r\n        <Context.Provider value={{ selected, setSelected, selectedAll, selectAll }}>\r\n            <Wrapper>\r\n                <div className=\"strike-orders\">\r\n                    <div className=\"strike-orders__header\">\r\n                        <div className=\"strike-orders__header-left\">\r\n                            <div className=\"strike-orders__header-left-text\">{title}</div>\r\n                        </div>\r\n                        <div className=\"strike-orders__header-right\">\r\n                        </div>\r\n                    </div>\r\n                    <form onSubmit={handleSubmit(onSubmit)} className=\"strike-orders__search\">\r\n                        <select defaultValue={searchSelect} onChange={handleSearchSelect} name=\"type\" ref={register({ required: true })} className=\"strike-orders__search-select\">\r\n                            <option value=\"serial_number\">{i18n.t('orders.serialNumber')}</option>\r\n                            <option value=\"customer_name\">{i18n.t('orders.customerName')}</option>\r\n                            <option value=\"city\">{i18n.t('orders.city')}</option>\r\n                            <option value=\"status\">{i18n.t('orders.status')}</option>\r\n                            <option value=\"date\">{i18n.t('orders.date')}</option>\r\n                        </select>\r\n                        <input defaultValue={searchSelect === 'date' ? moment().format('yyyy-MM-DD') : ''} type={searchSelect === 'date' ? 'date' : 'text'} name=\"search\" ref={register({ required: true })} placeholder={i18n.t('orders.searchPlaceholder')} className=\"strike-orders__search-input\" />\r\n                        <button type=\"submit\" className=\"strike-orders__search-button\">{i18n.t('orders.search')}</button>\r\n                    </form>\r\n                    <Table printOne={props.printOneOrder} deleteItem={props.deleteOrder} items={orders?.data} />\r\n                    <div className=\"strike-orders__pagination\">\r\n                        <img onClick={prevPage} src={orders.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-orders__pagination-leftarrow' />\r\n                        {orders && orders.lastPage.map(item => {\r\n                            return <div onClick={() => number(item)} is-active={item === orders.currentPage ? 'true' : 'false'} key={item} className=\"strike-orders__pagination-number\">{item}</div>\r\n                        })}\r\n                        <img onClick={nextPage} src={orders.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-orders__pagination-rightarrow' />\r\n                    </div>\r\n                    <div className=\"strike-orders__footerbuttons\">\r\n                        <button onClick={deleteSelectedOrders} disabled={selected.length ? false : true} className=\"strike-orders__delete-selected\">{i18n.t('orders.deleteOrders')}</button>\r\n                        <button onClick={printSelectedOrd} disabled={selected.length ? false : true} className=\"strike-orders__print-selected\">{i18n.t('orders.printSelected')}</button>\r\n                    </div>\r\n                </div>\r\n            </Wrapper>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({\r\n    allOrders, ordersPaginated, deletedOrder, printOrder\r\n}) => ({\r\n    allOrders, ordersPaginated, deletedOrder, printOrder\r\n});\r\nconst mapDispatchToProps = {\r\n    getAllOrders, deleteOrder, printOneOrder, getOrdersPaginated, searchOrders, printSelectedOrders, deleteOrders\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Orders));"],"sourceRoot":""}