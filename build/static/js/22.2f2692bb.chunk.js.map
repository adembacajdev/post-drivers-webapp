{"version":3,"sources":["containers/wrapper/Wrapper.jsx","pages/statistics/Statistics.jsx","store/actions/statistics.jsx"],"names":["Wrapper","props","className","children","mapDispatchToProps","getDailyEarnings","month","dispatch","a","uri","axios","get","data","success","type","GET_DAILY_EARNINGS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","error","Promise","reject","getDailyOrders","GET_DAILY_ORDERS","getDailyCities","GET_CITIES_STATISTICS","connect","dailyEarnings","dailyOrders","dailyCities","withRouter","useEffect","i18n","t","onChange","e","target","value","height","options"],"mappings":"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","file":"static/js/22.2f2692bb.chunk.js","sourcesContent":["import React from 'react';\r\nimport './wrapper.scss';\r\n\r\nconst Wrapper = (props) => {\r\n    return (\r\n        <div className=\"strike-wrapper\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './statistics.scss';\r\nimport { getDailyEarnings, getDailyOrders, getDailyCities } from '../../store/actions/statistics';\r\nimport { Line, Bar } from 'react-chartjs-2';\r\n\r\nconst Statistics = (props) => {\r\n    useEffect(() => {\r\n        props.getDailyEarnings();\r\n        props.getDailyOrders();\r\n        props.getDailyCities();\r\n    }, []);\r\n\r\n    const handleEarningsMonth = (e) => { \r\n        if(e.target.value !== '0') props.getDailyEarnings(e.target.value);\r\n        else props.getDailyEarnings();\r\n     };\r\n    const handleOrdersMonth = (e) => { \r\n        if(e.target.value !== '0') props.getDailyOrders(e.target.value);\r\n        else props.getDailyOrders();\r\n     };\r\n\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-statistics\">\r\n                <div className=\"strike-statistics__header\">{i18n.t('statistics.title')}</div>\r\n                <div className=\"strike-statistics__chart\">\r\n                    <div className=\"strike-statistics__chart-header\">\r\n                        <div className=\"strike-statistics__chart-header-left\">\r\n                            <div className=\"strike-statistics__chart-header-left-text\">{i18n.t('statistics.earning')}</div>\r\n                        </div>\r\n                        <div className=\"strike-statistics__chart-header-right\">\r\n                            <select onChange={handleEarningsMonth}>\r\n                                <option value={0}>{i18n.t('statistics.selectPlaceholder')}</option>\r\n                                <option value={1}>{i18n.t('statistics.oneMonth')}</option>\r\n                                <option value={3}>{i18n.t('statistics.threeMonths')}</option>\r\n                                <option value={6}>{i18n.t('statistics.sixMonths')}</option>\r\n                                <option value={12}>{i18n.t('statistics.oneYear')}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"strike-statistics__chart-body\">\r\n                        <Line height={90} data={props.dailyEarnings && props.dailyEarnings.data} options={props.dailyEarnings && props.dailyEarnings.options} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"strike-statistics__chart\">\r\n                    <div className=\"strike-statistics__chart-header\">\r\n                        <div className=\"strike-statistics__chart-header-left\">\r\n                            <div className=\"strike-statistics__chart-header-left-text\">{i18n.t('statistics.orders')}</div>\r\n                        </div>\r\n                        <div className=\"strike-statistics__chart-header-right\">\r\n                            <select onChange={handleOrdersMonth}>\r\n                                <option value={0}>{i18n.t('statistics.selectPlaceholder')}</option>\r\n                                <option value={1}>{i18n.t('statistics.oneMonth')}</option>\r\n                                <option value={3}>{i18n.t('statistics.threeMonths')}</option>\r\n                                <option value={6}>{i18n.t('statistics.sixMonths')}</option>\r\n                                <option value={12}>{i18n.t('statistics.oneYear')}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"strike-statistics__chart-body\">\r\n                        <Line height={90} data={props.dailyOrders && props.dailyOrders.data} options={props.dailyOrders && props.dailyOrders.options} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"strike-statistics__chart\">\r\n                    <div className=\"strike-statistics__chart-header\">\r\n                        <div className=\"strike-statistics__chart-header-left\">\r\n                            <div className=\"strike-statistics__chart-header-left-text\">{i18n.t('statistics.cities')}</div>\r\n                        </div>\r\n                        <div className=\"strike-statistics__chart-header-right\">\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"strike-statistics__chart-body\">\r\n                        <Bar height={90} data={props.dailyCities && props.dailyCities.data} options={props.dailyCities && props.dailyCities.options} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ dailyEarnings, dailyOrders, dailyCities }) => ({ dailyEarnings, dailyOrders, dailyCities });\r\nconst mapDispatchToProps = { getDailyEarnings, getDailyOrders, getDailyCities };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Statistics));","import { GET_DAILY_EARNINGS, GET_DAILY_ORDERS, IS_LOGGED_IN, TOGGLE_ERROR_MODAL, GET_CITIES_STATISTICS } from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getDailyEarnings = (month) => async (dispatch) => {\r\n    try {\r\n        let uri = '';\r\n        if(month) uri = `/statistics/earnings?months=${month}`;\r\n        else uri = '/statistics/earnings'\r\n        const { data } = await axios.get(uri);\r\n        if (data.success) {\r\n            dispatch({ type: GET_DAILY_EARNINGS, data: data.data });\r\n        }else if(data.code === 403){\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getDailyOrders = (month) => async (dispatch) => {\r\n    try {\r\n        let uri = '';\r\n        if(month) uri = `/statistics/orders?months=${month}`;\r\n        else uri = '/statistics/orders'\r\n        const { data } = await axios.get(uri);\r\n        if (data.success) {\r\n            dispatch({ type: GET_DAILY_ORDERS, data: data.data });\r\n        }else if(data.code === 403){\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getDailyCities = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get('/statistics/cities');\r\n        if (data.success) {\r\n            dispatch({ type: GET_CITIES_STATISTICS, data: data.data });\r\n        }else if(data.code === 403){\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}"],"sourceRoot":""}