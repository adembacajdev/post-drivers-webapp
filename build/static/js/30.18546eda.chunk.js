(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[30],{228:function(e,r,a){"use strict";a.d(r,"c",(function(){return s})),a.d(r,"f",(function(){return u})),a.d(r,"d",(function(){return l})),a.d(r,"e",(function(){return p})),a.d(r,"g",(function(){return m})),a.d(r,"a",(function(){return f})),a.d(r,"b",(function(){return v}));var t=a(15),n=a.n(t),o=a(24),d=a(1),c=a(10),i=a.n(c),s=function(e,r){return function(){var a=Object(o.a)(n.a.mark((function a(t){var o,c;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.get("/products/paginate/".concat(e,"?page=").concat(r));case 3:200===(o=a.sent).status?t({type:d.j,data:o.data}):403===o.code?(t({type:d.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):t({type:d.cb,data:o.message}),a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),401===(null===a.t0||void 0===a.t0||null===(c=a.t0.response)||void 0===c?void 0:c.status)&&(t({type:d.K}),t({type:d.I,data:!1}),t({type:d.a}),localStorage.clear()),a.abrupt("return",Promise.reject(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},u=function(e){return function(){var r=Object(o.a)(n.a.mark((function r(a){var t,o,c;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.a.post("/products/search?name=".concat(e));case 3:t=r.sent,(o=t.data).success?a({type:d.X,data:o.data}):403===o.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:o.message}),r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),401===(null===r.t0||void 0===r.t0||null===(c=r.t0.response)||void 0===c?void 0:c.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),r.abrupt("return",Promise.reject(r.t0));case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},l=function(e){return function(){var r=Object(o.a)(n.a.mark((function r(a){var t,o,c;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.a.get("/products/".concat(e));case 3:t=r.sent,(o=t.data).success?a({type:d.x,data:o.data}):403===o.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:d.x,data:{error:o.error}}),r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),401===(null===r.t0||void 0===r.t0||null===(c=r.t0.response)||void 0===c?void 0:c.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),r.abrupt("return",Promise.reject(r.t0));case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},p=function(e){return function(){var r=Object(o.a)(n.a.mark((function r(a){var t,o,c,s,u,l,p,m,f,v,h,w;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.name,o=e.description,c=e.size,s=e.ks_price,u=e.al_price,l=e.mk_price,p=e.openable,m=e.history,f=JSON.parse(p),r.next=5,i.a.post("/products",{name:t,description:o,size:c,ks_price:s,al_price:u,mk_price:l,openable:f});case 5:v=r.sent,(h=v.data).success?m.goBack():403===h.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:h.message}),r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),401===(null===r.t0||void 0===r.t0||null===(w=r.t0.response)||void 0===w?void 0:w.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),r.abrupt("return",Promise.reject(r.t0));case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e){return function(){var r=Object(o.a)(n.a.mark((function r(a){var t,o,c,s,u,l,p,m;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.name,o=e.description,c=e.size,s=e.id,u=e.history,r.next=4,i.a.put("/products/".concat(s),{name:t,description:o,size:c});case 4:l=r.sent,(p=l.data).success?(a({type:d.fb,data:p}),u.goBack()):403===p.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:p.message}),r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),401===(null===r.t0||void 0===r.t0||null===(m=r.t0.response)||void 0===m?void 0:m.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),r.abrupt("return",Promise.reject(r.t0));case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},f=function(e){return function(){var r=Object(o.a)(n.a.mark((function r(a){var t,o,c;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.a.delete("/products/".concat(e));case 3:t=r.sent,(o=t.data).success?window.location.reload():403===o.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:o.error}),r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),401===(null===r.t0||void 0===r.t0||null===(c=r.t0.response)||void 0===c?void 0:c.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),r.abrupt("return",Promise.reject(r.t0));case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},v=function(e){return function(){var r=Object(o.a)(n.a.mark((function r(a){var t,o,c,s;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t="",e.forEach((function(e){t=""===t?"product_ids[]=".concat(e):"".concat(t,"&product_ids[]=").concat(e)})),r.next=5,i.a.delete("/products?".concat(t));case 5:o=r.sent,(c=o.data).success?window.location.reload():403===c.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:c.message}),r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),401===(null===r.t0||void 0===r.t0||null===(s=r.t0.response)||void 0===s?void 0:s.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),r.abrupt("return",Promise.reject(r.t0));case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()}},317:function(e,r,a){"use strict";a.d(r,"a",(function(){return n}));var t=a(1),n=function(e){return function(r){r({type:t.cb,data:e})}}},374:function(e,r,a){"use strict";a.d(r,"a",(function(){return n}));var t=a(241),n=(t.b().shape({product_id:t.a().required(),name:t.c().required(),latitude:t.a().required(),longitude:t.a().required(),description:t.c().required(),first_name:t.c().required(),last_name:t.c().required(),phone:t.c().required().matches(/^\d{9}$/,"Phone number is not valid"),country:t.c().required(),city:t.c().required(),address:t.c().required(),building:t.c().required(),price:t.a().required(),additional_info:t.c().required()}),t.b().shape({email:t.c().required().matches(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,"Email is not valid"),password:t.c().required()}),t.b().shape({name:t.c().required(),description:t.c().required(),price:t.a().required(),size:t.c().required()}),t.b().shape({first_name:t.c().required(),last_name:t.c().required(),email:t.c().required().matches(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,"Email is not valid"),phone:t.c().required().matches(/^\d{9}$/,"Phone number is not valid")}),function(e,r){return"383"===e||"389"===e?8===r.length:"355"===e&&9===r.length})},507:function(e,r,a){},793:function(e,r,a){"use strict";a.r(r);var t=a(15),n=a.n(t),o=a(24),d=a(16),c=a(0),i=a.n(c),s=(a(507),a(203)),u=a(8),l=a(5),p=a(309),m=a(219),f=a(220),v=a(374),h=a(315),w=a(316),b=a(317),_=a(228),g=a(31),y=a(11),x=null,O={postOrder:f.l,toggleErrorModal:b.a,getProduct:_.d,sendCodeVerification:f.q};r.default=Object(u.b)((function(e){return{product:e.product,orderPosted:e.orderPosted}}),O)(Object(s.g)((function(e){var r=Object(c.useState)(!1),a=Object(d.a)(r,2),t=a[0],s=a[1],u=Object(c.useState)("4x xxx xxx"),f=Object(d.a)(u,2),b=f[0],_=f[1],O=g.a.logoWithoutText,E=Object(m.a)(),j=E.register,N=E.handleSubmit,k=E.errors,q=E.watch,S=e.match.params.productId,I=Object(c.useState)("Kosov\xeb"),z=Object(d.a)(I,2),P=z[0],T=z[1],C=Object(c.useState)(!1),A=Object(d.a)(C,2),K=(A[0],A[1],Object(c.useState)(42.66758079200047)),V=Object(d.a)(K,2),D=V[0],J=V[1],L=Object(c.useState)(21.165194013322285),Y=Object(d.a)(L,2),M=Y[0],$=Y[1],B=Object(c.useState)(!1),F=Object(d.a)(B,2),W=F[0],Q=(F[1],Object(c.useState)({width:1200,height:600,latitude:42.66758079200047,longitude:21.165194013322285,zoom:14})),G=Object(d.a)(Q,2),H=G[0],R=G[1];Object(c.useEffect)((function(){void 0===S||"undefined"===S||null===S?console.log("no id"):e.getProduct(S)}),[]);return Object(c.useEffect)((function(){e.orderPosted&&setTimeout((function(){window.location.reload()}),1e3)}),[e.orderPosted]),Object(c.useEffect)((function(){"383"===q("prefix")?_("4x xxx xxx"):"355"===q("prefix")?_("xx xxx xxxx"):"389"===q("prefix")?_("xxxxxxxx"):_("4x xxx xxx")}),[q("prefix")]),i.a.createElement("div",{className:"add-order"},i.a.createElement("div",{className:"add-order__navbar"},y.a.getShopName()),i.a.createElement("form",{onSubmit:N((function(r){var a=r.product_id,t=r.description,n=r.first_name,o=r.last_name,d=r.country,c=r.city,i=r.address,u=r.building,p=r.prefix,m=r.phone,f={product_id:a,description:t,first_name:n,last_name:o,phone:m,country:d,city:c,address:i,building:u,latitude:D,longitude:M};Object(v.a)(p,m)?(s(!0),e.postOrder(f,e.history)):(s(!1),e.toggleErrorModal(l.a.t("addOrder.invalidNumber")))})),className:"add-order__wrapper"},i.a.createElement("div",{className:"add-order__wrapper-row"},i.a.createElement("div",{"is-left":"true",className:"add-order__wrapper-row-column"},i.a.createElement("div",{className:"add-order__wrapper-row-column-title"},l.a.t("addOrder.productDetails")),e.product&&i.a.createElement("div",{style:{fontSize:10,color:"red"}},e.product&&e.product.error),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.productId")),i.a.createElement("input",{onChange:function(r){window.onkeyup=function(r){clearTimeout(x),x=setTimeout(Object(o.a)(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"product_id"===r.target.name&&6===r.target.value.length&&e.getProduct(r.target.value);case 1:case"end":return a.stop()}}),a)}))),500)}},defaultValue:S,"has-error":k.product_id?"true":"false",ref:j({required:!0}),name:"product_id",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.productId")}),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.name")),i.a.createElement("input",{defaultValue:e.product&&e.product.name,disabled:!0,ref:j({required:!1}),name:"name",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.name")}),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.description")),i.a.createElement("input",{defaultValue:e.product&&e.product.description,disabled:!0,ref:j({required:!1}),name:"firstDescription",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.description")}),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.price")),i.a.createElement("input",{defaultValue:e.product&&e.product.ks_price,disabled:!0,ref:j({required:!1}),name:"price",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.price")}),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.additionalInfo")),i.a.createElement("input",{"has-error":k.description?"true":"false",ref:j({required:!1}),name:"description",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.exSizeColor")})),i.a.createElement("div",{className:"add-order__wrapper-row-column"},i.a.createElement("div",{className:"add-order__wrapper-row-column-title"},l.a.t("addOrder.yourInformation")),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.firstName")),i.a.createElement("input",{"has-error":k.first_name?"true":"false",ref:j({required:!0}),name:"first_name",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.firstName")}),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.lastName")),i.a.createElement("input",{"has-error":k.last_name?"true":"false",ref:j({required:!0}),name:"last_name",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.lastName")}),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.phone")),i.a.createElement("div",{className:"flex-row"},i.a.createElement("select",{name:"prefix",ref:j({required:!1}),className:"add-order__wrapper-row-form-input w-10"},i.a.createElement("option",{value:"383"},"+383"),i.a.createElement("option",{value:"355"},"+355"),i.a.createElement("option",{value:"389"},"+389")),i.a.createElement("input",{href:"#",id:"TooltipExample","has-error":k.phone||W?"true":"false",ref:j({required:!0}),name:"phone",className:"add-order__wrapper-row-form-input",placeholder:b})),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.country")),i.a.createElement("select",{name:"country","has-error":k.country?"true":"false",ref:j({required:!0}),onChange:function(e){T(e.target.value),J(w.a[e.target.value][0]),$(w.a[e.target.value][1]),R({width:1200,height:600,latitude:w.a[e.target.value][0],longitude:w.a[e.target.value][1],zoom:14})},className:"add-order__wrapper-row-form-input"},i.a.createElement("option",{value:"Kosov\xeb"},l.a.t("addOrder.kosovo")),i.a.createElement("option",{value:"Shqip\xebri"},l.a.t("addOrder.albania")),i.a.createElement("option",{value:"Maqedoni e Veriut"},l.a.t("addOrder.northMacedonia"))),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.city")),i.a.createElement("select",{onChange:function(e){J(w.a[e.target.value][0]),$(w.a[e.target.value][1]),R({width:1200,height:600,latitude:w.a[e.target.value][0],longitude:w.a[e.target.value][1],zoom:14})},name:"city","has-error":k.city?"true":"false",ref:j({required:!0}),className:"add-order__wrapper-row-form-input"},h.a[P].map((function(e,r){return i.a.createElement("option",{key:r,value:e},e)}))),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.address")),i.a.createElement("input",{"has-error":k.address?"true":"false",ref:j({required:!0}),name:"address",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.address")}),i.a.createElement("div",{className:"add-order__wrapper-row-form-label"},l.a.t("addOrder.building")),i.a.createElement("input",{"has-error":k.building?"true":"false",ref:j({required:!1}),name:"building",className:"add-order__wrapper-row-form-input",placeholder:l.a.t("addOrder.building")}))),i.a.createElement("div",{className:"add-order__wrapper-row-column-title"},l.a.t("addOrder.putLocation")),i.a.createElement(p.b,Object.assign({},H,{maxZoom:18,mapStyle:"mapbox://styles/mapbox/streets-v9",mapboxApiAccessToken:"pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q",width:"100%",height:400,onViewportChange:function(e){return R(e)}}),i.a.createElement(p.a,{latitude:D,longitude:M,offsetLeft:-23,offsetTop:-46,draggable:!0,onDragStart:function(e){e.lngLat},onDragEnd:function(e){J(e.lngLat[1]),$(e.lngLat[0])}},i.a.createElement("div",null,i.a.createElement("img",{src:g.a.orders.pin,width:46,height:46,alt:"App Logo"})))),i.a.createElement("div",{className:"add-order__wrapper-footer"},i.a.createElement("button",{disabled:t,type:"submit"},l.a.t("addOrder.button"))),i.a.createElement("a",{href:"https://strikecourier.com"},i.a.createElement("div",{className:"add-order__footer"},i.a.createElement("img",{className:"add-order__footer-logo",src:O}),i.a.createElement("div",{className:"add-order__footer-text"},"Powered by Strike\u2122")))))})))}}]);
//# sourceMappingURL=30.18546eda.chunk.js.map