{"version":3,"sources":["pages/products/SeeProduct.jsx","containers/wrapper/Wrapper.jsx","store/actions/products.jsx"],"names":["mapDispatchToProps","getProduct","deleteProduct","connect","product","props","useEffect","location","state","id","delProduct","useCallback","history","goBack","className","i18next","t","disabled","defaultValue","placeholder","name","description","price","size","onClick","Wrapper","children","getAllProducts","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","CLEAR_NOTIFICATION","clear","Promise","reject","searchProducts","search","post","success","SEARCH_PRODUCTS","GET_PRODUCT","error","postStoreProduct","body","console","log","ks_price","al_price","mk_price","openable","parsedOpenable","JSON","parse","updateProduct","put","UPDATE_PRODUCT","delete","window","reload","deleteProducts","product_ids","query","forEach","item"],"mappings":"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","file":"static/js/18.5f918f42.chunk.js","sourcesContent":["import React, { useCallback, useEffect } from 'react';\nimport './products.scss';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport { connect } from 'react-redux';\nimport { getProduct, deleteProduct } from '../../store/actions/products';\nimport i18next from '../../services/locales/i18n';\n\nconst SeeProduct = (props) => {\n    useEffect(() => { props.getProduct(props.location.state.id) }, [])\n    const delProduct = useCallback(() => {\n        props.deleteProduct(props.location.state.id);\n        props.history.goBack();\n    }, [])\n    return (\n        <Wrapper>\n            <div className=\"strike-product\">\n                <div className=\"strike-product__header\">{i18next.t('products.productDetails')}</div>\n                <div className=\"strike-product__body\">\n                    <div className=\"strike-product__body-left\">\n                        <div className=\"strike-product__body-label\">{i18next.t('products.id')}</div>\n                        <input disabled defaultValue={props.product && props.product.id} className=\"strike-product__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-product__body-label\">{i18next.t('products.name')}</div>\n                        <input disabled defaultValue={props.product && props.product.name} className=\"strike-product__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-product__body-label\">{i18next.t('products.description2')}</div>\n                        <input disabled defaultValue={props.product && props.product.description} className=\"strike-product__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-product__body-label\">{i18next.t('products.price2')}</div>\n                        <input disabled defaultValue={props.product && props.product.price} className=\"strike-product__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-product__body-label\">{i18next.t('products.size')}</div>\n                        <input disabled defaultValue={props.product && props.product.size} className=\"strike-product__body-input\" placeholder=\"Field\" />\n                        <button onClick={delProduct} className=\"strike-product__body-button\">{i18next.t('products.delete')}</button>\n                    </div>\n                </div>\n            </div>\n        </Wrapper>\n    )\n}\n\nconst mapStateToProps = ({ product }) => ({ product });\nconst mapDispatchToProps = { getProduct, deleteProduct };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SeeProduct);","import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","import {\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER, LOG_OUT, CLEAR_NOTIFICATION\n} from '../actionTypes';\nimport axios from 'axios';\n\nexport const getAllProducts = (limit, page) => async (dispatch) => {\n    try {\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\n        if (data.status === 200) {\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const searchProducts = (search) => async (dispatch) => {\n    try {\n        const { data } = await axios.post(`/products/search?name=${search}`);\n        if (data.success) {\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProductOrder = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}/orders`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT_ORDER, data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const postStoreProduct = (body) => async (dispatch) => {\n    console.log('body', body)\n    try {\n        const { name, description, size, ks_price, al_price, mk_price, openable, history } = body;\n        const parsedOpenable = JSON.parse(openable);\n        const { data } = await axios.post(`/products`, { name, description, size, ks_price, al_price, mk_price, openable: parsedOpenable });\n        if (data.success) {\n            history.goBack()\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const updateProduct = (body) => async (dispatch) => {\n    try {\n        const { name, description, size, id, history } = body;\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\n        if (data.success) {\n            dispatch({ type: UPDATE_PRODUCT, data });\n            history.goBack();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.delete(`/products/${id}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProducts = (product_ids) => async (dispatch) => {\n    try {\n        var query = '';\n        product_ids.forEach(item => {\n            if (query === '') query = `product_ids[]=${item}`;\n            else query = `${query}&product_ids[]=${item}`;\n        });\n        const { data } = await axios.delete(`/products?${query}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const selectAllProducts = (data) => (dispatch) => {\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\n}"],"sourceRoot":""}