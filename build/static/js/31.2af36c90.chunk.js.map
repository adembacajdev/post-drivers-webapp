{"version":3,"sources":["store/actions/orders.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/orders/VerifyOrder.jsx"],"names":["getAllOrders","dispatch","a","axios","get","data","success","type","GET_ALL_ORDERS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","Promise","reject","searchOrders","text","url","day","moment","format","month","year","parseInt","post","SEARCH_ORDERS","getOrdersPaginated","limit","page","status","GET_ALL_ORDERS_PAGINATED","getOrder","id","GET_ORDER","getNumberOfOrdersByStatus","NUMBER_OF_ORDERS_BY_STATUS","clear","postOrder","params","TOGGLE_SUCCESS_MODAL","POST_ORDER","setTimeout","window","location","reload","error","postOrderByShop","history","console","log","POST_ORDER_BY_SHOP","goBack","getOrderByStatus","GET_ORDER_BY_STATUS","getTopCities","GET_TOP_CITIES","getTopProducts","GET_TOP_PRODUCTS","deleteOrder","delete","deleteOrders","order_ids","query","forEach","item","printOneOrder","PRINT_ONE_ORDER","printSelectedOrders","PRINT_SELECTED_ORDERS","getOrdersInMap","GET_ORDER_IN_MAP","sendCodeVerification","number","SENT_VERIFICATION_CODE","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","key","getOwnPropertyDescriptors","defineProperties","defineProperty","mapDispatchToProps","connect","verification_code","withRouter","props","useState","setData","useForm","register","handleSubmit","errors","watch","useEffect","state","className","style","display","flexDirection","onSubmit","i18n","t","has-error","name","ref","required","placeholder"],"mappings":"utBASaA,EAAe,yDAAM,WAAOC,GAAP,iBAAAC,EAAA,+EAEHC,IAAMC,IAAI,WAFP,iBAElBC,EAFkB,EAElBA,MACCC,QACLL,EAAS,CAAEM,KAAMC,IAAgBH,KAAMA,EAAKA,OACvB,MAAdA,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAX1B,yEAcnBC,QAAQC,OAAR,OAdmB,yDAAN,uDAkBfC,EAAe,SAACb,EAAMc,GAAP,8CAAgB,WAAOpB,GAAP,yBAAAC,EAAA,sEAEhCoB,EAAM,GACG,WAATf,IAAmBe,EAAG,gCAA4BD,IACzC,SAATd,IAAiBe,EAAG,4BAAwBD,IACnC,kBAATd,IAA0Be,EAAG,8CAA0CD,IAC9D,kBAATd,IAA0Be,EAAG,8CAA0CD,IAC9D,SAATd,IACMgB,EAAMC,IAAOH,GAAMI,OAAO,MAC1BC,EAAQF,IAAOH,GAAMI,OAAO,MAC5BE,EAAOH,IAAOH,GAAMI,OAAO,QACjCH,EAAG,2BAAuBM,SAASL,GAAhC,kBAA8CK,SAASF,GAAvD,iBAAsEE,SAASD,KAXlD,SAabxB,IAAM0B,KAAKP,GAbE,iBAa5BjB,EAb4B,EAa5BA,MACCC,SAAyB,OAAdD,EAAKA,KACrBJ,EAAS,CAAEM,KAAMuB,IAAezB,KAAMA,EAAKA,OACtB,OAAdA,EAAKA,KACZJ,EAAS,CAAEM,KAAMS,KAAoBX,KAAM,2BAG3CJ,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UApBhB,2EAuB7BC,QAAQC,OAAR,OAvB6B,0DAAhB,uDA2BfY,EAAqB,SAACC,EAAOC,GAAR,8CAAiB,WAAOhC,GAAP,eAAAC,EAAA,+EAExBC,IAAMC,IAAN,0BAA6B4B,EAA7B,iBAA2CC,IAFnB,OAGvB,OADd5B,EAFqC,QAGlC6B,OACLjC,EAAS,CAAEM,KAAM4B,IAA0B9B,KAAMA,EAAKA,OAEtDJ,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UANT,yEASpCC,QAAQC,OAAR,OAToC,yDAAjB,uDAarBiB,EAAW,SAACC,GAAD,8CAAQ,WAAOpC,GAAP,iBAAAC,EAAA,+EAEDC,IAAMC,IAAN,kBAAqBiC,IAFpB,iBAEhBhC,EAFgB,EAEhBA,MACCC,QACLL,EAAS,CAAEM,KAAM+B,IAAWjC,KAAMA,EAAKA,OAClB,MAAdA,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAX5B,yEAcjBC,QAAQC,OAAR,OAdiB,yDAAR,uDAkBXoB,EAA4B,yDAAM,WAAOtC,GAAP,iBAAAC,EAAA,+EAEhBC,IAAMC,IAAN,wBAFgB,iBAE/BC,EAF+B,EAE/BA,MACCC,QACLL,EAAS,CAAEM,KAAMiC,IAA4BnC,KAAMA,EAAKA,OACnC,MAAdA,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBD,aAAa8B,QACbtC,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAZb,yEAehCC,QAAQC,OAAR,OAfgC,yDAAN,uDAmB5BuB,EAAY,SAACC,GAAD,8CAAY,WAAO1C,GAAP,iBAAAC,EAAA,+EAENC,IAAM0B,KAAN,UAAsBc,GAFhB,iBAErBtC,EAFqB,EAErBA,MACCC,SACLL,EAAS,CAAEM,KAAMqC,KAAsBvC,KAAM,gCAC7CJ,EAAS,CAAEM,KAAMsC,IAAYxC,SAC7ByC,YAAW,WACPC,OAAOC,SAASC,WACjB,MACkB,MAAd5C,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAK6C,QAfvB,yEAkBtBhC,QAAQC,OAAR,OAlBsB,yDAAZ,uDAsBZgC,EAAkB,SAACR,EAAQS,GAAT,8CAAqB,WAAOnD,GAAP,iBAAAC,EAAA,+EAErBC,IAAM0B,KAAN,cAA0Bc,GAFL,gBAEpCtC,EAFoC,EAEpCA,KACRgD,QAAQC,IAAI,OAAQjD,GAChBA,EAAKC,SACLL,EAAS,CAAEM,KAAMqC,KAAsBvC,KAAM,gCAC7CJ,EAAS,CAAEM,KAAMgD,IAAoBlD,SACrCyC,YAAW,WACPM,EAAQI,WACT,MACkB,MAAdnD,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAK6C,QAhBR,yEAmBrChC,QAAQC,OAAR,OAnBqC,yDAArB,uDAuBlBsC,EAAmB,SAACvB,GAAD,8CAAY,WAAOjC,GAAP,iBAAAC,EAAA,+EAEbC,IAAM0B,KAAN,iBAA6B,CAAEK,WAFlB,iBAE5B7B,EAF4B,EAE5BA,MACCC,QACLL,EAAS,CAAEM,KAAMmD,IAAqBrD,KAAMA,EAAKA,OAC5B,MAAdA,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAXhB,yEAc7BC,QAAQC,OAAR,OAd6B,yDAAZ,uDAoCnBwC,EAAe,yDAAM,WAAO1D,GAAP,iBAAAC,EAAA,+EAEHC,IAAMC,IAAN,eAFG,iBAElBC,EAFkB,EAElBA,MACCC,QACLL,EAAS,CAAEM,KAAMqD,IAAgBvD,KAAMA,EAAKA,OACvB,MAAdA,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBD,aAAa8B,QACbtC,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAZ1B,yEAenBC,QAAQC,OAAR,OAfmB,yDAAN,uDAmBf0C,EAAiB,yDAAM,WAAO5D,GAAP,iBAAAC,EAAA,+EAELC,IAAMC,IAAN,iBAFK,iBAEpBC,EAFoB,EAEpBA,MACCC,QACLL,EAAS,CAAEM,KAAMuD,IAAkBzD,KAAMA,EAAKA,OACzB,MAAdA,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBD,aAAa8B,QACbtC,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAZxB,yEAerBC,QAAQC,OAAR,OAfqB,yDAAN,uDAmBjB4C,EAAc,SAAC1B,GAAD,8CAAQ,WAAOpC,GAAP,iBAAAC,EAAA,+EAEJC,IAAM6D,OAAN,kBAAwB3B,IAFpB,iBAEnBhC,EAFmB,EAEnBA,MACCC,QACLyC,OAAOC,SAASC,SACK,MAAd5C,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAXzB,yEAcpBC,QAAQC,OAAR,OAdoB,yDAAR,uDAkBd8C,EAAe,SAACC,EAAWhC,GAAZ,8CAAuB,WAAOjC,GAAP,mBAAAC,EAAA,sEAEvCiE,EAAQ,GACZD,EAAUE,SAAQ,SAAAC,GACIF,EAAJ,KAAVA,EAAmB,sBAAkBE,GAC/B,UAAMF,EAAN,wBAA2BE,MALE,SAOpBlE,IAAM6D,OAAN,kBAAwBG,IAPJ,iBAOnC9D,EAPmC,EAOnCA,MACCC,QACLyC,OAAOC,SAASC,SACK,MAAd5C,EAAKI,MACZR,EAAS,CAAEM,KAAMG,IAAcL,MAAM,IACrCM,aAAaC,WAAW,SACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,kBAChDZ,IAAMU,SAASC,QAAQC,OAAvB,kBAEAd,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAKY,UAhBT,2EAmBpCC,QAAQC,OAAR,OAnBoC,0DAAvB,uDAuBfmD,EAAgB,SAACjC,GAAD,8CAAQ,WAAOpC,GAAP,iBAAAC,EAAA,+EAENC,IAAM0B,KAAN,iCAAqCQ,IAF/B,iBAErBhC,EAFqB,EAErBA,MACCC,SACLL,EAAS,CAAEM,KAAMgE,IAAiBlE,KAAM,CAACA,EAAKA,QAJrB,yEAOtBa,QAAQC,OAAR,OAPsB,yDAAR,uDAWhBqD,EAAsB,SAACN,GAAD,8CAAe,WAAOjE,GAAP,mBAAAC,EAAA,6DAC1CiE,EAAQ,GACZD,EAAUE,SAAQ,SAAAC,GACIF,EAAJ,KAAVA,EAAmB,sBAAkBE,GAC/B,UAAMF,EAAN,wBAA2BE,MAJK,SAOtCF,EAAQ,GACZD,EAAUE,SAAQ,SAAAC,GACIF,EAAJ,KAAVA,EAAmB,sBAAkBE,GAC/B,UAAMF,EAAN,wBAA2BE,MAVC,SAYnBlE,IAAM0B,KAAN,iCAAqCsC,IAZlB,iBAYlC9D,EAZkC,EAYlCA,MACCC,SACLL,EAAS,CAAEM,KAAMkE,IAAuBpE,KAAMA,EAAKA,OAdb,2EAiBnCa,QAAQC,OAAR,OAjBmC,0DAAf,uDAqBtBuD,EAAiB,yDAAM,WAAOzE,GAAP,iBAAAC,EAAA,+EAELC,IAAMC,IAAI,eAFL,iBAEpBC,EAFoB,EAEpBA,MACCC,QACLL,EAAS,CAAEM,KAAMoE,IAAkBtE,KAAMA,EAAKA,OAE9CJ,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAK6C,QANxB,yEASrBhC,QAAQC,OAAR,OATqB,yDAAN,uDAajByD,EAAuB,SAACC,GAAD,8CAAY,WAAO5E,GAAP,iBAAAC,EAAA,+EAEjBC,IAAM0B,KAAN,+BAAmCgD,IAFlB,iBAEhCxE,EAFgC,EAEhCA,MACCC,SACL+C,QAAQC,IAAI,OAAQjD,GACpBJ,EAAS,CAAEM,KAAMuE,KAAwBzE,KAAMA,EAAKA,QAEpDJ,EAAS,CAAEM,KAAMS,KAAoBX,KAAMA,EAAK6C,QAPZ,yEAUjChC,QAAQC,OAAR,OAViC,yDAAZ,wD,iCCrTpC,8CAEA,SAAS4D,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAGxB,OAAOH,EAGM,SAASU,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNf,EAAQI,OAAOc,IAAS,GAAM7B,SAAQ,SAAU8B,GAC9C,YAAeL,EAAQK,EAAKD,EAAOC,OAE5Bf,OAAOgB,0BAChBhB,OAAOiB,iBAAiBP,EAAQV,OAAOgB,0BAA0BF,IAEjElB,EAAQI,OAAOc,IAAS7B,SAAQ,SAAU8B,GACxCf,OAAOkB,eAAeR,EAAQK,EAAKf,OAAOK,yBAAyBS,EAAQC,OAKjF,OAAOL,I,mICDHS,G,OAAqB,CAAE5D,U,OAAAA,IACd6D,uBAFS,SAAC,GAAD,MAA4B,CAAEC,kBAA9B,EAAGA,qBAEaF,EAAzBC,CAA6CE,aAzBxC,SAACC,GAAW,IAAD,EACHC,mBAAS,IADN,mBACpBtG,EADoB,KACduG,EADc,OAEuBC,cAA1CC,EAFmB,EAEnBA,SAAUC,EAFS,EAETA,aAAqBC,GAFZ,EAEKC,MAFL,EAEYD,QAQvC,OAHAE,qBAAU,WACNN,EAAQF,EAAM1D,SAASmE,SACxB,IAEC,yBAAKC,UAAU,iBACX,yBAAKA,UAAU,yBACX,0BAAMC,MAAO,CAAEC,QAAS,OAAQC,cAAe,UAAYC,SAAUT,GAVhE,SAAC,GAA2B,IAAzBP,EAAwB,EAAxBA,kBAChBE,EAAMhE,UAAN,2BAAqBrC,GAArB,IAA2BmG,2BAUf,yBAAKY,UAAU,+BAA+BK,IAAKC,EAAE,iCACrD,2BAAOC,YAAWX,EAAOR,kBAAoB,OAAS,QAASoB,KAAK,oBAAoBC,IAAKf,EAAS,CAAEgB,UAAU,IAASV,UAAU,8BAA8B7G,KAAK,OAAOwH,YAAaN,IAAKC,EAAE,yCACnM,4BAAQnH,KAAK,SAAS6G,UAAU,gCAAgCK,IAAKC,EAAE","file":"static/js/31.2af36c90.chunk.js","sourcesContent":["import {\r\n    GET_ALL_ORDERS, GET_ORDER, NUMBER_OF_ORDERS_BY_STATUS, POST_ORDER, GET_ORDERS_BY_CITY, GET_ORDER_BY_STATUS, DELETE_ORDER,\r\n    DELETE_ORDERS, GET_TOP_CITIES, GET_TOP_PRODUCTS, IS_LOGGED_IN, PRINT_ONE_ORDER, GET_ALL_ORDERS_PAGINATED, SEARCH_ORDERS,\r\n    PRINT_SELECTED_ORDERS, TOGGLE_ERROR_MODAL, TOGGLE_SUCCESS_MODAL, GET_ORDER_IN_MAP, SENT_VERIFICATION_CODE, POST_ORDER_BY_SHOP\r\n} from '../actionTypes';\r\nimport axios from 'axios'\r\nimport config from '../../config';\r\nimport moment from 'moment'\r\n\r\nexport const getAllOrders = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get('/orders');\r\n        if (data.success) {\r\n            dispatch({ type: GET_ALL_ORDERS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const searchOrders = (type, text) => async (dispatch) => {\r\n    try {\r\n        let url = '';\r\n        if (type === 'status') url = `/orders/status?status=${text}`;\r\n        if (type === 'city') url = `/orders/city?city=${text}`;\r\n        if (type === 'serial_number') url = `/orders/serial/number?serial_number=${text}`;\r\n        if (type === 'customer_name') url = `/orders/customer/name?customer_name=${text}`;\r\n        if (type === 'date') {\r\n            const day = moment(text).format('DD');\r\n            const month = moment(text).format('MM');\r\n            const year = moment(text).format('YYYY');\r\n            url = `/orders/date?day=${parseInt(day)}&month=${parseInt(month)}&year=${parseInt(year)}`;\r\n        }\r\n        const { data } = await axios.post(url);\r\n        if (data.success && data.data !== null) {\r\n            dispatch({ type: SEARCH_ORDERS, data: data.data })\r\n        } else if (data.data === null) {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: 'This ID does not exist' })\r\n        }\r\n        else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getOrdersPaginated = (limit, page) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.get(`orders/paginate/${limit}?page=${page}`);\r\n        if (data.status === 200) {\r\n            dispatch({ type: GET_ALL_ORDERS_PAGINATED, data: data.data })\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getOrder = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/orders/${id}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_ORDER, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getNumberOfOrdersByStatus = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/orders/status/count`);\r\n        if (data.success) {\r\n            dispatch({ type: NUMBER_OF_ORDERS_BY_STATUS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            localStorage.clear()\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const postOrder = (params) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/orders`, params);\r\n        if (data.success) {\r\n            dispatch({ type: TOGGLE_SUCCESS_MODAL, data: 'Porosia u dergua me sukses!' });\r\n            dispatch({ type: POST_ORDER, data });\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 2000)\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const postOrderByShop = (params, history) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/orders/add`, params);\r\n        console.log('data', data)\r\n        if (data.success) {\r\n            dispatch({ type: TOGGLE_SUCCESS_MODAL, data: 'Porosia u dergua me sukses!' });\r\n            dispatch({ type: POST_ORDER_BY_SHOP, data });\r\n            setTimeout(() => {\r\n                history.goBack();\r\n            }, 2000)\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getOrderByStatus = (status) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/orders/status`, { status });\r\n        if (data.success) {\r\n            dispatch({ type: GET_ORDER_BY_STATUS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getOrderByCity = (city) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/orders/${city}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_ORDERS_BY_CITY, data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getTopCities = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/top/cities`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_TOP_CITIES, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            localStorage.clear()\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getTopProducts = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/top/products`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_TOP_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            localStorage.clear()\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteOrder = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.delete(`/orders/${id}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteOrders = (order_ids, status) => async (dispatch) => {\r\n    try {\r\n        var query = '';\r\n        order_ids.forEach(item => {\r\n            if (query === '') query = `order_ids[]=${item}`;\r\n            else query = `${query}&order_ids[]=${item}`;\r\n        });\r\n        const { data } = await axios.delete(`/orders?${query}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const printOneOrder = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/orders/print?order_id=${id}`,);\r\n        if (data.success) {\r\n            dispatch({ type: PRINT_ONE_ORDER, data: [data.data] });\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const printSelectedOrders = (order_ids) => async (dispatch) => {\r\n    var query = '';\r\n    order_ids.forEach(item => {\r\n        if (query === '') query = `order_ids[]=${item}`;\r\n        else query = `${query}&order_ids[]=${item}`;\r\n    });\r\n    try {\r\n        var query = '';\r\n        order_ids.forEach(item => {\r\n            if (query === '') query = `order_ids[]=${item}`;\r\n            else query = `${query}&order_ids[]=${item}`;\r\n        });\r\n        const { data } = await axios.post(`/orders/print/selected?${query}`);\r\n        if (data.success) {\r\n            dispatch({ type: PRINT_SELECTED_ORDERS, data: data.data });\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getOrdersInMap = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get('/orders/map');\r\n        if (data.success) {\r\n            dispatch({ type: GET_ORDER_IN_MAP, data: data.data })\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const sendCodeVerification = (number) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/orders/verify?phone=${number}`);\r\n        if (data.success) {\r\n            console.log('data', data)\r\n            dispatch({ type: SENT_VERIFICATION_CODE, data: data.data });\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { useForm } from \"react-hook-form\";\r\nimport i18n from '../../services/locales/i18n';\r\nimport './verifyOrder.scss';\r\nimport { postOrder } from '../../store/actions/orders';\r\n\r\nconst VerifyOrder = (props) => {\r\n    const [data, setData] = useState([]);\r\n    const { register, handleSubmit, watch, errors } = useForm();\r\n    const onSubmit = ({ verification_code }) => {\r\n        props.postOrder({ ...data, verification_code })\r\n    };\r\n\r\n    useEffect(() => {\r\n        setData(props.location.state);\r\n    }, [])\r\n    return (\r\n        <div className=\"strike-verify\">\r\n            <div className=\"strike-verify__inputs\">\r\n                <form style={{ display: 'flex', flexDirection: 'column' }} onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className=\"strike-verify__inputs-label\">{i18n.t('verifyOrder.verificationCode')}</div>\r\n                    <input has-error={errors.verification_code ? 'true' : 'false'} name=\"verification_code\" ref={register({ required: true })} className=\"strike-verify__inputs-input\" type=\"text\" placeholder={i18n.t('verifyOrder.verificationPlaceholder')} />\r\n                    <button type=\"submit\" className=\"strike-verify__inputs-button\">{i18n.t('verifyOrder.verify')}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ verification_code }) => ({ verification_code })\r\nconst mapDispatchToProps = { postOrder }\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(VerifyOrder));"],"sourceRoot":""}