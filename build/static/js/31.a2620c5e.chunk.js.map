{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/orders/Context.jsx","pages/orders/TableItem.jsx","pages/orders/Table.jsx","../../src/FileSaver.js","pages/orders/OrdersByStatus.jsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","Context","createContext","TableItem","newStatus","statusColor","id","serial_number","status","updated_at","deleteItem","price","client","item","printOne","useContext","selected","setSelected","useState","checked","setChecked","history","useHistory","threePoints","images","orders","date","moment","format","time","navigate","useCallback","useEffect","deletedCheck","el","className","onChange","value","type","onClick","is-responsive","first_name","city","src","localStorage","setItem","window","open","location","host","i18n","t","Table","items","selectedAll","selectAll","selectAllOrders","tableArrow","style","marginLeft","map","index","console","MouseEvent","document","self","global","HTMLAnchorElement","b","name","setTimeout","f","navigator","autoBom","test","Blob","saveAs","module","mapDispatchToProps","deleteOrder","printOneOrder","getOrderByStatus","deleteOrders","printSelectedOrders","connect","printOrder","ordersPaginated","ordersByStatus","deletedOrder","withRouter","props","infoIcon","title","setTitle","setOrders","state","slug","reload","newArray","elem","Provider","disabled","stringSelected","JSON","stringify"],"mappings":"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","file":"static/js/31.a2620c5e.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React,{createContext} from 'react';\r\n\r\nconst Context = createContext(null);\r\n\r\nexport default Context;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport moment from 'moment';\r\nimport Context from './Context';\r\nimport { useCallback } from 'react';\r\n\r\nconst TableItem = ({ id, serial_number, status, updated_at, deleteItem, price, client, printOne, item }) => {\r\n    const { selected, setSelected } = useContext(Context);\r\n    const [checked, setChecked] = useState(false)\r\n    const history = useHistory();\r\n    const { threePoints } = images.orders;\r\n    const date = moment(updated_at).format('DD/MM/YYYY');\r\n    const time = moment(updated_at).format('HH:mm:ss');\r\n\r\n    let newStatus;\r\n    let statusColor;\r\n    switch (status) {\r\n        case 'pending':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'ongoing':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'cancelled':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'completed':\r\n            newStatus = status;\r\n            statusColor = status;\r\n            break;\r\n        case 'archived':\r\n            newStatus = 'archived';\r\n            statusColor = 'archived';\r\n            break;\r\n        case 'archived:cancelled':\r\n            newStatus = 'cancelled';\r\n            statusColor = 'archived';\r\n            break;\r\n        case 'archived:completed':\r\n            newStatus = 'completed';\r\n            statusColor = 'archived';\r\n            break;\r\n    }\r\n\r\n    const deleteThisItem = () => deleteItem(id);\r\n    const navigate = useCallback(() => { history.push('/order', { id }) }, [item.id])\r\n    const printOrder = () => {\r\n        localStorage.setItem('printOne', id)\r\n        window.open(`http://${window.location.host}/print/one`, 'Print Orders') //this should be https://\r\n    };\r\n    const check = () => setChecked(!checked);\r\n    useEffect(() => {\r\n        if (checked) setSelected([...selected, id])\r\n        else if (!checked) {\r\n            const deletedCheck = selected.filter(el => el !== id);\r\n            setSelected(deletedCheck);\r\n        }\r\n    }, [checked]);\r\n\r\n    useEffect(() => {\r\n        const iAmSelected = selected.filter(item => item === id);\r\n        if (iAmSelected.length === 0) { setChecked(false) }\r\n        else { setChecked(true) }\r\n    }, [selected])\r\n    return (\r\n        <div className=\"strike-orders__table-item\">\r\n            <div className=\"strike-orders__table-item-container\">\r\n                <input onChange={check} value={checked} checked={checked} className=\"strike-orders__table-item-container-checkbox\" type=\"checkbox\" />\r\n                <div className=\"strike-orders__table-item-container-text\">{serial_number}</div>\r\n            </div>\r\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\r\n                <div className={statusColor} />\r\n                <div className=\"strike-orders__table-item-container-text\">{newStatus}</div>\r\n            </div>\r\n            <div onClick={navigate} className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{price}â‚¬</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{date}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{time}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container\">\r\n                <div className=\"strike-orders__table-item-container-text\">{client.first_name}</div>\r\n            </div>\r\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\r\n                <div className=\"strike-orders__table-item-container-text\">{client.city}</div>\r\n            </div>\r\n            <div is-responsive=\"true\" className=\"strike-orders__table-item-container centered\">\r\n                <div className=\"dropdown\">\r\n                    <img className=\"strike-orders__table-item-container-dots\" src={threePoints} />\r\n                    <div className=\"dropdown-content\">\r\n                        <div onClick={printOrder} className=\"dropdown-content-text\">{i18n.t('orders.print')}</div>\r\n                        <div onClick={deleteThisItem} className=\"dropdown-content-text\">{i18n.t('orders.delete')}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TableItem;","import React from 'react';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport TableItem from './TableItem';\r\nimport Context from './Context';\r\nimport { useContext, useCallback } from 'react';\r\n\r\nconst Table = ({ items, deleteItem, printOne }) => {\r\n    const { selectedAll, selectAll } = useContext(Context);\r\n    const { tableArrow } = images.orders;\r\n    const selectAllOrders = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\r\n    return (\r\n        <div className=\"strike-orders__table\">\r\n            <div className=\"strike-orders__table-header\">\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <input type=\"checkbox\" onChange={selectAllOrders} value={selectedAll} checked={selectedAll} />\r\n                    <div style={{marginLeft: 15}} className=\"strike-orders__table-header-item-text\">{i18n.t('orders.serialNumber')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.status')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.unitedPrice')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.date')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.time')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.customerName')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.city')}</div>\r\n                    {/* <img className=\"strike-orders__table-header-item-icon\" src={tableArrow} /> */}\r\n                </div>\r\n                <div is-responsive=\"true\" className=\"strike-orders__table-header-item centered\">\r\n                    <div className=\"strike-orders__table-header-item-text\">{i18n.t('orders.actions')}</div>\r\n                </div>\r\n            </div>\r\n            {items && items.map((item, index) => {\r\n                return <TableItem item={item} printOne={printOne} deleteItem={deleteItem} {...item} key={index} />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile)\n  : 'download' in HTMLAnchorElement.prototype\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari)) && typeof FileReader === 'object') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './orders.scss';\r\nimport { getOrderByStatus, printOneOrder, deleteOrder, printSelectedOrders, deleteOrders } from '../../store/actions/orders';\r\nimport { saveAs } from 'file-saver';\r\nimport Table from './Table';\r\nimport Context from './Context';\r\n\r\nconst OrdersByStatus = (props) => {\r\n    const { infoIcon } = images.orders;\r\n    const [title, setTitle] = useState(i18n.t('orders.allOrders'));\r\n    const [orders, setOrders] = useState(props.ordersByStatus);\r\n    const [selected, setSelected] = useState([]);\r\n    const [selectedAll, selectAll] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (props.location.state && props.location.state.title) {\r\n            setTitle(props.location.state.title);\r\n            props.getOrderByStatus(props.location.state.slug);\r\n        }\r\n    }, [])\r\n    useEffect(() => { if (props.deletedOrder) { window.location.reload() } }, [props.deletedOrder])\r\n    useEffect(() => { if (props.printOrder) saveAs(props.printOrder, 'newFile.pdf'); }, [props.printOrder]);\r\n    useEffect(() => {\r\n        setOrders(props.ordersByStatus)\r\n        selectAll(false);\r\n        setSelected([])\r\n    }, [props.ordersByStatus]);\r\n    useEffect(() => {\r\n        if (selectedAll && props.ordersByStatus) {\r\n            let newArray = [];\r\n            props.ordersByStatus.forEach(elem => {\r\n                newArray.push(elem.id)\r\n            })\r\n            setSelected(newArray)\r\n        } else {\r\n            setSelected([])\r\n        }\r\n    }, [selectedAll])\r\n\r\n    const deleteSelectedOrders = () => {\r\n        props.deleteOrders(selected, props.location.state.slug);\r\n        setSelected([])\r\n        selectAll(false);\r\n    }\r\n    const printSelectedOrd = () => {\r\n        const stringSelected = JSON.stringify(selected);\r\n        localStorage.setItem('printMultiple', stringSelected);\r\n        window.open(`http://${window.location.host}/print/multiple`, 'Print Orders') //this should be https://\r\n    }\r\n\r\n    return (\r\n        <Context.Provider value={{ selected, setSelected, selectAll, selectedAll }}>\r\n            <Wrapper>\r\n                <div className=\"strike-orders\">\r\n                    <div className=\"strike-orders__header\">\r\n                        <div className=\"strike-orders__header-left\">\r\n                            <div className=\"strike-orders__header-left-text\">{title}</div>\r\n                        </div>\r\n                        <div className=\"strike-orders__header-right\">\r\n                            <img className=\"strike-orders__header-right-icon\" src={infoIcon} />\r\n                        </div>\r\n                    </div>\r\n                    <Table printOne={props.printOneOrder} deleteItem={props.deleteOrder} items={orders} />\r\n                    <div className=\"strike-orders__footerbuttons\">\r\n                        <button onClick={deleteSelectedOrders} disabled={selected.length ? false : true} className=\"strike-orders__delete-selected\">{i18n.t('orders.deleteOrders')}</button>\r\n                        <button onClick={printSelectedOrd} disabled={selected.length ? false : true} className=\"strike-orders__print-selected\">{i18n.t('orders.printSelected')}</button>\r\n                    </div>\r\n                </div>\r\n            </Wrapper>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({\r\n    printOrder, ordersPaginated, ordersByStatus, deletedOrder\r\n}) => ({\r\n    printOrder, ordersPaginated, ordersByStatus, deletedOrder\r\n});\r\nconst mapDispatchToProps = { deleteOrder, printOneOrder, getOrderByStatus, deleteOrders, printSelectedOrders };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(OrdersByStatus))"],"sourceRoot":""}