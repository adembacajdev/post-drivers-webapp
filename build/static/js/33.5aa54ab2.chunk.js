(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[33],{242:function(e,t,r){"use strict";var a=r(0),s=Object(a.createContext)(null);t.a=s},371:function(e,t,r){"use strict";var a=r(0),s=r.n(a),i=r(31),n=r(5),c=(r(241),r(240)),l=r(16),d=r(203),o=r(25),m=r.n(o),u=r(242),_=function(e){var t,r,o=e.id,_=e.serial_number,b=e.status,v=e.updated_at,k=e.deleteItem,p=e.price,E=e.client,h=(e.printOne,e.item,Object(a.useContext)(u.a)),f=h.selected,O=h.setSelected,N=Object(a.useState)(!1),g=Object(l.a)(N,2),j=g[0],x=g[1],P=Object(d.e)(),w=i.a.orders.threePoints,C=m()(v).format("DD/MM/YYYY"),y=m()(v).format("HH:mm:ss");switch(b){case"pending":case"ongoing":case"cancelled":case"completed":t=b,r=b;break;case"archived":t="archived",r="archived";break;case"archived:cancelled":t="cancelled",r="archived";break;case"archived:completed":t="completed",r="archived"}var S=function(){return P.push("/order",{id:o})};return Object(a.useEffect)((function(){if(j)O([].concat(Object(c.a)(f),[o]));else if(!j){var e=f.filter((function(e){return e!==o}));O(e)}}),[j]),Object(a.useEffect)((function(){0===f.filter((function(e){return e===o})).length?x(!1):x(!0)}),[f]),s.a.createElement("div",{className:"strike-orders__table-item"},s.a.createElement("div",{className:"strike-orders__table-item-container"},s.a.createElement("input",{onChange:function(){return x(!j)},value:j,checked:j,className:"strike-orders__table-item-container-checkbox",type:"checkbox"}),s.a.createElement("div",{className:"strike-orders__table-item-container-text"},_)),s.a.createElement("div",{onClick:S,className:"strike-orders__table-item-container"},s.a.createElement("div",{className:r}),s.a.createElement("div",{className:"strike-orders__table-item-container-text"},t)),s.a.createElement("div",{onClick:S,className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},p,"\u20ac")),s.a.createElement("div",{onClick:S,"is-responsive":"true",className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},C)),s.a.createElement("div",{onClick:S,"is-responsive":"true",className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},y)),s.a.createElement("div",{onClick:S,"is-responsive":"true",className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},E.first_name)),s.a.createElement("div",{onClick:S,"is-responsive":"true",className:"strike-orders__table-item-container centered"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},E.city)),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-item-container centered"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("img",{className:"strike-orders__table-item-container-dots",src:w}),s.a.createElement("div",{className:"dropdown-content"},s.a.createElement("div",{onClick:function(){localStorage.setItem("printOne",o),window.open("http://".concat(window.location.host,"/print/one"),"Print Orders")},className:"dropdown-content-text"},n.a.t("orders.print")),s.a.createElement("div",{onClick:function(){return k(o)},className:"dropdown-content-text"},n.a.t("orders.delete"))))))};t.a=function(e){var t=e.items,r=e.deleteItem,c=e.printOne,l=Object(a.useContext)(u.a),d=l.selectedAll,o=l.selectAll,m=(i.a.orders.tableArrow,Object(a.useCallback)((function(){o(!d)}),[d]));return s.a.createElement("div",{className:"strike-orders__table"},s.a.createElement("div",{className:"strike-orders__table-header"},s.a.createElement("div",{className:"strike-orders__table-header-item"},s.a.createElement("input",{type:"checkbox",onChange:m,value:d,checked:d}),s.a.createElement("div",{style:{marginLeft:15},className:"strike-orders__table-header-item-text"},n.a.t("orders.serialNumber"))),s.a.createElement("div",{className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},n.a.t("orders.status"))),s.a.createElement("div",{className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},n.a.t("orders.unitedPrice"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},n.a.t("orders.date"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},n.a.t("orders.time"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},n.a.t("orders.customerName"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item centered"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},n.a.t("orders.city"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item centered"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},n.a.t("orders.actions")))),t&&t.map((function(e,t){return s.a.createElement(_,Object.assign({item:e,printOne:c,deleteItem:r},e,{key:t}))})))}},788:function(e,t,r){"use strict";r.r(t);var a=r(16),s=r(0),i=r.n(s),n=r(8),c=r(203),l=r(214),d=r(31),o=r(5),m=(r(241),r(224)),u=r(219),_=r(242),b=r(371),v=r(25),k=r.n(v),p={getAllOrders:m.c,deleteOrder:m.a,printOneOrder:m.m,getOrdersPaginated:m.h,searchOrders:m.o,printSelectedOrders:m.n,deleteOrders:m.b};t.default=Object(n.b)((function(e){return{allOrders:e.allOrders,ordersPaginated:e.ordersPaginated,deletedOrder:e.deletedOrder,printOrder:e.printOrder}}),p)(Object(c.g)((function(e){var t=Object(s.useState)(o.a.t("orders.allOrders")),r=Object(a.a)(t,2),n=r[0],c=r[1],m=Object(s.useState)(e.ordersPaginated),v=Object(a.a)(m,2),p=v[0],E=v[1],h=Object(s.useState)([]),f=Object(a.a)(h,2),O=f[0],N=f[1],g=Object(s.useState)(!1),j=Object(a.a)(g,2),x=j[0],P=j[1],w=Object(s.useState)("serial_number"),C=Object(a.a)(w,2),y=C[0],S=C[1],A=d.a.orders,I=A.filledLeftArrow,M=A.unfilledLeftArrow,D=A.filledRightArrow,Y=A.unfilledRightArrow,J=Object(u.a)(),L=J.register,q=J.handleSubmit;J.errors;Object(s.useEffect)((function(){e.getOrdersPaginated(10,1),e.location.state&&e.location.state.title&&c(e.location.state.title)}),[]),Object(s.useEffect)((function(){e.deletedOrder&&window.location.reload()}),[e.deletedOrder]),Object(s.useEffect)((function(){E(e.ordersPaginated),P(!1),N([])}),[e.ordersPaginated]),Object(s.useEffect)((function(){if(x){var e=[];p.data.forEach((function(t){e.push(t.id)})),N(e)}else N([])}),[x]);var H=Object(s.useCallback)((function(){p.hasNextPage&&e.getOrdersPaginated(10,p.currentPage+1)}),[p]),R=Object(s.useCallback)((function(){p.hasPrevPage&&e.getOrdersPaginated(10,p.currentPage-1)}),[p]),V=Object(s.useCallback)((function(t){e.getOrdersPaginated(10,t)}),[p]),z=Object(s.useCallback)((function(e){S(e.target.value)}),[y]);return i.a.createElement(_.a.Provider,{value:{selected:O,setSelected:N,selectedAll:x,selectAll:P}},i.a.createElement(l.a,null,i.a.createElement("div",{className:"strike-orders"},i.a.createElement("div",{className:"strike-orders__header"},i.a.createElement("div",{className:"strike-orders__header-left"},i.a.createElement("div",{className:"strike-orders__header-left-text"},n)),i.a.createElement("div",{className:"strike-orders__header-right"})),i.a.createElement("form",{onSubmit:q((function(t){var r=t.type,a=t.search;e.searchOrders(r,a)})),className:"strike-orders__search"},i.a.createElement("select",{defaultValue:y,onChange:z,name:"type",ref:L({required:!0}),className:"strike-orders__search-select"},i.a.createElement("option",{value:"serial_number"},o.a.t("orders.serialNumber")),i.a.createElement("option",{value:"customer_name"},o.a.t("orders.customerName")),i.a.createElement("option",{value:"city"},o.a.t("orders.city")),i.a.createElement("option",{value:"status"},o.a.t("orders.status")),i.a.createElement("option",{value:"date"},o.a.t("orders.date"))),i.a.createElement("input",{defaultValue:"date"===y?k()().format("yyyy-MM-DD"):"",type:"date"===y?"date":"text",name:"search",ref:L({required:!0}),placeholder:o.a.t("orders.searchPlaceholder"),className:"strike-orders__search-input"}),i.a.createElement("button",{type:"submit",className:"strike-orders__search-button"},o.a.t("orders.search"))),i.a.createElement(b.a,{printOne:e.printOneOrder,deleteItem:e.deleteOrder,items:p&&p.data}),i.a.createElement("div",{className:"strike-orders__pagination"},i.a.createElement("img",{onClick:R,src:p.hasPrevPage?I:M,className:"strike-orders__pagination-leftarrow"}),p&&p.lastPage.map((function(e){return i.a.createElement("div",{onClick:function(){return V(e)},"is-active":e===p.currentPage?"true":"false",key:e,className:"strike-orders__pagination-number"},e)})),i.a.createElement("img",{onClick:H,src:p.hasNextPage?D:Y,className:"strike-orders__pagination-rightarrow"})),i.a.createElement("div",{className:"strike-orders__footerbuttons"},i.a.createElement("button",{onClick:function(){e.deleteOrders(O),P(!1),N([])},disabled:!O.length,className:"strike-orders__delete-selected"},o.a.t("orders.deleteOrders")),i.a.createElement("button",{onClick:function(){var e=JSON.stringify(O);localStorage.setItem("printMultiple",e),window.open("http://".concat(window.location.host,"/print/multiple"),"Print Orders")},disabled:!O.length,className:"strike-orders__print-selected"},o.a.t("orders.printSelected"))))))})))}}]);
//# sourceMappingURL=33.5aa54ab2.chunk.js.map