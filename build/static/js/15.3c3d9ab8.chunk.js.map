{"version":3,"sources":["containers/wrapper/Wrapper.jsx","store/actions/products.jsx","pages/products/Context.jsx","pages/products/TableItem.jsx","pages/products/Table.jsx","pages/products/Products.jsx"],"names":["Wrapper","props","className","children","getAllProducts","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","Promise","reject","searchProducts","search","post","success","SEARCH_PRODUCTS","getProduct","id","GET_PRODUCT","error","postStoreProduct","body","name","description","price","size","history","goBack","updateProduct","put","UPDATE_PRODUCT","deleteProduct","delete","window","location","reload","deleteProducts","product_ids","query","forEach","item","Context","createContext","TableItem","host","useContext","selected","setSelected","selectedAll","useHistory","threePoints","images","products","useState","copyText","checked","setChecked","isOpen","open","toggle","useCallback","edit","push","deleteProd","useEffect","deletedCheck","filter","el","length","onChange","value","onClick","is-responsive","src","toast","notify","position","copy","i18n","t","Table","items","selectAll","selectAllProducts","map","index","key","mapDispatchToProps","connect","allProducts","deletedProduct","withRouter","customers","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","setData","useForm","register","handleSubmit","errors","newArray","elem","nextPage","hasNextPage","currentPage","prevPage","hasPrevPage","number","addProduct","Provider","onSubmit","ref","required","placeholder","lastPage","is-active","disabled"],"mappings":"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","file":"static/js/15.3c3d9ab8.chunk.js","sourcesContent":["import React from 'react';\r\nimport './wrapper.scss';\r\n\r\nconst Wrapper = (props) => {\r\n    return (\r\n        <div className=\"strike-wrapper\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","import {\r\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\r\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER\r\n} from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getAllProducts = (limit, page) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\r\n        if (data.status === 200) {\r\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const searchProducts = (search) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/products/search?name=${search}`);\r\n        if (data.success) {\r\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\r\n            // dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProductOrder = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}/orders`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT_ORDER, data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const postStoreProduct = (body) => async (dispatch) => {\r\n    try {\r\n        const { name, description, price, size, history } = body;\r\n        const { data } = await axios.post(`/products`, { name, description, price, size });\r\n        if (data.success) {\r\n            // dispatch({ type: POST_STORE_PRODUCT, data: data.data });\r\n            history.goBack()\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const updateProduct = (body) => async (dispatch) => {\r\n    try {\r\n        const { name, description, size, id, history } = body;\r\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\r\n        if (data.success) {\r\n            dispatch({ type: UPDATE_PRODUCT, data });\r\n            history.goBack();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.delete(`/products/${id}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProducts = (product_ids) => async (dispatch) => {\r\n    try {\r\n        var query = '';\r\n        product_ids.forEach(item => {\r\n            if (query === '') query = `product_ids[]=${item}`;\r\n            else query = `${query}&product_ids[]=${item}`;\r\n        });\r\n        const { data } = await axios.delete(`/products?${query}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const selectAllProducts = (data) => (dispatch) => {\r\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\r\n}","import React, {createContext} from 'react';\r\n\r\nconst Context = createContext(null);\r\n\r\nexport default Context;","import React, { useState, useCallback, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './products.scss';\r\nimport Context from './Context';\r\nimport config from '../../config';\r\nimport copy from \"copy-to-clipboard\";\r\nimport toast from 'toasted-notes'\r\nimport 'toasted-notes/src/styles.css';\r\n\r\nconst TableItem = ({ item, deleteProduct }) => {\r\n    let host = window.location.host;\r\n    const { selected, setSelected, selectedAll } = useContext(Context);\r\n    const history = useHistory();\r\n    const { threePoints } = images.products;\r\n\r\n    const [copyText, setCopyText] = useState(`${host}/add-order/${item.id}`)\r\n    const [checked, setChecked] = useState(item.checked)\r\n    const [isOpen, open] = useState(false);\r\n\r\n    const toggle = useCallback(() => { open(!isOpen) }, [isOpen]);\r\n    const edit = useCallback(() => { history.push('/edit-product', { id: item.id }) }, []);\r\n    const deleteProd = useCallback(() => { deleteProduct(item.id) }, []);\r\n    const check = () => setChecked(!checked);\r\n    const copyLink = () => {\r\n        toast.notify('Link copied!', { position: 'bottom-right' });\r\n        copy(copyText);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (checked) setSelected([...selected, item.id])\r\n        else if (!checked) {\r\n            const deletedCheck = selected.filter(el => el !== item.id);\r\n            setSelected(deletedCheck);\r\n        }\r\n    }, [checked]);\r\n\r\n    useEffect(() => {\r\n        const iAmSelected = selected.filter(el => el === item.id);\r\n        if (iAmSelected.length === 0) {\r\n            setChecked(false)\r\n        } else {\r\n            setChecked(true);\r\n        }\r\n    }, [selected])\r\n\r\n    return (\r\n        <div className=\"strike-products__table-item\">\r\n            <div className=\"strike-products__table-item-content flex-1\">\r\n                <input type=\"checkbox\" onChange={check} value={checked} checked={checked} />\r\n            </div>\r\n            <div onClick={edit} className=\"strike-products__table-item-content flex-1\">\r\n                <div className=\"strike-products__table-item-content-text\">{item.id}</div>\r\n            </div>\r\n            <div onClick={edit} className=\"strike-products__table-item-content flex-3\">\r\n                <div className=\"strike-products__table-item-content-text ml-15\">{item.name}</div>\r\n            </div>\r\n            <div onClick={edit} is-responsive=\"true\" className=\"strike-products__table-item-content flex-3\">\r\n                <div className=\"strike-products__table-item-content-text\">{item.description}</div>\r\n            </div>\r\n            <div onClick={edit} className=\"strike-products__table-item-content flex-15\">\r\n                <div className=\"strike-products__table-item-content-text\">{`${item.price}€`}</div>\r\n            </div>\r\n            <div is-responsive=\"true\" onClick={toggle} className=\"strike-products__table-item-content flex-15 text-center\">\r\n                <div className=\"dropdown\">\r\n                    <img className=\"strike-products__table-item-content-points\" src={threePoints} />\r\n                    <div id=\"dropdown-content\" className=\"dropdown-content\">\r\n                        <div onClick={copyLink} className=\"dropdown-content-text\">{i18n.t('products.copyLink')}</div>\r\n                        <div onClick={edit} className=\"dropdown-content-text\">{i18n.t('products.edit')}</div>\r\n                        <div onClick={deleteProd} className=\"dropdown-content-text\">{i18n.t('products.delete')}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TableItem;","import React, { useContext, useCallback } from 'react';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './products.scss';\r\nimport TableItem from './TableItem';\r\nimport Context from './Context';\r\n\r\nconst Table = ({ items, deleteProduct }) => {\r\n    const { selectedAll, selectAll } = useContext(Context);\r\n    const selectAllProducts = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\r\n    return (\r\n        <div className=\"strike-products__table\">\r\n            <div className=\"strike-products__table-header\">\r\n                <div className=\"strike-products__table-header-item flex-1\">\r\n                    <input type=\"checkbox\" onChange={selectAllProducts} value={selectedAll} checked={selectedAll} />\r\n                </div>\r\n                <div className=\"strike-products__table-header-item flex-1\">{i18n.t('products.id')}</div>\r\n                <div className=\"strike-products__table-header-item flex-3\">{i18n.t('products.product')}</div>\r\n                <div is-responsive=\"true\" className=\"strike-products__table-header-item flex-3\">{i18n.t('products.description')}</div>\r\n                <div className=\"strike-products__table-header-item flex-15\">{i18n.t('products.price')}</div>\r\n                <div is-responsive=\"true\" className=\"strike-products__table-header-item flex-15 text-center\">{i18n.t('products.actions')}</div>\r\n            </div>\r\n            {items && items.map((item, index) => {\r\n                return <TableItem key={index} item={item} deleteProduct={deleteProduct} />\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table;","import React, { useState, useCallback, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport images from '../../assets/images';\r\nimport i18n from '../../services/locales/i18n';\r\nimport './products.scss';\r\nimport { getAllProducts, deleteProduct, searchProducts, deleteProducts } from '../../store/actions/products';\r\nimport { useForm } from \"react-hook-form\";\r\nimport Context from './Context';\r\nimport Table from './Table';\r\n\r\nconst Products = (props) => {\r\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.customers;\r\n    const [data, setData] = useState(props.allProducts);\r\n    const [selected, setSelected] = useState([]);\r\n    const [selectedAll, selectAll] = useState(false)\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const onSubmit = ({ search }) => {\r\n        props.searchProducts(search);\r\n    };\r\n\r\n    useEffect(() => { props.getAllProducts(10, 1) }, []);\r\n    useEffect(() => { if (props.deletedProduct) window.location.reload() }, [props.deletedProduct])\r\n    useEffect(() => {\r\n        setData(props.allProducts);\r\n        selectAll(false);\r\n        setSelected([])\r\n    }, [props.allProducts]);\r\n    useEffect(() => {\r\n        if (selectedAll) {\r\n            let newArray = [];\r\n            data.data.forEach(elem => {\r\n                newArray.push(elem.id)\r\n            })\r\n            setSelected(newArray)\r\n        } else {\r\n            setSelected([])\r\n        }\r\n    }, [selectedAll])\r\n\r\n    const deleteSelectedProducts = () => {\r\n        props.deleteProducts(selected);\r\n        selectAll(false);\r\n        setSelected([])\r\n    }\r\n\r\n    const nextPage = useCallback(() => { if (data.hasNextPage) props.getAllProducts(10, data.currentPage + 1) }, [data]);\r\n    const prevPage = useCallback(() => { if (data.hasPrevPage) props.getAllProducts(10, data.currentPage - 1) }, [data]);\r\n    const number = useCallback((page) => { props.getAllProducts(10, page) }, [data]);\r\n\r\n    const addProduct = useCallback(() => { props.history.push('/add-product') }, []);\r\n    \r\n    return (\r\n        <Context.Provider value={{ selected, setSelected, selectedAll, selectAll }}>\r\n            <Wrapper>\r\n                <div className=\"strike-products\">\r\n                    <div className=\"strike-products__header\">\r\n                        <div className=\"strike-products__header-left\">\r\n                            <div className=\"strike-products__header-left-title\">{i18n.t('products.products')}</div>\r\n                        </div>\r\n                        <div className=\"strike-products__header-right\">\r\n                            <div onClick={addProduct} className=\"strike-products__header-right-text\">{i18n.t('products.addProduct')}</div>\r\n                        </div>\r\n                    </div>\r\n                    <form onSubmit={handleSubmit(onSubmit)} className=\"strike-products__search\">\r\n                        <input name=\"search\" ref={register({ required: true })} placeholder={i18n.t('products.searchPlaceholder')} className=\"strike-products__search-input\" />\r\n                        <button type=\"submit\" className=\"strike-products__search-button\">{i18n.t('products.search')}</button>\r\n                    </form>\r\n                    <Table items={data.data} deleteProduct={props.deleteProduct} />\r\n                    <div className=\"strike-products__pagination\">\r\n                        <img onClick={prevPage} src={data.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-products__pagination-leftarrow' />\r\n                        {data && data.lastPage.map(item => {\r\n                            return <div onClick={() => number(item)} is-active={item === data.currentPage ? 'true' : 'false'} key={item} className=\"strike-products__pagination-number\">{item}</div>\r\n                        })}\r\n                        <img onClick={nextPage} src={data.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-products__pagination-rightarrow' />\r\n                    </div>\r\n                    <button onClick={deleteSelectedProducts} disabled={selected.length ? false : true} className=\"strike-products__delete-selected\">{i18n.t('products.deleteProducts')}</button>\r\n                </div>\r\n            </Wrapper>\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ allProducts, deletedProduct }) => ({ allProducts, deletedProduct });\r\nconst mapDispatchToProps = { getAllProducts, deleteProduct, searchProducts, deleteProducts };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Products));"],"sourceRoot":""}