{"version":3,"sources":["store/actions/products.jsx","store/actions/toggle.error.modal.jsx","services/schemas/numberValidation.jsx","services/schemas/OrderSchema.jsx","services/schemas/LoginSchema.jsx","services/schemas/ProductSchema.jsx","services/schemas/UserSchema.jsx","pages/orders/AddOrder.jsx"],"names":["getAllProducts","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","CLEAR_NOTIFICATION","clear","Promise","reject","searchProducts","search","post","success","SEARCH_PRODUCTS","getProduct","id","GET_PRODUCT","error","postStoreProduct","body","name","description","size","ks_price","al_price","mk_price","openable","history","parsedOpenable","JSON","parse","goBack","updateProduct","put","UPDATE_PRODUCT","deleteProduct","delete","window","location","reload","deleteProducts","product_ids","query","forEach","item","toggleErrorModal","validateNumber","yup","shape","product_id","required","latitude","longitude","first_name","last_name","phone","matches","country","city","address","building","price","additional_info","email","password","prefix","length","timeout","mapDispatchToProps","postOrder","sendCodeVerification","connect","product","orderPosted","withRouter","props","useState","hasOrdred","setOrdered","phonePlaceholder","setPhonePlaceholder","logoWithoutText","images","useForm","register","handleSubmit","errors","watch","productId","match","params","setCountry","latitudeMarker","setLatitudeMarker","longitudeMarker","setLongitudeMarker","validNumber","width","height","zoom","viewPort","setViewPort","useEffect","undefined","console","log","setTimeout","className","Auth","getShopName","onSubmit","i18n","t","is-left","style","fontSize","color","onChange","e","onkeyup","clearTimeout","target","value","defaultValue","has-error","ref","placeholder","disabled","href","locations","cities","map","index","key","maxZoom","mapStyle","mapboxApiAccessToken","onViewportChange","viewport","offsetLeft","offsetTop","draggable","onDragStart","event","lngLat","onDragEnd","src","orders","pin","alt"],"mappings":"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","file":"static/js/30.18546eda.chunk.js","sourcesContent":["import {\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER, LOG_OUT, CLEAR_NOTIFICATION\n} from '../actionTypes';\nimport axios from 'axios';\n\nexport const getAllProducts = (limit, page) => async (dispatch) => {\n    try {\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\n        if (data.status === 200) {\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const searchProducts = (search) => async (dispatch) => {\n    try {\n        const { data } = await axios.post(`/products/search?name=${search}`);\n        if (data.success) {\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProductOrder = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}/orders`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT_ORDER, data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const postStoreProduct = (body) => async (dispatch) => {\n    try {\n        const { name, description, size, ks_price, al_price, mk_price, openable, history } = body;\n        const parsedOpenable = JSON.parse(openable);\n        const { data } = await axios.post(`/products`, { name, description, size, ks_price, al_price, mk_price, openable: parsedOpenable });\n        if (data.success) {\n            history.goBack()\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const updateProduct = (body) => async (dispatch) => {\n    try {\n        const { name, description, size, id, history } = body;\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\n        if (data.success) {\n            dispatch({ type: UPDATE_PRODUCT, data });\n            history.goBack();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.delete(`/products/${id}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProducts = (product_ids) => async (dispatch) => {\n    try {\n        var query = '';\n        product_ids.forEach(item => {\n            if (query === '') query = `product_ids[]=${item}`;\n            else query = `${query}&product_ids[]=${item}`;\n        });\n        const { data } = await axios.delete(`/products?${query}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const selectAllProducts = (data) => (dispatch) => {\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\n}","import { TOGGLE_ERROR_MODAL } from '../actionTypes';\n\nexport const toggleErrorModal = (data) => (dispatch) => {\n    dispatch({ type: TOGGLE_ERROR_MODAL, data })\n}","export const validateNumber = (prefix, phone) => {\n    if (prefix === '383' || prefix === '389') {\n        if (phone.length === 8) return true;\n        else return false;\n    } else if (prefix === '355') {\n        if (phone.length === 9) return true;\n        else return false;\n    } else return false;\n}","import * as yup from 'yup';\nconst phoneRegExp = /^\\d{9}$/\n\nexport const OrderSchema = yup.object().shape({\n  product_id: yup.number().required(),\n  name: yup.string().required(),\n  latitude: yup.number().required(),\n  longitude: yup.number().required(),\n  description: yup.string().required(),\n  first_name: yup.string().required(),\n  last_name: yup.string().required(),\n  phone: yup.string().required().matches(phoneRegExp, 'Phone number is not valid'),\n  country: yup.string().required(),\n  city: yup.string().required(),\n  address: yup.string().required(),\n  building: yup.string().required(),\n  price: yup.number().required(),\n  additional_info: yup.string().required(),\n});","import * as yup from 'yup';\nconst emailRgx = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n\nexport const LoginSchema = yup.object().shape({\n  email: yup.string().required().matches(emailRgx, 'Email is not valid'),\n  password: yup.string().required()\n});","import * as yup from 'yup';\n\nexport const ProductSchema = yup.object().shape({\n    name: yup.string().required(),\n    description: yup.string().required(),\n    price: yup.number().required(),\n    size: yup.string().required()\n  });","import * as yup from 'yup';\nconst emailRgx = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\nconst phoneRegExp = /^\\d{9}$/;\n\nexport const UserSchema = yup.object().shape({\n    first_name: yup.string().required(),\n    last_name: yup.string().required(),\n    email: yup.string().required().matches(emailRgx, 'Email is not valid'),\n    phone: yup.string().required().matches(phoneRegExp, 'Phone number is not valid'),\n});","import React, { useEffect, useState, useCallback } from 'react';\nimport './addOrder.scss';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport i18n from '../../services/locales/i18n';\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport { useForm } from \"react-hook-form\";\nimport { postOrder, sendCodeVerification } from '../../store/actions/orders';\nimport { validateNumber } from '../../services/schemas';\nimport { Tooltip } from 'reactstrap';\nimport cities from '../../services/constants/Cities';\nimport locations from '../../services/constants/Locations';\nimport { toggleErrorModal } from '../../store/actions/toggle.error.modal';\nimport { getProduct } from '../../store/actions/products';\nimport images from '../../assets/images';\nimport Auth from '../../services/auth/Auth';\n\nvar timeout = null // timeout for searchBox\n\nconst AddOrder = (props) => {\n    const [hasOrdred, setOrdered] = useState(false);\n    const [phonePlaceholder, setPhonePlaceholder] = useState('4x xxx xxx');\n    const { logoWithoutText } = images;\n    const { register, handleSubmit, errors, watch } = useForm();\n    const productId = props.match.params.productId;\n    const [country, setCountry] = useState('Kosovë');\n    const [tooltipOpen, setTooltipOpen] = useState(false);\n    const [latitudeMarker, setLatitudeMarker] = useState(42.66758079200047);\n    const [longitudeMarker, setLongitudeMarker] = useState(21.165194013322285);\n    const [validNumber, setValidNumber] = useState(false);\n    const [viewPort, setViewPort] = useState({ width: 1200, height: 600, latitude: 42.66758079200047, longitude: 21.165194013322285, zoom: 14, })\n\n    const onDragStart = (event) => { const { lngLat } = event }\n    const onDragEnd = (event) => { setLatitudeMarker(event.lngLat[1]); setLongitudeMarker(event.lngLat[0]); }\n    const toggle = () => setTooltipOpen(!tooltipOpen);\n\n    const handleSelectCountry = (e) => {\n        setCountry(e.target.value);\n        setLatitudeMarker(locations[e.target.value][0]);\n        setLongitudeMarker(locations[e.target.value][1]);\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\n    }\n    const handleSelectCity = (e) => {\n        setLatitudeMarker(locations[e.target.value][0]);\n        setLongitudeMarker(locations[e.target.value][1]);\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\n    }\n\n    const onSubmit = ({ product_id, description, first_name, last_name, country, city, address, building, prefix, phone }) => {\n        const body = {\n            product_id, description, first_name, last_name, phone, country, city, address, building,\n            latitude: latitudeMarker, longitude: longitudeMarker\n        }\n        const isNumberValid = validateNumber(prefix, phone);\n        if (isNumberValid) {\n            setOrdered(true);\n            props.postOrder(body, props.history);\n            // props.sendCodeVerification(`${prefix}${phone}`);\n            // props.history.push('/order/verify', { ...body, phone: `${prefix}${phone}` })\n        }\n        else {\n            setOrdered(false);\n            props.toggleErrorModal(i18n.t('addOrder.invalidNumber'))\n        }\n    }\n\n    useEffect(() => {\n        if (productId === undefined || productId === 'undefined' || productId === null) {\n            console.log('no id')\n        }\n        else props.getProduct(productId);\n    }, [])\n\n    const handleIdChange = (e) => {\n        window.onkeyup = (e) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(async () => {\n                if (e.target.name === 'product_id' && e.target.value.length === 6) {\n                    props.getProduct(e.target.value);\n                }\n            }, 500)\n        }\n    }\n\n    useEffect(() => {\n        if (props.orderPosted) {\n            setTimeout(() => {\n                window.location.reload();\n            }, 1000)\n        }\n    }, [props.orderPosted]);\n\n    useEffect(() => {\n        if (watch('prefix') === '383') setPhonePlaceholder('4x xxx xxx')\n        else if (watch('prefix') === '355') setPhonePlaceholder('xx xxx xxxx')\n        else if (watch('prefix') === '389') setPhonePlaceholder('xxxxxxxx')\n        else setPhonePlaceholder('4x xxx xxx')\n    }, [watch('prefix')])\n\n    return (\n        <div className=\"add-order\">\n            <div className=\"add-order__navbar\">\n                {Auth.getShopName()}\n            </div>\n\n            <form onSubmit={handleSubmit(onSubmit)} className=\"add-order__wrapper\">\n                <div className=\"add-order__wrapper-row\">\n                    <div is-left=\"true\" className=\"add-order__wrapper-row-column\">\n                        <div className=\"add-order__wrapper-row-column-title\">{i18n.t('addOrder.productDetails')}</div>\n                        {props.product && <div style={{ fontSize: 10, color: 'red' }}>{props.product && props.product.error}</div>}\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.productId')}</div>\n                        <input onChange={handleIdChange} defaultValue={productId} has-error={errors.product_id ? 'true' : 'false'} ref={register({ required: true })} name=\"product_id\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.productId')} />\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.name')}</div>\n                        <input defaultValue={props.product && props.product.name} disabled ref={register({ required: false })} name=\"name\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.name')} />\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.description')}</div>\n                        <input defaultValue={props.product && props.product.description} disabled ref={register({ required: false })} name=\"firstDescription\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.description')} />\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.price')}</div>\n                        <input defaultValue={props.product && props.product.ks_price} disabled ref={register({ required: false })} name=\"price\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.price')} />\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.additionalInfo')}</div>\n                        <input has-error={errors.description ? 'true' : 'false'} ref={register({ required: false })} name=\"description\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.exSizeColor')} />\n                    </div>\n                    <div className=\"add-order__wrapper-row-column\">\n                        <div className=\"add-order__wrapper-row-column-title\">{i18n.t('addOrder.yourInformation')}</div>\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.firstName')}</div>\n                        <input has-error={errors.first_name ? 'true' : 'false'} ref={register({ required: true })} name=\"first_name\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.firstName')} />\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.lastName')}</div>\n                        <input has-error={errors.last_name ? 'true' : 'false'} ref={register({ required: true })} name=\"last_name\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.lastName')} />\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.phone')}</div>\n                        <div className=\"flex-row\">\n                            <select name=\"prefix\" ref={register({ required: false })} className=\"add-order__wrapper-row-form-input w-10\">\n                                <option value=\"383\">+383</option>\n                                <option value=\"355\">+355</option>\n                                <option value=\"389\">+389</option>\n                            </select>\n                            <input href=\"#\" id=\"TooltipExample\" has-error={(errors.phone || validNumber) ? 'true' : 'false'} ref={register({ required: true })} name=\"phone\" className=\"add-order__wrapper-row-form-input\" placeholder={phonePlaceholder} />\n                        </div>\n                        {/* <Tooltip placement=\"left\" isOpen={tooltipOpen} target=\"TooltipExample\" toggle={toggle}>{i18n.t('addOrder.receiveCode')}</Tooltip> */}\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.country')}</div>\n                        <select name=\"country\" has-error={errors.country ? 'true' : 'false'} ref={register({ required: true })} onChange={handleSelectCountry} className=\"add-order__wrapper-row-form-input\">\n                            <option value=\"Kosovë\">{i18n.t('addOrder.kosovo')}</option>\n                            <option value=\"Shqipëri\">{i18n.t('addOrder.albania')}</option>\n                            <option value=\"Maqedoni e Veriut\">{i18n.t('addOrder.northMacedonia')}</option>\n                        </select>\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.city')}</div>\n                        <select onChange={handleSelectCity} name=\"city\" has-error={errors.city ? 'true' : 'false'} ref={register({ required: true })} className=\"add-order__wrapper-row-form-input\">\n                            {cities[country].map((item, index) => {\n                                return <option key={index} value={item}>{item}</option>\n                            })}\n                        </select>\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.address')}</div>\n                        <input has-error={errors.address ? 'true' : 'false'} ref={register({ required: true })} name=\"address\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.address')} />\n                        <div className=\"add-order__wrapper-row-form-label\">{i18n.t('addOrder.building')}</div>\n                        <input has-error={errors.building ? 'true' : 'false'} ref={register({ required: false })} name=\"building\" className=\"add-order__wrapper-row-form-input\" placeholder={i18n.t('addOrder.building')} />\n                    </div>\n                </div>\n                <div className=\"add-order__wrapper-row-column-title\">{i18n.t('addOrder.putLocation')}</div>\n                <ReactMapGL\n                    {...viewPort}\n                    maxZoom={18}\n                    mapStyle={'mapbox://styles/mapbox/streets-v9'}\n                    // mapStyle={'mapbox://styles/mapbox/satellite-v9'}\n                    mapboxApiAccessToken={'pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q'}\n                    width={\"100%\"}\n                    height={400}\n                    onViewportChange={(viewport) => setViewPort(viewport)}>\n                    <Marker latitude={latitudeMarker} longitude={longitudeMarker} offsetLeft={-23} offsetTop={-46} draggable={true} onDragStart={onDragStart} onDragEnd={onDragEnd}>\n                        <div ><img src={images.orders.pin} width={46} height={46} alt=\"App Logo\" />\n                        </div>\n                    </Marker>\n                </ReactMapGL>\n                <div className=\"add-order__wrapper-footer\">\n                    <button disabled={hasOrdred} type=\"submit\">{i18n.t('addOrder.button')}</button>\n                </div>\n                <a href=\"https://strikecourier.com\">\n                    <div className=\"add-order__footer\">\n                        <img className=\"add-order__footer-logo\" src={logoWithoutText} />\n                        <div className=\"add-order__footer-text\">Powered by Strike™</div>\n                    </div>\n                </a>\n            </form>\n        </div>\n    )\n}\n\nconst mapStateToProps = ({ product, orderPosted }) => ({ product, orderPosted });\nconst mapDispatchToProps = { postOrder, toggleErrorModal, getProduct, sendCodeVerification };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(AddOrder));"],"sourceRoot":""}