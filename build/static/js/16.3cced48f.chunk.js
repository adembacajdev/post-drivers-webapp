(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[16],{214:function(e,t,a){"use strict";var r=a(0),o=a.n(r);a(215);t.a=function(e){return o.a.createElement("div",{className:"strike-wrapper"},e.children)}},215:function(e,t,a){},228:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h}));var r=a(15),o=a.n(r),n=a(24),d=a(1),s=a(10),c=a.n(s),i=function(e,t){return function(){var a=Object(n.a)(o.a.mark((function a(r){var n,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.get("/products/paginate/".concat(e,"?page=").concat(t));case 3:200===(n=a.sent).status?r({type:d.j,data:n.data}):403===n.code?(r({type:d.I,data:!1}),localStorage.removeItem("token"),c.a.defaults.headers.common["Content-Type"]="applicaton/json",c.a.defaults.headers.common.Authorization=""):r({type:d.cb,data:n.message}),a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),401===(null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s?void 0:s.status)&&(r({type:d.K}),r({type:d.I,data:!1}),r({type:d.a}),localStorage.clear()),a.abrupt("return",Promise.reject(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(n.a)(o.a.mark((function t(a){var r,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("/products/search?name=".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:d.X,data:n.data}):403===n.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),c.a.defaults.headers.common["Content-Type"]="applicaton/json",c.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:n.message}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(n.a)(o.a.mark((function t(a){var r,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:d.x,data:n.data}):403===n.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),c.a.defaults.headers.common["Content-Type"]="applicaton/json",c.a.defaults.headers.common.Authorization=""):a({type:d.x,data:{error:n.error}}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(n.a)(o.a.mark((function t(a){var r,n,s,i,l,u,p,m,f,h,v,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,s=e.size,i=e.ks_price,l=e.al_price,u=e.mk_price,p=e.openable,m=e.history,f=JSON.parse(p),t.next=5,c.a.post("/products",{name:r,description:n,size:s,ks_price:i,al_price:l,mk_price:u,openable:f});case 5:h=t.sent,(v=h.data).success?m.goBack():403===v.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),c.a.defaults.headers.common["Content-Type"]="applicaton/json",c.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:v.message}),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(b=t.t0.response)||void 0===b?void 0:b.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(n.a)(o.a.mark((function t(a){var r,n,s,i,l,u,p,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,s=e.size,i=e.id,l=e.history,t.next=4,c.a.put("/products/".concat(i),{name:r,description:n,size:s});case 4:u=t.sent,(p=u.data).success?(a({type:d.fb,data:p}),l.goBack()):403===p.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),c.a.defaults.headers.common["Content-Type"]="applicaton/json",c.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:p.message}),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(m=t.t0.response)||void 0===m?void 0:m.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(o.a.mark((function t(a){var r,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.delete("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?window.location.reload():403===n.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),c.a.defaults.headers.common["Content-Type"]="applicaton/json",c.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:n.error}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(n.a)(o.a.mark((function t(a){var r,n,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="",e.forEach((function(e){r=""===r?"product_ids[]=".concat(e):"".concat(r,"&product_ids[]=").concat(e)})),t.next=5,c.a.delete("/products?".concat(r));case 5:n=t.sent,(s=n.data).success?window.location.reload():403===s.code?(a({type:d.I,data:!1}),localStorage.removeItem("token"),c.a.defaults.headers.common["Content-Type"]="applicaton/json",c.a.defaults.headers.common.Authorization=""):a({type:d.cb,data:s.message}),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i?void 0:i.status)&&(a({type:d.K}),a({type:d.I,data:!1}),a({type:d.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},511:function(e,t,a){},794:function(e,t,a){"use strict";a.r(t);var r=a(15),o=a.n(r),n=a(24),d=a(16),s=a(0),c=a.n(s),i=(a(511),a(214)),l=a(203),u=a(8),p=a(5),m=a(219),f=a(309),h=a(315),v=a(316),b=a(228),y=a(31),_=a(220),g=null,k={getProduct:b.d,postOrderByShop:_.m};t.default=Object(u.b)((function(e){return{product:e.product}}),k)(Object(l.g)((function(e){var t,a,r=Object(s.useState)([]),l=Object(d.a)(r,2),u=l[0],b=l[1],_=Object(m.a)(),k=_.register,w=_.handleSubmit,O=_.errors,E=Object(s.useState)("Kosov\xeb"),j=Object(d.a)(E,2),N=j[0],x=j[1],I=Object(s.useState)(!1),S=Object(d.a)(I,2),z=(S[0],S[1],Object(s.useState)(42.66758079200047)),q=Object(d.a)(z,2),P=q[0],T=q[1],C=Object(s.useState)(21.165194013322285),A=Object(d.a)(C,2),K=A[0],D=A[1],J=Object(s.useState)({width:1200,height:600,latitude:42.66758079200047,longitude:21.165194013322285,zoom:14}),L=Object(d.a)(J,2),V=L[0],Y=L[1];Object(s.useEffect)((function(){var t;(null===(t=e.location.state)||void 0===t?void 0:t.id)?e.getProduct(e.location.state.id):console.log("no id")}),[e.location.state.id]);return Object(s.useEffect)((function(){e.orderPosted&&setTimeout((function(){window.location.reload()}),1e3)}),[e.orderPosted]),Object(s.useEffect)((function(){b(e.product)}),[e.product]),c.a.createElement(i.a,null,c.a.createElement("div",{className:"strike-addorderbyshop"},c.a.createElement("div",{className:"strike-addorderbyshop__title"},p.a.t("addProductForm.editProduct")),c.a.createElement("div",{className:"strike-addorderbyshop__form"},c.a.createElement("form",{onSubmit:w((function(t){var a=t.product_id,r=t.description,o=t.first_name,n=t.last_name,d=t.country,s=t.city,c=t.address,i=t.building,l=t.prefix,u=t.phone,p={product_id:a,description:r,first_name:o,last_name:n,phone:"".concat(l).concat(u),country:d,city:s,address:c,building:i,latitude:P,longitude:K};e.postOrderByShop(p,e.history)}))},c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-column-title"},p.a.t("addOrder.productDetails")),e.product&&c.a.createElement("div",{style:{fontSize:10,color:"red"}},null===u||void 0===u?void 0:u.error),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.productId")),c.a.createElement("input",{onChange:function(t){window.onkeyup=function(t){clearTimeout(g),g=setTimeout(Object(n.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"product_id"===t.target.name&&6===t.target.value.length&&e.getProduct(t.target.value);case 1:case"end":return a.stop()}}),a)}))),500)}},defaultValue:null===e||void 0===e||null===(t=e.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.id,"has-error":O.product_id?"true":"false",ref:k({required:!0}),name:"product_id",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.productId")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.name")),c.a.createElement("input",{defaultValue:null===u||void 0===u?void 0:u.name,disabled:!0,ref:k({required:!1}),name:"name",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.name")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.description")),c.a.createElement("input",{defaultValue:null===u||void 0===u?void 0:u.description,disabled:!0,ref:k({required:!1}),name:"firstDescription",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.description")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.price")),c.a.createElement("input",{defaultValue:null===u||void 0===u?void 0:u.ks_price,disabled:!0,ref:k({required:!1}),name:"price",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.price")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.additionalInfo")),c.a.createElement("input",{"has-error":O.description?"true":"false",ref:k({required:!1}),name:"description",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.exSizeColor")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-column-title"},p.a.t("addOrder.yourInformation")),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.firstName")),c.a.createElement("input",{"has-error":O.first_name?"true":"false",ref:k({required:!0}),name:"first_name",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.firstName")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.lastName")),c.a.createElement("input",{"has-error":O.last_name?"true":"false",ref:k({required:!0}),name:"last_name",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.lastName")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.phone")),c.a.createElement("div",{className:"flex-row"},c.a.createElement("select",{name:"prefix",ref:k({required:!1}),className:"strike-addorderbyshop__fields-row-form-input w-10"},c.a.createElement("option",{value:"383"},"+383"),c.a.createElement("option",{value:"355"},"+355"),c.a.createElement("option",{value:"389"},"+389")),c.a.createElement("input",{href:"#",id:"TooltipExample","has-error":O.phone?"true":"false",ref:k({required:!0}),name:"phone",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.phone")})),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.country")),c.a.createElement("select",{name:"country","has-error":O.country?"true":"false",ref:k({required:!0}),onChange:function(e){x(e.target.value),T(v.a[e.target.value][0]),D(v.a[e.target.value][1]),Y({width:1200,height:600,latitude:v.a[e.target.value][0],longitude:v.a[e.target.value][1],zoom:14})},className:"strike-addorderbyshop__fields-row-form-input"},c.a.createElement("option",{value:"Kosov\xeb"},p.a.t("addOrder.kosovo")),c.a.createElement("option",{value:"Shqip\xebri"},p.a.t("addOrder.albania")),c.a.createElement("option",{value:"Maqedoni e Veriut"},p.a.t("addOrder.northMacedonia"))),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.city")),c.a.createElement("select",{onChange:function(e){T(v.a[e.target.value][0]),D(v.a[e.target.value][1]),Y({width:1200,height:600,latitude:v.a[e.target.value][0],longitude:v.a[e.target.value][1],zoom:14})},name:"city","has-error":O.city?"true":"false",ref:k({required:!0}),className:"strike-addorderbyshop__fields-row-form-input"},h.a[N].map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.address")),c.a.createElement("input",{"has-error":O.address?"true":"false",ref:k({required:!0}),name:"address",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.address")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-form-label"},p.a.t("addOrder.building")),c.a.createElement("input",{"has-error":O.building?"true":"false",ref:k({required:!1}),name:"building",className:"strike-addorderbyshop__fields-row-form-input",placeholder:p.a.t("addOrder.building")}),c.a.createElement("div",{className:"strike-addorderbyshop__fields-row-column-title"},p.a.t("addOrder.putLocation")),c.a.createElement(f.b,Object.assign({},V,{maxZoom:18,mapStyle:"mapbox://styles/mapbox/streets-v9",mapboxApiAccessToken:"pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q",width:"100%",height:400,onViewportChange:function(e){return Y(e)}}),c.a.createElement(f.a,{latitude:P,longitude:K,offsetLeft:-23,offsetTop:-46,draggable:!0,onDragStart:function(e){e.lngLat},onDragEnd:function(e){T(e.lngLat[1]),D(e.lngLat[0])}},c.a.createElement("div",null,c.a.createElement("img",{src:y.a.orders.pin,width:46,height:46,alt:"App Logo"})))),c.a.createElement("div",{className:"strike-addorderbyshop__fields-footer"},c.a.createElement("button",{type:"submit"},p.a.t("addOrder.button")))))))})))}}]);
//# sourceMappingURL=16.3cced48f.chunk.js.map