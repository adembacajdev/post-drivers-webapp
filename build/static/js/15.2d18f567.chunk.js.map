{"version":3,"sources":["pages/customers/SeeCustomer.jsx","containers/wrapper/Wrapper.jsx","store/actions/customers.jsx"],"names":["mapDispatchToProps","getCustomer","deleteCustomer","connect","customer","props","useEffect","location","state","id","className","i18next","t","disabled","defaultValue","first_name","placeholder","last_name","phone","country","city","address","building","product","name","description","ks_price","onClick","history","goBack","Wrapper","children","getAllCustomers","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_CUSTOMERS","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","IS_LOGGED_IN","CLEAR_NOTIFICATION","localStorage","clear","Promise","reject","searchCustomers","text","post","success","SEARCH_CUSTOMERS","GET_SELECTED_CUSTOMERS","code","removeItem","defaults","headers","common","getRecentCustomers","GET_RECENT_CUSTOMERS","delete","window","reload","deleteCustomers","client_ids","query","forEach","item"],"mappings":"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","file":"static/js/15.2d18f567.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport './customers.scss';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport { connect } from 'react-redux';\nimport { getCustomer, deleteCustomer } from '../../store/actions/customers';\nimport i18next from 'i18next';\n\nconst SeeCustomer = (props) => {\n    useEffect(() => { props.getCustomer(props.location.state.id); }, []);\n    const delCustomer = () => {\n        props.deleteCustomer(props.location.state.id);\n        props.history.goBack()\n    }\n    return (\n        <Wrapper>\n            <div className=\"strike-customer\">\n                <div className=\"strike-customer__header\">{i18next.t('customers.customerDetails')}</div>\n                <div className=\"strike-customer__body\">\n                    <div className=\"strike-customer__body-left\">\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.firstName')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.first_name} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.lastName')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.last_name} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.phone')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.phone} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.country')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.country} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.city')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.city} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.address')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.address} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.building')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.building} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                    </div>\n                    <div className=\"strike-customer__body-right\">\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.product')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.product.name} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.description')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.product.description} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.price')}</div>\n                        <input disabled defaultValue={props.customer && props.customer.product.ks_price} className=\"strike-customer__body-input\" placeholder=\"Field\" />\n                    </div>\n                </div>\n                <button onClick={delCustomer} className=\"strike-customer__body-button\">{i18next.t('customers.delete')}</button>\n            </div>\n        </Wrapper>\n    )\n}\n\nconst mapStateToProps = ({ customer }) => ({ customer });\nconst mapDispatchToProps = { getCustomer, deleteCustomer };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SeeCustomer);","import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","//RECENT CUSTOMERS are missing from Postman\nimport {\n    GET_ALL_CUSTOMERS, GET_SELECTED_CUSTOMERS, GET_CUSTOMERS_ORDER, DELETE_CUSTOMER, DELETE_CUSTOMERS, GET_RECENT_CUSTOMERS,\n    IS_LOGGED_IN, SEARCH_CUSTOMERS, TOGGLE_ERROR_MODAL, LOG_OUT, CLEAR_NOTIFICATION\n} from '../actionTypes';\nimport axios from 'axios';\n\nexport const getAllCustomers = (limit, page) => async (dispatch) => {\n    try {\n        const data = await axios.get(`clients/paginate/${limit}?page=${page}`);\n        if (data.status === 200) {\n            dispatch({ type: GET_ALL_CUSTOMERS, data: data.data })\n        } else {\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const searchCustomers = (type, text) => async (dispatch) => {\n    try {\n        const { data } = await axios.post(`clients/search/${type}?${type}=${text}`);\n        if (data.success) {\n            dispatch({ type: SEARCH_CUSTOMERS, data: data.data })\n        } else {\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getCustomer = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/clients/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_SELECTED_CUSTOMERS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getCustomerOrders = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/clients/${id}/order`);\n        if (data.success) {\n            dispatch({ type: GET_CUSTOMERS_ORDER, data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getRecentCustomers = () => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/recent/clients`);\n        if (data.success) {\n            dispatch({ type: GET_RECENT_CUSTOMERS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteCustomer = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.delete(`/clients/${id}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteCustomers = (client_ids) => async (dispatch) => {\n    try {\n        var query = '';\n        client_ids.forEach(item => {\n            if (query === '') query = `client_ids[]=${item}`;\n            else query = `${query}&client_ids[]=${item}`;\n        });\n        const { data } = await axios.delete(`/clients?${query}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}"],"sourceRoot":""}