{"version":3,"sources":["pages/products/Context.jsx","pages/products/TableItem.jsx","pages/products/Table.jsx","pages/products/Products.jsx","containers/wrapper/Wrapper.jsx","store/actions/products.jsx"],"names":["Context","createContext","TableItem","item","deleteProduct","host","window","location","useContext","selected","setSelected","history","selectedAll","useHistory","threePoints","images","products","useState","id","copyText","checked","setChecked","isOpen","open","toggle","useCallback","edit","push","deleteProd","useEffect","deletedCheck","filter","el","length","className","type","onChange","value","onClick","name","is-responsive","description","ks_price","src","toast","notify","position","copy","i18n","t","Table","items","selectAll","selectAllProducts","map","index","key","mapDispatchToProps","getAllProducts","searchProducts","deleteProducts","connect","allProducts","deletedProduct","withRouter","props","customers","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","data","setData","useForm","register","handleSubmit","errors","reload","newArray","forEach","elem","nextPage","hasNextPage","currentPage","prevPage","hasPrevPage","number","page","addProduct","Provider","Wrapper","onSubmit","search","ref","required","placeholder","lastPage","is-active","disabled","children","limit","dispatch","a","axios","get","status","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","CLEAR_NOTIFICATION","clear","Promise","reject","post","success","SEARCH_PRODUCTS","getProduct","GET_PRODUCT","error","postStoreProduct","body","console","log","size","al_price","mk_price","openable","parsedOpenable","JSON","parse","goBack","updateProduct","put","UPDATE_PRODUCT","delete","product_ids","query"],"mappings":"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","file":"static/js/17.a43760ba.chunk.js","sourcesContent":["import React, {createContext} from 'react';\n\nconst Context = createContext(null);\n\nexport default Context;","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './products.scss';\nimport Context from './Context';\nimport config from '../../config';\nimport copy from \"copy-to-clipboard\";\nimport toast from 'toasted-notes'\nimport 'toasted-notes/src/styles.css';\n\nconst TableItem = ({ item, deleteProduct }) => {\n    let host = window.location.host;\n    const { selected, setSelected, selectedAll } = useContext(Context);\n    const history = useHistory();\n    const { threePoints } = images.products;\n\n    const [copyText, setCopyText] = useState(`${host}/add-order/${item.id}`)\n    const [checked, setChecked] = useState(item.checked)\n    const [isOpen, open] = useState(false);\n\n    const toggle = useCallback(() => { open(!isOpen) }, [isOpen]);\n    const edit = useCallback(() => { history.push('/edit-product', { id: item.id }) }, []);\n    const deleteProd = useCallback(() => { deleteProduct(item.id) }, []);\n    const check = () => setChecked(!checked);\n    const copyLink = () => {\n        toast.notify('Link copied!', { position: 'bottom-right' });\n        copy(copyText);\n    }\n    const addOrder = () => history.push('/add-order-by-shop', { id: item.id })\n\n    useEffect(() => {\n        if (checked) setSelected([...selected, item.id])\n        else if (!checked) {\n            const deletedCheck = selected.filter(el => el !== item.id);\n            setSelected(deletedCheck);\n        }\n    }, [checked]);\n\n    useEffect(() => {\n        const iAmSelected = selected.filter(el => el === item.id);\n        if (iAmSelected.length === 0) {\n            setChecked(false)\n        } else {\n            setChecked(true);\n        }\n    }, [selected])\n\n    return (\n        <div className=\"strike-products__table-item\">\n            <div className=\"strike-products__table-item-content flex-1\">\n                <input type=\"checkbox\" onChange={check} value={checked} checked={checked} />\n            </div>\n            <div onClick={edit} className=\"strike-products__table-item-content flex-1\">\n                <div className=\"strike-products__table-item-content-text\">{item.id}</div>\n            </div>\n            <div onClick={edit} className=\"strike-products__table-item-content flex-3\">\n                <div className=\"strike-products__table-item-content-text ml-15\">{item.name}</div>\n            </div>\n            <div onClick={edit} is-responsive=\"true\" className=\"strike-products__table-item-content flex-3\">\n                <div className=\"strike-products__table-item-content-text\">{item.description}</div>\n            </div>\n            <div onClick={edit} className=\"strike-products__table-item-content flex-15\">\n                <div className=\"strike-products__table-item-content-text\">{`${item.ks_price}â‚¬`}</div>\n            </div>\n            <div is-responsive=\"true\" onClick={toggle} className=\"strike-products__table-item-content flex-15 text-center\">\n                <div className=\"dropdown\">\n                    <img className=\"strike-products__table-item-content-points\" src={threePoints} />\n                    <div id=\"dropdown-content\" className=\"dropdown-content\">\n                        <div onClick={copyLink} className=\"dropdown-content-text\">{i18n.t('products.copyLink')}</div>\n                        <div onClick={edit} className=\"dropdown-content-text\">{i18n.t('products.edit')}</div>\n                        <div onClick={addOrder} className=\"dropdown-content-text\">{i18n.t('products.addOrder')}</div>\n                        <div onClick={deleteProd} className=\"dropdown-content-text\">{i18n.t('products.delete')}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default TableItem;","import React, { useContext, useCallback } from 'react';\nimport i18n from '../../services/locales/i18n';\nimport './products.scss';\nimport TableItem from './TableItem';\nimport Context from './Context';\n\nconst Table = ({ items, deleteProduct }) => {\n    const { selectedAll, selectAll } = useContext(Context);\n    const selectAllProducts = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\n    return (\n        <div className=\"strike-products__table\">\n            <div className=\"strike-products__table-header\">\n                <div className=\"strike-products__table-header-item flex-1\">\n                    <input type=\"checkbox\" onChange={selectAllProducts} value={selectedAll} checked={selectedAll} />\n                </div>\n                <div className=\"strike-products__table-header-item flex-1\">{i18n.t('products.id')}</div>\n                <div className=\"strike-products__table-header-item flex-3\">{i18n.t('products.product')}</div>\n                <div is-responsive=\"true\" className=\"strike-products__table-header-item flex-3\">{i18n.t('products.description')}</div>\n                <div className=\"strike-products__table-header-item flex-15\">{i18n.t('products.price')}</div>\n                <div is-responsive=\"true\" className=\"strike-products__table-header-item flex-15 text-center\">{i18n.t('products.actions')}</div>\n            </div>\n            {items && items.map((item, index) => {\n                return <TableItem key={index} item={item} deleteProduct={deleteProduct} />\n            })}\n        </div>\n    )\n}\n\nexport default Table;","import React, { useState, useCallback, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './products.scss';\nimport { getAllProducts, deleteProduct, searchProducts, deleteProducts } from '../../store/actions/products';\nimport { useForm } from \"react-hook-form\";\nimport Context from './Context';\nimport Table from './Table';\n\nconst Products = (props) => {\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.customers;\n    const [data, setData] = useState(props.allProducts);\n    const [selected, setSelected] = useState([]);\n    const [selectedAll, selectAll] = useState(false)\n    const { register, handleSubmit, errors } = useForm();\n    const onSubmit = ({ search }) => {\n        props.searchProducts(search);\n    };\n\n    useEffect(() => { props.getAllProducts(10, 1) }, []);\n    useEffect(() => { if (props.deletedProduct) window.location.reload() }, [props.deletedProduct])\n    useEffect(() => {\n        setData(props.allProducts);\n        selectAll(false);\n        setSelected([])\n    }, [props.allProducts]);\n    useEffect(() => {\n        if (selectedAll) {\n            let newArray = [];\n            data.data.forEach(elem => {\n                newArray.push(elem.id)\n            })\n            setSelected(newArray)\n        } else {\n            setSelected([])\n        }\n    }, [selectedAll])\n\n    const deleteSelectedProducts = () => {\n        props.deleteProducts(selected);\n        selectAll(false);\n        setSelected([])\n    }\n\n    const nextPage = useCallback(() => { if (data.hasNextPage) props.getAllProducts(10, data.currentPage + 1) }, [data]);\n    const prevPage = useCallback(() => { if (data.hasPrevPage) props.getAllProducts(10, data.currentPage - 1) }, [data]);\n    const number = useCallback((page) => { props.getAllProducts(10, page) }, [data]);\n\n    const addProduct = useCallback(() => { props.history.push('/add-product') }, []);\n    \n    return (\n        <Context.Provider value={{ selected, setSelected, selectedAll, selectAll }}>\n            <Wrapper>\n                <div className=\"strike-products\">\n                    <div className=\"strike-products__header\">\n                        <div className=\"strike-products__header-left\">\n                            <div className=\"strike-products__header-left-title\">{i18n.t('products.products')}</div>\n                        </div>\n                        <div className=\"strike-products__header-right\">\n                            <div onClick={addProduct} className=\"strike-products__header-right-text\">{i18n.t('products.addProduct')}</div>\n                        </div>\n                    </div>\n                    <form onSubmit={handleSubmit(onSubmit)} className=\"strike-products__search\">\n                        <input name=\"search\" ref={register({ required: true })} placeholder={i18n.t('products.searchPlaceholder')} className=\"strike-products__search-input\" />\n                        <button type=\"submit\" className=\"strike-products__search-button\">{i18n.t('products.search')}</button>\n                    </form>\n                    <Table items={data.data} deleteProduct={props.deleteProduct} />\n                    <div className=\"strike-products__pagination\">\n                        <img onClick={prevPage} src={data.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-products__pagination-leftarrow' />\n                        {data && data.lastPage.map(item => {\n                            return <div onClick={() => number(item)} is-active={item === data.currentPage ? 'true' : 'false'} key={item} className=\"strike-products__pagination-number\">{item}</div>\n                        })}\n                        <img onClick={nextPage} src={data.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-products__pagination-rightarrow' />\n                    </div>\n                    <button onClick={deleteSelectedProducts} disabled={selected.length ? false : true} className=\"strike-products__delete-selected\">{i18n.t('products.deleteProducts')}</button>\n                </div>\n            </Wrapper>\n        </Context.Provider>\n    )\n}\n\nconst mapStateToProps = ({ allProducts, deletedProduct }) => ({ allProducts, deletedProduct });\nconst mapDispatchToProps = { getAllProducts, deleteProduct, searchProducts, deleteProducts };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Products));","import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","import {\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER, LOG_OUT, CLEAR_NOTIFICATION\n} from '../actionTypes';\nimport axios from 'axios';\n\nexport const getAllProducts = (limit, page) => async (dispatch) => {\n    try {\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\n        if (data.status === 200) {\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const searchProducts = (search) => async (dispatch) => {\n    try {\n        const { data } = await axios.post(`/products/search?name=${search}`);\n        if (data.success) {\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProductOrder = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}/orders`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT_ORDER, data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const postStoreProduct = (body) => async (dispatch) => {\n    console.log('body', body)\n    try {\n        const { name, description, size, ks_price, al_price, mk_price, openable, history } = body;\n        const parsedOpenable = JSON.parse(openable);\n        const { data } = await axios.post(`/products`, { name, description, size, ks_price, al_price, mk_price, openable: parsedOpenable });\n        if (data.success) {\n            history.goBack()\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const updateProduct = (body) => async (dispatch) => {\n    try {\n        const { name, description, size, id, history } = body;\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\n        if (data.success) {\n            dispatch({ type: UPDATE_PRODUCT, data });\n            history.goBack();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.delete(`/products/${id}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProducts = (product_ids) => async (dispatch) => {\n    try {\n        var query = '';\n        product_ids.forEach(item => {\n            if (query === '') query = `product_ids[]=${item}`;\n            else query = `${query}&product_ids[]=${item}`;\n        });\n        const { data } = await axios.delete(`/products?${query}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e.response.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const selectAllProducts = (data) => (dispatch) => {\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\n}"],"sourceRoot":""}