{"version":3,"sources":["containers/wrapper/Wrapper.jsx","store/actions/customers.jsx","pages/customers/Context.jsx","pages/customers/TableItem.jsx","pages/customers/Table.jsx","pages/customers/Customers.jsx"],"names":["Wrapper","props","className","children","getAllCustomers","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_CUSTOMERS","TOGGLE_ERROR_MODAL","message","Promise","reject","searchCustomers","text","post","success","SEARCH_CUSTOMERS","getCustomer","id","GET_SELECTED_CUSTOMERS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","getRecentCustomers","GET_RECENT_CUSTOMERS","deleteCustomer","delete","window","location","reload","deleteCustomers","client_ids","query","forEach","item","Context","createContext","TableItem","first_name","last_name","phone","address","city","useContext","selected","setSelected","history","useHistory","useState","checked","setChecked","threePoints","images","customers","navigate","push","useEffect","deletedCheck","filter","el","length","onChange","value","onClick","is-responsive","src","i18n","t","Table","items","selectedAll","selectAll","tableArrow","selectAllCustomers","useCallback","style","marginRight","map","index","key","mapDispatchToProps","connect","allCustomers","deletedCustomer","withRouter","setCustomers","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","useForm","register","handleSubmit","newArray","elem","nextPage","hasNextPage","currentPage","prevPage","hasPrevPage","number","Provider","onSubmit","search","name","ref","required","placeholder","lastPage","is-active","disabled"],"mappings":"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","file":"static/js/12.b9c761f9.chunk.js","sourcesContent":["import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","//RECENT CUSTOMERS are missing from Postman\nimport {\n    GET_ALL_CUSTOMERS, GET_SELECTED_CUSTOMERS, GET_CUSTOMERS_ORDER, DELETE_CUSTOMER, DELETE_CUSTOMERS, GET_RECENT_CUSTOMERS,\n    IS_LOGGED_IN, SEARCH_CUSTOMERS, TOGGLE_ERROR_MODAL\n} from '../actionTypes';\nimport axios from 'axios';\n\nexport const getAllCustomers = (limit, page) => async (dispatch) => {\n    try {\n        const data = await axios.get(`clients/paginate/${limit}?page=${page}`);\n        if (data.status === 200) {\n            dispatch({ type: GET_ALL_CUSTOMERS, data: data.data })\n        } else {\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const searchCustomers = (type, text) => async (dispatch) => {\n    try {\n        const { data } = await axios.post(`clients/search/${type}?${type}=${text}`);\n        if (data.success) {\n            dispatch({ type: SEARCH_CUSTOMERS, data: data.data })\n        } else {\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const getCustomer = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/clients/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_SELECTED_CUSTOMERS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const getCustomerOrders = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/clients/${id}/order`);\n        if (data.success) {\n            dispatch({ type: GET_CUSTOMERS_ORDER, data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const getRecentCustomers = () => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/recent/clients`);\n        if (data.success) {\n            dispatch({ type: GET_RECENT_CUSTOMERS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteCustomer = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.delete(`/clients/${id}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteCustomers = (client_ids) => async (dispatch) => {\n    try {\n        var query = '';\n        client_ids.forEach(item => {\n            if (query === '') query = `client_ids[]=${item}`;\n            else query = `${query}&client_ids[]=${item}`;\n        });\n        const { data } = await axios.delete(`/clients?${query}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}","import React, {createContext} from 'react';\n\nconst Context = createContext(null);\n\nexport default Context;","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './customers.scss';\nimport Context from './Context';\n\nconst TableItem = ({ id, first_name, last_name, phone, address, city, deleteCustomer, item }) => {\n    const { selected, setSelected } = useContext(Context);\n    const history = useHistory()\n    const [checked, setChecked] = useState(item.checked);\n    const { threePoints } = images.customers;\n\n    const deleteClient = () => deleteCustomer(id);\n    const navigate = () => history.push('/customer', { id });\n    const check = () => setChecked(!checked);\n\n    useEffect(() => {\n        if (checked) setSelected([...selected, id])\n        else if (!checked) {\n            const deletedCheck = selected.filter(el => el !== id);\n            setSelected(deletedCheck);\n        }\n    }, [checked]);\n\n    useEffect(() => {\n        const iAmSelected = selected.filter(item => item === id);\n        if (iAmSelected.length === 0) {\n            setChecked(false)\n        } else {\n            setChecked(true)\n        }\n    }, [selected])\n\n    return (\n        <div className=\"strike-customers__table-item\">\n            <div className=\"strike-customers__table-item-container\">\n                <input onChange={check} value={checked} checked={checked} className=\"strike-customers__table-item-container-checkbox\" type=\"checkbox\" />\n                <div onClick={navigate} className=\"strike-customers__table-item-container-text\">{first_name}</div>\n            </div>\n            <div onClick={navigate} className=\"strike-customers__table-item-container\">\n                <div className=\"strike-customers__table-item-container-text\">{last_name}</div>\n            </div>\n            <div is-responsive=\"true\" onClick={navigate} className=\"strike-customers__table-item-container\">\n                <div className=\"strike-customers__table-item-container-text\">{phone}</div>\n            </div>\n            <div onClick={navigate} is-responsive=\"true\" className=\"strike-customers__table-item-container\">\n                <div className=\"strike-customers__table-item-container-text\">{address}</div>\n            </div>\n            <div onClick={navigate} className=\"strike-customers__table-item-container centered\">\n                <div className=\"strike-customers__table-item-container-text\">{city}</div>\n            </div>\n            <div is-responsive=\"true\" className=\"strike-customers__table-item-container centered\">\n                <div className=\"dropdown\">\n                    <img className=\"strike-customers__table-item-container-dots\" src={threePoints} />\n                    <div className=\"dropdown-content\">\n                        <div onClick={deleteClient} className=\"dropdown-content-text\">{i18n.t('customers.delete')}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\nexport default TableItem;","import React from 'react';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './customers.scss';\nimport TableItem from './TableItem';\nimport Context from './Context';\nimport { useContext, useCallback } from 'react';\n\nconst Table = ({ items, deleteCustomer }) => {\n    const { selectedAll, selectAll } = useContext(Context);\n    const { tableArrow } = images.customers;\n    const selectAllCustomers = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\n    return (\n        <div className=\"strike-customers__table\">\n            <div className=\"strike-customers__table-header\">\n                <div className=\"strike-customers__table-header-item\">\n                    <input style={{marginRight: 15}} type=\"checkbox\" onChange={selectAllCustomers} value={selectedAll} checked={selectedAll} />\n                    <div className=\"strike-customers__table-header-item-text\">{i18n.t('customers.firstName')}</div>\n                    <img className=\"strike-customers__table-header-item-icon responsive\" src={tableArrow} />\n                </div>\n                <div className=\"strike-customers__table-header-item\">\n                    <div className=\"strike-customers__table-header-item-text\">{i18n.t('customers.lastName')}</div>\n                    <img className=\"strike-customers__table-header-item-icon responsive\" src={tableArrow} />\n                </div>\n                <div is-responsive=\"true\" className=\"strike-customers__table-header-item\">\n                    <div className=\"strike-customers__table-header-item-text\">{i18n.t('customers.phone')}</div>\n                    <img className=\"strike-customers__table-header-item-icon responsive\" src={tableArrow} />\n                </div>\n                <div is-responsive=\"true\" className=\"strike-customers__table-header-item\">\n                    <div className=\"strike-customers__table-header-item-text\">{i18n.t('customers.address')}</div>\n                    <img className=\"strike-customers__table-header-item-icon responsive\" src={tableArrow} />\n                </div>\n                <div className=\"strike-customers__table-header-item centered\">\n                    <div className=\"strike-customers__table-header-item-text\">{i18n.t('customers.city')}</div>\n                    <img className=\"strike-customers__table-header-item-icon responsive\" src={tableArrow} />\n                </div>\n                <div is-responsive=\"true\" className=\"strike-customers__table-header-item centered\">\n                    <div className=\"strike-customers__table-header-item-text\">{i18n.t('customers.actions')}</div>\n                </div>\n            </div>\n            {items && items.map((item, index) => {\n                return <TableItem item={item} deleteCustomer={deleteCustomer} key={index} {...item} />\n            })}\n        </div>\n    )\n}\n\nexport default Table;","import React, { useEffect, useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './customers.scss';\nimport { getAllCustomers, deleteCustomer, searchCustomers, deleteCustomers } from '../../store/actions/customers';\nimport { useForm } from \"react-hook-form\";\nimport Context from './Context';\nimport Table from './Table';\n\nconst Customers = (props) => {\n    const [customers, setCustomers] = useState(props.allCustomers);\n    const [selected, setSelected] = useState([]);\n    const [selectedAll, selectAll] = useState(false)\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.customers;\n\n    const { register, handleSubmit } = useForm();\n    const onSubmit = ({ type, search }) => { props.searchCustomers(type, search) };\n\n    useEffect(() => { props.getAllCustomers(10, 1) }, []);\n    useEffect(() => { if (props.deletedCustomer) { window.location.reload() } }, [props.deletedCustomer])\n    useEffect(() => {\n        setCustomers(props.allCustomers);\n        selectAll(false);\n        setSelected([])\n    }, [props.allCustomers]);\n    useEffect(() => {\n        if (selectedAll) {\n            let newArray = [];\n            customers.data.forEach(elem => {\n                newArray.push(elem.id)\n            })\n            setSelected(newArray)\n        } else { setSelected([]) }\n    }, [selectedAll])\n\n    const deleteSelectedCustomers = () => {\n        props.deleteCustomers(selected);\n        selectAll(false);\n        setSelected([])\n    }\n\n    const nextPage = useCallback(() => { if (customers.hasNextPage) props.getAllCustomers(10, customers.currentPage + 1) }, [customers]);\n    const prevPage = useCallback(() => { if (customers.hasPrevPage) props.getAllCustomers(10, customers.currentPage - 1) }, [customers]);\n    const number = useCallback((page) => { props.getAllCustomers(10, page) }, [customers]);\n    return (\n        <Context.Provider value={{ selected, setSelected, selectedAll, selectAll }}>\n            <Wrapper>\n                <div className=\"strike-customers\">\n                    <div className=\"strike-customers__header\">\n                        <div className=\"strike-customers__header-left\">\n                            <div className=\"strike-customers__header-left-text\">{i18n.t('customers.allCustomers')}</div>\n                        </div>\n                        <div className=\"strike-customers__header-right\">\n                        </div>\n                    </div>\n                    <form onSubmit={handleSubmit(onSubmit)} className=\"strike-customers__search\">\n                        <select name=\"type\" ref={register({ required: true })} className=\"strike-customers__search-select\">\n                            <option value=\"name\">{i18n.t('customers.name')}</option>\n                            <option value=\"phone\">{i18n.t('customers.phone')}</option>\n                            <option value=\"city\">{i18n.t('customers.city')}</option>\n                        </select>\n                        <input name=\"search\" ref={register({ required: true })} placeholder={i18n.t('customers.searchPlaceholder')} className=\"strike-customers__search-input\" />\n                        <button type=\"submit\" className=\"strike-customers__search-button\">{i18n.t('customers.search')}</button>\n                    </form>\n                    <Table deleteCustomer={props.deleteCustomer} items={customers.data} />\n                    <div className=\"strike-customers__pagination\">\n                        <img onClick={prevPage} src={customers.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-customers__pagination-leftarrow' />\n                        {customers && customers.lastPage.map(item => {\n                            return <div onClick={() => number(item)} is-active={item === customers.currentPage ? 'true' : 'false'} key={item} className=\"strike-customers__pagination-number\">{item}</div>\n                        })}\n                        <img onClick={nextPage} src={customers.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-customers__pagination-rightarrow' />\n                    </div>\n                    <button onClick={deleteSelectedCustomers} disabled={selected.length ? false : true} className=\"strike-customers__delete-selected\">{i18n.t('customers.deleteCustomers')}</button>\n                </div>\n            </Wrapper>\n        </Context.Provider>\n    )\n}\n\nconst mapStateToProps = ({ allCustomers, deletedCustomer }) => ({ allCustomers, deletedCustomer });\nconst mapDispatchToProps = { getAllCustomers, deleteCustomer, searchCustomers, deleteCustomers };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Customers));"],"sourceRoot":""}