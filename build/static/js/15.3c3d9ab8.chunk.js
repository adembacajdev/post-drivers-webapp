(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[15],{214:function(e,t,a){"use strict";var r=a(0),c=a.n(r);a(215);t.a=function(e){return c.a.createElement("div",{className:"strike-wrapper"},e.children)}},215:function(e,t,a){},231:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return b}));var r=a(15),c=a.n(r),n=a(24),s=a(2),o=a(10),u=a.n(o),i=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(r){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.get("/products/paginate/".concat(e,"?page=").concat(t));case 3:200===(n=a.sent).status?r({type:s.j,data:n.data}):403===n.code?(r({type:s.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):r({type:s.ab,data:n.message}),a.next=10;break;case 7:return a.prev=7,a.t0=a.catch(0),a.abrupt("return",Promise.reject(a.t0));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/products/search?name=".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:s.W,data:n.data}):403===n.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:s.ab,data:n.message}),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:s.x,data:n.data}):403===n.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:s.x,data:{error:n.error}}),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o,i,d,l,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,o=e.price,i=e.size,d=e.history,t.next=4,u.a.post("/products",{name:r,description:n,price:o,size:i});case 4:l=t.sent,(p=l.data).success?d.goBack():403===p.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:s.ab,data:p.message}),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o,i,d,l,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,o=e.size,i=e.id,d=e.history,t.next=4,u.a.put("/products/".concat(i),{name:r,description:n,size:o});case 4:l=t.sent,(p=l.data).success?(a({type:s.db,data:p}),d.goBack()):403===p.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:s.ab,data:p.message}),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.delete("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?window.location.reload():403===n.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:s.ab,data:n.error}),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="",e.forEach((function(e){r=""===r?"product_ids[]=".concat(e):"".concat(r,"&product_ids[]=").concat(e)})),t.next=5,u.a.delete("/products?".concat(r));case 5:n=t.sent,(o=n.data).success?window.location.reload():403===o.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),u.a.defaults.headers.common["Content-Type"]="applicaton/json",u.a.defaults.headers.common.Authorization=""):a({type:s.ab,data:o.message}),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},232:function(e,t,a){},795:function(e,t,a){"use strict";a.r(t);var r=a(16),c=a(0),n=a.n(c),s=a(6),o=a(203),u=a(214),i=a(32),d=a(5),l=(a(232),a(231)),p=a(225),m=Object(c.createContext)(null),f=a(240),b=(a(69),a(376)),h=a.n(b),v=a(490),k=(a(377),function(e){var t=e.item,a=e.deleteProduct,s=window.location.host,u=Object(c.useContext)(m),l=u.selected,p=u.setSelected,b=(u.selectedAll,Object(o.e)()),k=i.a.products.threePoints,_=Object(c.useState)("".concat(s,"/add-order/").concat(t.id)),j=Object(r.a)(_,2),E=j[0],x=(j[1],Object(c.useState)(t.checked)),g=Object(r.a)(x,2),P=g[0],y=g[1],N=Object(c.useState)(!1),O=Object(r.a)(N,2),w=O[0],C=O[1],A=Object(c.useCallback)((function(){C(!w)}),[w]),S=Object(c.useCallback)((function(){b.push("/edit-product",{id:t.id})}),[]),I=Object(c.useCallback)((function(){a(t.id)}),[]);return Object(c.useEffect)((function(){if(P)p([].concat(Object(f.a)(l),[t.id]));else if(!P){var e=l.filter((function(e){return e!==t.id}));p(e)}}),[P]),Object(c.useEffect)((function(){0===l.filter((function(e){return e===t.id})).length?y(!1):y(!0)}),[l]),n.a.createElement("div",{className:"strike-products__table-item"},n.a.createElement("div",{className:"strike-products__table-item-content flex-1"},n.a.createElement("input",{type:"checkbox",onChange:function(){return y(!P)},value:P,checked:P})),n.a.createElement("div",{onClick:S,className:"strike-products__table-item-content flex-1"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},t.id)),n.a.createElement("div",{onClick:S,className:"strike-products__table-item-content flex-3"},n.a.createElement("div",{className:"strike-products__table-item-content-text ml-15"},t.name)),n.a.createElement("div",{onClick:S,"is-responsive":"true",className:"strike-products__table-item-content flex-3"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},t.description)),n.a.createElement("div",{onClick:S,className:"strike-products__table-item-content flex-15"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},"".concat(t.price,"\u20ac"))),n.a.createElement("div",{"is-responsive":"true",onClick:A,className:"strike-products__table-item-content flex-15 text-center"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("img",{className:"strike-products__table-item-content-points",src:k}),n.a.createElement("div",{id:"dropdown-content",className:"dropdown-content"},n.a.createElement("div",{onClick:function(){v.a.notify("Link copied!",{position:"bottom-right"}),h()(E)},className:"dropdown-content-text"},d.a.t("products.copyLink")),n.a.createElement("div",{onClick:S,className:"dropdown-content-text"},d.a.t("products.edit")),n.a.createElement("div",{onClick:I,className:"dropdown-content-text"},d.a.t("products.delete"))))))}),_=function(e){var t=e.items,a=e.deleteProduct,r=Object(c.useContext)(m),s=r.selectedAll,o=r.selectAll,u=Object(c.useCallback)((function(){o(!s)}),[s]);return n.a.createElement("div",{className:"strike-products__table"},n.a.createElement("div",{className:"strike-products__table-header"},n.a.createElement("div",{className:"strike-products__table-header-item flex-1"},n.a.createElement("input",{type:"checkbox",onChange:u,value:s,checked:s})),n.a.createElement("div",{className:"strike-products__table-header-item flex-1"},d.a.t("products.id")),n.a.createElement("div",{className:"strike-products__table-header-item flex-3"},d.a.t("products.product")),n.a.createElement("div",{"is-responsive":"true",className:"strike-products__table-header-item flex-3"},d.a.t("products.description")),n.a.createElement("div",{className:"strike-products__table-header-item flex-15"},d.a.t("products.price")),n.a.createElement("div",{"is-responsive":"true",className:"strike-products__table-header-item flex-15 text-center"},d.a.t("products.actions"))),t&&t.map((function(e,t){return n.a.createElement(k,{key:t,item:e,deleteProduct:a})})))},j={getAllProducts:l.c,deleteProduct:l.a,searchProducts:l.f,deleteProducts:l.b};t.default=Object(s.b)((function(e){return{allProducts:e.allProducts,deletedProduct:e.deletedProduct}}),j)(Object(o.g)((function(e){var t=i.a.customers,a=t.filledLeftArrow,s=t.unfilledLeftArrow,o=t.filledRightArrow,l=t.unfilledRightArrow,f=Object(c.useState)(e.allProducts),b=Object(r.a)(f,2),h=b[0],v=b[1],k=Object(c.useState)([]),j=Object(r.a)(k,2),E=j[0],x=j[1],g=Object(c.useState)(!1),P=Object(r.a)(g,2),y=P[0],N=P[1],O=Object(p.a)(),w=O.register,C=O.handleSubmit;O.errors;Object(c.useEffect)((function(){e.getAllProducts(10,1)}),[]),Object(c.useEffect)((function(){e.deletedProduct&&window.location.reload()}),[e.deletedProduct]),Object(c.useEffect)((function(){v(e.allProducts),N(!1),x([])}),[e.allProducts]),Object(c.useEffect)((function(){if(y){var e=[];h.data.forEach((function(t){e.push(t.id)})),x(e)}else x([])}),[y]);var A=Object(c.useCallback)((function(){h.hasNextPage&&e.getAllProducts(10,h.currentPage+1)}),[h]),S=Object(c.useCallback)((function(){h.hasPrevPage&&e.getAllProducts(10,h.currentPage-1)}),[h]),I=Object(c.useCallback)((function(t){e.getAllProducts(10,t)}),[h]),z=Object(c.useCallback)((function(){e.history.push("/add-product")}),[]);return n.a.createElement(m.Provider,{value:{selected:E,setSelected:x,selectedAll:y,selectAll:N}},n.a.createElement(u.a,null,n.a.createElement("div",{className:"strike-products"},n.a.createElement("div",{className:"strike-products__header"},n.a.createElement("div",{className:"strike-products__header-left"},n.a.createElement("div",{className:"strike-products__header-left-title"},d.a.t("products.products"))),n.a.createElement("div",{className:"strike-products__header-right"},n.a.createElement("div",{onClick:z,className:"strike-products__header-right-text"},d.a.t("products.addProduct")))),n.a.createElement("form",{onSubmit:C((function(t){var a=t.search;e.searchProducts(a)})),className:"strike-products__search"},n.a.createElement("input",{name:"search",ref:w({required:!0}),placeholder:d.a.t("products.searchPlaceholder"),className:"strike-products__search-input"}),n.a.createElement("button",{type:"submit",className:"strike-products__search-button"},d.a.t("products.search"))),n.a.createElement(_,{items:h.data,deleteProduct:e.deleteProduct}),n.a.createElement("div",{className:"strike-products__pagination"},n.a.createElement("img",{onClick:S,src:h.hasPrevPage?a:s,className:"strike-products__pagination-leftarrow"}),h&&h.lastPage.map((function(e){return n.a.createElement("div",{onClick:function(){return I(e)},"is-active":e===h.currentPage?"true":"false",key:e,className:"strike-products__pagination-number"},e)})),n.a.createElement("img",{onClick:A,src:h.hasNextPage?o:l,className:"strike-products__pagination-rightarrow"})),n.a.createElement("button",{onClick:function(){e.deleteProducts(E),N(!1),x([])},disabled:!E.length,className:"strike-products__delete-selected"},d.a.t("products.deleteProducts")))))})))}}]);
//# sourceMappingURL=15.3c3d9ab8.chunk.js.map