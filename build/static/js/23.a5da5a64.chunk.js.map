{"version":3,"sources":["containers/wrapper/Wrapper.jsx","pages/orders/AddOrderByShop.jsx"],"names":["Wrapper","props","className","children","timeout","mapDispatchToProps","getProduct","postOrderByShop","connect","product","withRouter","useForm","register","handleSubmit","errors","productId","location","state","id","useState","country","setCountry","latitudeMarker","setLatitudeMarker","longitudeMarker","setLongitudeMarker","width","height","latitude","longitude","zoom","viewPort","setViewPort","useEffect","console","log","orderPosted","setTimeout","window","reload","i18n","t","onSubmit","product_id","description","first_name","last_name","city","address","building","prefix","phone","body","history","style","fontSize","color","error","onChange","e","onkeyup","clearTimeout","a","target","name","value","length","defaultValue","has-error","ref","required","placeholder","disabled","ks_price","href","locations","cities","map","item","index","key","maxZoom","mapStyle","mapboxApiAccessToken","onViewportChange","viewport","offsetLeft","offsetTop","draggable","onDragStart","event","lngLat","onDragEnd","src","images","orders","pin","alt","type"],"mappings":"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","file":"static/js/23.a5da5a64.chunk.js","sourcesContent":["import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","import React, { useEffect, useState } from 'react';\nimport './addOrderByShop.scss';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport i18n from '../../services/locales/i18n';\nimport { useForm } from \"react-hook-form\";\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport cities from '../../services/constants/Cities';\nimport locations from '../../services/constants/Locations';\nimport { getProduct } from '../../store/actions/products';\nimport images from '../../assets/images';\nimport { postOrderByShop } from '../../store/actions/orders';\n\nvar timeout = null;\n\nconst AddOrderByShop = (props) => {\n    const { register, handleSubmit, errors } = useForm();\n    const productId = props.location.state?.id;\n    const [country, setCountry] = useState('Kosovë');\n    const [tooltipOpen, setTooltipOpen] = useState(false);\n    const [latitudeMarker, setLatitudeMarker] = useState(42.66758079200047);\n    const [longitudeMarker, setLongitudeMarker] = useState(21.165194013322285);\n    const [viewPort, setViewPort] = useState({ width: 1200, height: 600, latitude: 42.66758079200047, longitude: 21.165194013322285, zoom: 14, })\n\n    const onDragStart = (event) => { const { lngLat } = event }\n    const onDragEnd = (event) => { setLatitudeMarker(event.lngLat[1]); setLongitudeMarker(event.lngLat[0]); }\n    const toggle = () => setTooltipOpen(!tooltipOpen);\n\n    const handleSelectCountry = (e) => {\n        setCountry(e.target.value);\n        setLatitudeMarker(locations[e.target.value][0]);\n        setLongitudeMarker(locations[e.target.value][1]);\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\n    }\n    const handleSelectCity = (e) => {\n        setLatitudeMarker(locations[e.target.value][0]);\n        setLongitudeMarker(locations[e.target.value][1]);\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\n    }\n\n    const onSubmit = ({ product_id, description, first_name, last_name, country, city, address, building, prefix, phone }) => {\n        const body = {\n            product_id, description, first_name, last_name, phone: `${prefix}${phone}`, country, city, address, building,\n            latitude: latitudeMarker, longitude: longitudeMarker\n        }\n        props.postOrderByShop(body, props.history);\n    }\n\n    useEffect(() => {\n        props.location.state?.id ? props.getProduct(props.location.state.id) : console.log('no id')\n    }, [])\n\n    const handleIdChange = (e) => {\n        window.onkeyup = (e) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(async () => {\n                if (e.target.name === 'product_id' && e.target.value.length === 6) {\n                    props.getProduct(e.target.value);\n                }\n            }, 500)\n        }\n    }\n\n    useEffect(() => {\n        if (props.orderPosted) {\n            setTimeout(() => {\n                window.location.reload();\n            }, 1000)\n        }\n    }, [props.orderPosted]);\n\n\n    return (\n        <Wrapper>\n            <div className=\"strike-addorderbyshop\">\n                <div className=\"strike-addorderbyshop__title\">{i18n.t('addProductForm.editProduct')}</div>\n                <div className=\"strike-addorderbyshop__form\">\n                    <form onSubmit={handleSubmit(onSubmit)}>\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.productDetails')}</div>\n                        {props.product && <div style={{ fontSize: 10, color: 'red' }}>{props.product && props.product.error}</div>}\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.productId')}</div>\n                        <input onChange={handleIdChange} defaultValue={productId} has-error={errors.product_id ? 'true' : 'false'} ref={register({ required: true })} name=\"product_id\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.productId')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.name')}</div>\n                        <input defaultValue={props.product && props.product.name} disabled ref={register({ required: false })} name=\"name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.name')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.description')}</div>\n                        <input defaultValue={props.product && props.product.description} disabled ref={register({ required: false })} name=\"firstDescription\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.description')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.price')}</div>\n                        <input defaultValue={props.product && props.product.ks_price} disabled ref={register({ required: false })} name=\"price\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.price')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.additionalInfo')}</div>\n                        <input has-error={errors.description ? 'true' : 'false'} ref={register({ required: false })} name=\"description\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.exSizeColor')} />\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.yourInformation')}</div>\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.firstName')}</div>\n                        <input has-error={errors.first_name ? 'true' : 'false'} ref={register({ required: true })} name=\"first_name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.firstName')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.lastName')}</div>\n                        <input has-error={errors.last_name ? 'true' : 'false'} ref={register({ required: true })} name=\"last_name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.lastName')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.phone')}</div>\n                        <div className=\"flex-row\">\n                            <select name=\"prefix\" ref={register({ required: false })} className=\"strike-addorderbyshop__fields-row-form-input w-10\">\n                                <option value=\"383\">+383</option>\n                                <option value=\"355\">+355</option>\n                                <option value=\"389\">+389</option>\n                            </select>\n                            <input href=\"#\" id=\"TooltipExample\" has-error={errors.phone ? 'true' : 'false'} ref={register({ required: true })} name=\"phone\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.phone')} />\n                        </div>\n                        {/* <Tooltip placement=\"left\" isOpen={tooltipOpen} target=\"TooltipExample\" toggle={toggle}>{i18n.t('addOrder.receiveCode')}</Tooltip> */}\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.country')}</div>\n                        <select name=\"country\" has-error={errors.country ? 'true' : 'false'} ref={register({ required: true })} onChange={handleSelectCountry} className=\"strike-addorderbyshop__fields-row-form-input\">\n                            <option value=\"Kosovë\">{i18n.t('addOrder.kosovo')}</option>\n                            <option value=\"Shqipëri\">{i18n.t('addOrder.albania')}</option>\n                            <option value=\"Maqedoni e Veriut\">{i18n.t('addOrder.northMacedonia')}</option>\n                        </select>\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.city')}</div>\n                        <select onChange={handleSelectCity} name=\"city\" has-error={errors.city ? 'true' : 'false'} ref={register({ required: true })} className=\"strike-addorderbyshop__fields-row-form-input\">\n                            {cities[country].map((item, index) => {\n                                return <option key={index} value={item}>{item}</option>\n                            })}\n                        </select>\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.address')}</div>\n                        <input has-error={errors.address ? 'true' : 'false'} ref={register({ required: true })} name=\"address\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.address')} />\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.building')}</div>\n                        <input has-error={errors.building ? 'true' : 'false'} ref={register({ required: false })} name=\"building\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.building')} />\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.putLocation')}</div>\n                        <ReactMapGL\n                            {...viewPort}\n                            maxZoom={18}\n                            mapStyle={'mapbox://styles/mapbox/streets-v9'}\n                            // mapStyle={'mapbox://styles/mapbox/satellite-v9'}\n                            mapboxApiAccessToken={'pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q'}\n                            width={\"100%\"}\n                            height={400}\n                            onViewportChange={(viewport) => setViewPort(viewport)}>\n                            <Marker latitude={latitudeMarker} longitude={longitudeMarker} offsetLeft={-23} offsetTop={-46} draggable={true} onDragStart={onDragStart} onDragEnd={onDragEnd}>\n                                <div ><img src={images.orders.pin} width={46} height={46} alt=\"App Logo\" />\n                                </div>\n                            </Marker>\n                        </ReactMapGL>\n                        <div className=\"strike-addorderbyshop__fields-footer\">\n                            <button type=\"submit\">{i18n.t('addOrder.button')}</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </Wrapper>\n    )\n}\n\nconst mapStateToProps = ({ product }) => ({ product });\nconst mapDispatchToProps = { getProduct, postOrderByShop };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(AddOrderByShop));"],"sourceRoot":""}