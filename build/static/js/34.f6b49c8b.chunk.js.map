{"version":3,"sources":["pages/orders/SeeOrder.jsx"],"names":["mapDispatchToProps","getOrder","deleteOrder","connect","order","props","useState","data","setData","width","height","latitude","longitude","zoom","viewPort","setViewPort","useEffect","location","state","id","className","i18next","t","onClick","localStorage","setItem","window","open","host","serial_number","status","updated_at","moment","format","disabled","defaultValue","product","placeholder","name","description","price","additional_info","client","first_name","last_name","phone","country","city","address","building","maxZoom","mapStyle","mapboxApiAccessToken","onViewportChange","viewport","offsetLeft","offsetTop","draggable","history","goBack"],"mappings":"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","file":"static/js/34.f6b49c8b.chunk.js","sourcesContent":["import React from 'react';\r\nimport './orders.scss';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOrder, deleteOrder } from '../../store/actions/orders';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment'\r\nimport i18next from '../../services/locales/i18n';\r\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\r\n\r\nconst SeeOrder = (props) => {\r\n    const [data, setData] = useState([]);\r\n    const [viewPort, setViewPort] = useState({ width: 1200, height: 600, latitude: 42.66758079200047, longitude: 21.165194013322285, zoom: 5, })\r\n    useEffect(() => { props.getOrder(props.location.state.id); }, []);\r\n    useEffect(() => { props.getOrder(props.location.state.id); }, [props?.location?.state?.id]);\r\n    useEffect(() => {\r\n        if (props.order) {\r\n            setData(props.order);\r\n            setViewPort({ width: 1200, height: 600, latitude: data?.location?.latitude, longitude: data?.location?.longitude, zoom: 5, })\r\n        }\r\n    }, [props.order])\r\n\r\n    const delOrder = () => {\r\n        props.deleteOrder(props.location.state.id);\r\n        props.history.goBack();\r\n    }\r\n    const printOrd = () => {\r\n        localStorage.setItem('printOne', props.location.state.id)\r\n        window.open(`http://${window.location.host}/print/one`, 'Print Orders') //this should be https://\r\n    }\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-order\">\r\n                <div className=\"strike-order__header\">\r\n                    <div className=\"strike-order__header-left\">\r\n                        <div className=\"strike-order__header-left-text\">{i18next.t('orders.orderDetails')}</div>\r\n                    </div>\r\n                    <div className=\"strike-order__header-right\">\r\n                        <button onClick={printOrd} className=\"strike-orders__print-selected\">{i18next.t('orders.printSelected')}</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"strike-order__body\">\r\n                    <div className=\"strike-order__body-left\">\r\n                        <div className=\"strike-order__body-left-top\">\r\n                            <div className=\"strike-order__body-left-top-left\">\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.serialNumber')}</div>\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.status')}</div>\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.date')}</div>\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.time')}</div>\r\n                            </div>\r\n                            <div className=\"strike-order__body-left-top-right\">\r\n                                <div className=\"strike-order__body-label\"><b>{data?.serial_number}</b></div>\r\n                                <div className=\"strike-order__body-label\"><b>{data?.status}</b></div>\r\n                                <div className=\"strike-order__body-label\"><b>{data.updated_at && moment(data?.updated_at).format('DD-MM-YYYY')}</b></div>\r\n                                <div className=\"strike-order__body-label\"><b>{data.updated_at && moment(data?.updated_at).format('HH:mm')}</b></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"strike-order__body-label\"><b>{i18next.t('orders.product')}</b></div>\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.id')}</div>\r\n                        <input disabled defaultValue={data?.product?.id} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.name')}</div>\r\n                        <input disabled defaultValue={data?.product?.name} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.description')}</div>\r\n                        <input disabled defaultValue={data?.product?.description} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.price')}</div>\r\n                        <input disabled defaultValue={data?.price} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.additionalInfo')}</div>\r\n                        <input disabled defaultValue={data?.additional_info} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                    </div>\r\n                    <div className=\"strike-order__body-right\">\r\n                        <div className=\"strike-order__body-label\"><b>{i18next.t('orders.customer')}</b></div>\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.firstName')}</div>\r\n                        <input disabled defaultValue={data?.client?.first_name} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.lastName')}</div>\r\n                        <input disabled defaultValue={data?.client?.last_name} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.phone')}</div>\r\n                        <input disabled defaultValue={data?.client?.phone} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.country')}</div>\r\n                        <input disabled defaultValue={data?.client?.country} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.city')}</div>\r\n                        <input disabled defaultValue={data?.client?.city} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.address')}</div>\r\n                        <input disabled defaultValue={data?.client?.address} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.building')}</div>\r\n                        <input disabled defaultValue={data?.client?.building} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"strike-order__body-label\"><b>{i18next.t('orders.location')}</b></div>\r\n                <div>\r\n                    <ReactMapGL\r\n                        {...viewPort}\r\n                        maxZoom={18}\r\n                        // mapStyle={'mapbox://styles/mapbox/satellite-v9'}\r\n                        mapStyle={'mapbox://styles/mapbox/streets-v9'}\r\n                        mapboxApiAccessToken={'pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q'}\r\n                        width={\"100%\"}\r\n                        height={400}\r\n                        onViewportChange={(viewport) => setViewPort(viewport)}\r\n                    >\r\n                        {props.order && (\r\n                            <Marker latitude={props.order.location.latitude} longitude={props.order.location.longitude} offsetLeft={-23} offsetTop={-46} draggable={false}>\r\n                                <div status={props.order.status} className=\"map-marker\" />\r\n                            </Marker>\r\n                        )}\r\n                    </ReactMapGL>\r\n                </div>\r\n                <button onClick={delOrder} className=\"strike-order__body-delete\">{i18next.t('orders.delete')}</button>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ order }) => ({ order });\r\nconst mapDispatchToProps = { getOrder, deleteOrder };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeeOrder);"],"sourceRoot":""}