(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[16],{214:function(e,t,a){"use strict";var r=a(0),c=a.n(r);a(215);t.a=function(e){return c.a.createElement("div",{className:"strike-wrapper"},e.children)}},215:function(e,t,a){},231:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return v}));var r=a(15),c=a.n(r),n=a(24),s=a(1),o=a(10),i=a.n(o),u=function(e,t){return function(){var a=Object(n.a)(c.a.mark((function a(r){var n,o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.get("/products/paginate/".concat(e,"?page=").concat(t));case 3:200===(n=a.sent).status?r({type:s.j,data:n.data}):403===n.code?(r({type:s.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):r({type:s.cb,data:n.message}),a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),401===(null===a.t0||void 0===a.t0||null===(o=a.t0.response)||void 0===o?void 0:o.status)&&(r({type:s.K}),r({type:s.I,data:!1}),r({type:s.a}),localStorage.clear()),a.abrupt("return",Promise.reject(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("/products/search?name=".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:s.X,data:n.data}):403===n.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:s.cb,data:n.message}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.status)&&(a({type:s.K}),a({type:s.I,data:!1}),a({type:s.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?a({type:s.x,data:n.data}):403===n.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:s.x,data:{error:n.error}}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.status)&&(a({type:s.K}),a({type:s.I,data:!1}),a({type:s.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o,u,l,d,p,m,f,v,b,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,o=e.size,u=e.ks_price,l=e.al_price,d=e.mk_price,p=e.openable,m=e.history,f=JSON.parse(p),t.next=5,i.a.post("/products",{name:r,description:n,size:o,ks_price:u,al_price:l,mk_price:d,openable:f});case 5:v=t.sent,(b=v.data).success?m.goBack():403===b.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:s.cb,data:b.message}),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(h=t.t0.response)||void 0===h?void 0:h.status)&&(a({type:s.K}),a({type:s.I,data:!1}),a({type:s.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o,u,l,d,p,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.name,n=e.description,o=e.size,u=e.id,l=e.history,t.next=4,i.a.put("/products/".concat(u),{name:r,description:n,size:o});case 4:d=t.sent,(p=d.data).success?(a({type:s.fb,data:p}),l.goBack()):403===p.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:s.cb,data:p.message}),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(m=t.t0.response)||void 0===m?void 0:m.status)&&(a({type:s.K}),a({type:s.I,data:!1}),a({type:s.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.delete("/products/".concat(e));case 3:r=t.sent,(n=r.data).success?window.location.reload():403===n.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:s.cb,data:n.error}),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.status)&&(a({type:s.K}),a({type:s.I,data:!1}),a({type:s.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(n.a)(c.a.mark((function t(a){var r,n,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="",e.forEach((function(e){r=""===r?"product_ids[]=".concat(e):"".concat(r,"&product_ids[]=").concat(e)})),t.next=5,i.a.delete("/products?".concat(r));case 5:n=t.sent,(o=n.data).success?window.location.reload():403===o.code?(a({type:s.I,data:!1}),localStorage.removeItem("token"),i.a.defaults.headers.common["Content-Type"]="applicaton/json",i.a.defaults.headers.common.Authorization=""):a({type:s.cb,data:o.message}),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),401===(null===t.t0||void 0===t.t0||null===(u=t.t0.response)||void 0===u?void 0:u.status)&&(a({type:s.K}),a({type:s.I,data:!1}),a({type:s.a}),localStorage.clear()),t.abrupt("return",Promise.reject(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},232:function(e,t,a){},803:function(e,t,a){"use strict";a.r(t);var r=a(16),c=a(0),n=a.n(c),s=a(8),o=a(203),i=a(214),u=a(31),l=a(5),d=(a(232),a(231)),p=a(219),m=Object(c.createContext)(null),f=a(240),v=(a(69),a(379)),b=a.n(v),h=a(493),k=(a(380),function(e){var t=e.item,a=e.deleteProduct,s=window.location.host,i=Object(c.useContext)(m),d=i.selected,p=i.setSelected,v=(i.selectedAll,Object(o.e)()),k=u.a.products.threePoints,_=Object(c.useState)("".concat(s,"/add-order/").concat(t.id)),y=Object(r.a)(_,2),g=y[0],j=(y[1],Object(c.useState)(t.checked)),E=Object(r.a)(j,2),x=E[0],P=E[1],N=Object(c.useState)(!1),O=Object(r.a)(N,2),w=O[0],C=O[1],S=Object(c.useCallback)((function(){C(!w)}),[w]),A=Object(c.useCallback)((function(){v.push("/edit-product",{id:t.id})}),[t.id]),I=Object(c.useCallback)((function(){a(t.id)}),[]);return Object(c.useEffect)((function(){if(x)p([].concat(Object(f.a)(d),[t.id]));else if(!x){var e=d.filter((function(e){return e!==t.id}));p(e)}}),[x]),Object(c.useEffect)((function(){0===d.filter((function(e){return e===t.id})).length?P(!1):P(!0)}),[d]),n.a.createElement("div",{className:"strike-products__table-item"},n.a.createElement("div",{className:"strike-products__table-item-content flex-1"},n.a.createElement("input",{type:"checkbox",onChange:function(){return P(!x)},value:x,checked:x})),n.a.createElement("div",{onClick:A,className:"strike-products__table-item-content flex-1"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},t.id)),n.a.createElement("div",{onClick:A,className:"strike-products__table-item-content flex-3"},n.a.createElement("div",{className:"strike-products__table-item-content-text ml-15"},t.name)),n.a.createElement("div",{onClick:A,"is-responsive":"true",className:"strike-products__table-item-content flex-3"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},t.description)),n.a.createElement("div",{onClick:A,className:"strike-products__table-item-content flex-15"},n.a.createElement("div",{className:"strike-products__table-item-content-text"},"".concat(t.ks_price,"\u20ac"))),n.a.createElement("div",{"is-responsive":"true",onClick:S,className:"strike-products__table-item-content flex-15 text-center"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("img",{className:"strike-products__table-item-content-points",src:k}),n.a.createElement("div",{id:"dropdown-content",className:"dropdown-content"},n.a.createElement("div",{onClick:function(){h.a.notify("Link copied!",{position:"bottom-right"}),b()(g)},className:"dropdown-content-text"},l.a.t("products.copyLink")),n.a.createElement("div",{onClick:A,className:"dropdown-content-text"},l.a.t("products.edit")),n.a.createElement("div",{onClick:function(){return v.push("/add-order-by-shop",{id:t.id})},className:"dropdown-content-text"},l.a.t("products.addOrder")),n.a.createElement("div",{onClick:I,className:"dropdown-content-text"},l.a.t("products.delete"))))))}),_=function(e){var t=e.items,a=e.deleteProduct,r=Object(c.useContext)(m),s=r.selectedAll,o=r.selectAll,i=Object(c.useCallback)((function(){o(!s)}),[s]);return n.a.createElement("div",{className:"strike-products__table"},n.a.createElement("div",{className:"strike-products__table-header"},n.a.createElement("div",{className:"strike-products__table-header-item flex-1"},n.a.createElement("input",{type:"checkbox",onChange:i,value:s,checked:s})),n.a.createElement("div",{className:"strike-products__table-header-item flex-1"},l.a.t("products.id")),n.a.createElement("div",{className:"strike-products__table-header-item flex-3"},l.a.t("products.product")),n.a.createElement("div",{"is-responsive":"true",className:"strike-products__table-header-item flex-3"},l.a.t("products.description")),n.a.createElement("div",{className:"strike-products__table-header-item flex-15"},l.a.t("products.price")),n.a.createElement("div",{"is-responsive":"true",className:"strike-products__table-header-item flex-15 text-center"},l.a.t("products.actions"))),t&&t.map((function(e,t){return n.a.createElement(k,{key:t,item:e,deleteProduct:a})})))},y={getAllProducts:d.c,deleteProduct:d.a,searchProducts:d.f,deleteProducts:d.b};t.default=Object(s.b)((function(e){return{allProducts:e.allProducts,deletedProduct:e.deletedProduct}}),y)(Object(o.g)((function(e){var t=u.a.customers,a=t.filledLeftArrow,s=t.unfilledLeftArrow,o=t.filledRightArrow,d=t.unfilledRightArrow,f=Object(c.useState)(e.allProducts),v=Object(r.a)(f,2),b=v[0],h=v[1],k=Object(c.useState)([]),y=Object(r.a)(k,2),g=y[0],j=y[1],E=Object(c.useState)(!1),x=Object(r.a)(E,2),P=x[0],N=x[1],O=Object(p.a)(),w=O.register,C=O.handleSubmit;O.errors;Object(c.useEffect)((function(){e.getAllProducts(10,1)}),[]),Object(c.useEffect)((function(){e.deletedProduct&&window.location.reload()}),[e.deletedProduct]),Object(c.useEffect)((function(){h(e.allProducts),N(!1),j([])}),[e.allProducts]),Object(c.useEffect)((function(){if(P){var e=[];b.data.forEach((function(t){e.push(t.id)})),j(e)}else j([])}),[P]);var S=Object(c.useCallback)((function(){b.hasNextPage&&e.getAllProducts(10,b.currentPage+1)}),[b]),A=Object(c.useCallback)((function(){b.hasPrevPage&&e.getAllProducts(10,b.currentPage-1)}),[b]),I=Object(c.useCallback)((function(t){e.getAllProducts(10,t)}),[b]),z=Object(c.useCallback)((function(){e.history.push("/add-product")}),[]);return n.a.createElement(m.Provider,{value:{selected:g,setSelected:j,selectedAll:P,selectAll:N}},n.a.createElement(i.a,null,n.a.createElement("div",{className:"strike-products"},n.a.createElement("div",{className:"strike-products__header"},n.a.createElement("div",{className:"strike-products__header-left"},n.a.createElement("div",{className:"strike-products__header-left-title"},l.a.t("products.products"))),n.a.createElement("div",{className:"strike-products__header-right"},n.a.createElement("div",{onClick:z,className:"strike-products__header-right-text"},l.a.t("products.addProduct")))),n.a.createElement("form",{onSubmit:C((function(t){var a=t.search;e.searchProducts(a)})),className:"strike-products__search"},n.a.createElement("input",{name:"search",ref:w({required:!0}),placeholder:l.a.t("products.searchPlaceholder"),className:"strike-products__search-input"}),n.a.createElement("button",{type:"submit",className:"strike-products__search-button"},l.a.t("products.search"))),n.a.createElement(_,{items:b.data,deleteProduct:e.deleteProduct}),n.a.createElement("div",{className:"strike-products__pagination"},n.a.createElement("img",{onClick:A,src:b.hasPrevPage?a:s,className:"strike-products__pagination-leftarrow"}),b&&b.lastPage.map((function(e){return n.a.createElement("div",{onClick:function(){return I(e)},"is-active":e===b.currentPage?"true":"false",key:e,className:"strike-products__pagination-number"},e)})),n.a.createElement("img",{onClick:S,src:b.hasNextPage?o:d,className:"strike-products__pagination-rightarrow"})),n.a.createElement("button",{onClick:function(){e.deleteProducts(g),N(!1),j([])},disabled:!g.length,className:"strike-products__delete-selected"},l.a.t("products.deleteProducts")))))})))}}]);
//# sourceMappingURL=16.82bc11c8.chunk.js.map