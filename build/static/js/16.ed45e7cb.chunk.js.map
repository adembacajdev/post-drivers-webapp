{"version":3,"sources":["containers/wrapper/Wrapper.jsx","store/actions/users.jsx","pages/profile/Profile.jsx"],"names":["Wrapper","props","className","children","getAllUsers","dispatch","a","axios","get","data","success","type","GET_ALL_USERS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","Promise","reject","getUser","id","GET_SELECTED_USER","postUser","body","history","first_name","last_name","email","phone","post","POST_USER","goBack","updateUser","put","UPDATE_USER","deleteUser","delete","window","location","reload","mapDispatchToProps","resetPassword","connect","user","useState","name","setName","surname","setSurname","setEmail","setPhone","useForm","register","handleSubmit","errors","useEffect","i18n","t","onSubmit","disabled","defaultValue","has-error","ref","required","placeholder","old_password","new_password","new_password_confirmation"],"mappings":"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","file":"static/js/16.ed45e7cb.chunk.js","sourcesContent":["import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","import {\n    GET_ALL_USERS, GET_SELECTED_USER, POST_USER, UPDATE_USER, DELETE_USER, IS_LOGGED_IN, TOGGLE_ERROR_MODAL\n} from '../actionTypes';\nimport axios from 'axios';\n\nexport const getAllUsers = () => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/users`);\n        if (data.success) {\n            dispatch({ type: GET_ALL_USERS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const getUser = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/users/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_SELECTED_USER, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const postUser = (body, history) => async (dispatch) => {\n    try {\n        const { first_name, last_name, email, phone } = body;\n        const { data } = await axios.post(`/users`, { first_name, last_name, email, phone });\n        if (data.success) {\n            dispatch({ type: POST_USER, data: data.data });\n            history.goBack();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const updateUser = (id, body, history) => async (dispatch) => {\n    try {\n        const { first_name, last_name, email, phone } = body;\n        const { data } = await axios.put(`/users/${id}`, { first_name, last_name, email, phone });\n        if (data.success) {\n            dispatch({ type: UPDATE_USER, data: data.data });\n            history.goBack();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteUser = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.delete(`/users/${id}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}","import React, { useEffect, useState } from 'react';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport { connect } from 'react-redux';\nimport { useForm } from \"react-hook-form\";\nimport i18n from '../../services/locales/i18n';\nimport { getUser, resetPassword } from '../../store/actions/authorization';\nimport { updateUser } from '../../store/actions/users';\nimport './style.scss';\n\nconst Profile = (props) => {\n    const [name, setName] = useState('');\n    const [surname, setSurname] = useState('');\n    const [email, setEmail] = useState('');\n    const [phone, setPhone] = useState('');\n\n    const { register, handleSubmit, errors } = useForm();\n    const onSubmit = ({ first_name, last_name, email, phone }) => {\n        props.updateUser(props.user.id, { first_name, last_name, email, phone }, props.history)\n    };\n    const changePassword = ({ old_password, new_password, new_password_confirmation }) => {\n        props.resetPassword({ old_password, new_password, new_password_confirmation })\n    };\n    \n    useEffect(() => { props.getUser() }, []);\n    useEffect(() => {\n        if (props.user) {\n            setName(props.user.first_name);\n            setSurname(props.user.last_name);\n            setEmail(props.user.email);\n            setPhone(props.user.phone);\n        }\n    }, [props.user]);\n\n    return (\n        <Wrapper>\n            <div className=\"strike-profile\">\n                <div className=\"strike-profile__title\">{i18n.t('profile.title')}</div>\n                <form className=\"strike-profile__form\" onSubmit={handleSubmit(onSubmit)}>\n                    <div className=\"strike-profile__form-label\">{i18n.t('profile.name')}</div>\n                    <input disabled defaultValue={name} has-error={errors.first_name ? 'true' : 'false'} name=\"first_name\" ref={register({ required: true })} className=\"strike-profile__form-input\" placeholder={i18n.t('profile.name')} />\n                    <div className=\"strike-profile__form-label\">{i18n.t('profile.surname')}</div>\n                    <input disabled defaultValue={surname} has-error={errors.last_name ? 'true' : 'false'} name=\"last_name\" ref={register({ required: true })} className=\"strike-profile__form-input\" placeholder={i18n.t('profile.surname')} />\n                    <div className=\"strike-profile__form-label\">{i18n.t('profile.email')}</div>\n                    <input disabled defaultValue={email} has-error={errors.email ? 'true' : 'false'} name=\"email\" ref={register({ required: true })} className=\"strike-profile__form-input\" placeholder={i18n.t('profile.email')} />\n                    <div className=\"strike-profile__form-label\">{i18n.t('profile.phone')}</div>\n                    <input disabled defaultValue={phone} has-error={errors.phone ? 'true' : 'false'} name=\"phone\" ref={register({ required: true })} className=\"strike-profile__form-input\" placeholder={i18n.t('profile.phone')} />\n                </form>\n            </div>\n            <div className=\"strike-profile\">\n                <div className=\"strike-profile__title\">{i18n.t('profile.changePass')}</div>\n                <form className=\"strike-profile__form\" onSubmit={handleSubmit(changePassword)}>\n                    <div className=\"strike-profile__form-label\">{i18n.t('profile.oldPassword')}</div>\n                    <input type=\"password\" has-error={errors.old_password ? 'true' : 'false'} name=\"old_password\" ref={register({ required: true })} className=\"strike-profile__form-input\" placeholder={i18n.t('profile.oldPassword')} />\n                    <div className=\"strike-profile__form-label\">{i18n.t('profile.newPassword')}</div>\n                    <input type=\"password\" has-error={errors.new_password ? 'true' : 'false'} name=\"new_password\" ref={register({ required: true })} className=\"strike-profile__form-input\" placeholder={i18n.t('profile.newPassword')} />\n                    <div className=\"strike-profile__form-label\">{i18n.t('profile.confirmNewPassword')}</div>\n                    <input type=\"password\" has-error={errors.new_password_confirmation ? 'true' : 'false'} name=\"new_password_confirmation\" ref={register({ required: true })} className=\"strike-profile__form-input\" placeholder={i18n.t('profile.confirmNewPassword')} />\n                    <button type=\"submit\" className=\"strike-profile__form-button\">{i18n.t('profile.changePass')}</button>\n                </form>\n            </div>\n        </Wrapper>\n    )\n}\n\nconst mapStateToProps = ({ user }) => ({ user });\nconst mapDispatchToProps = { getUser, updateUser, resetPassword };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);"],"sourceRoot":""}