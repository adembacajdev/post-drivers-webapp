{"version":3,"sources":["containers/wrapper/Wrapper.jsx","store/actions/products.jsx","pages/products/SeeProduct.jsx"],"names":["Wrapper","props","className","children","getAllProducts","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","Promise","reject","searchProducts","search","post","success","SEARCH_PRODUCTS","getProduct","id","GET_PRODUCT","error","postStoreProduct","body","console","log","name","description","size","ks_price","al_price","mk_price","openable","history","parsedOpenable","JSON","parse","goBack","updateProduct","put","UPDATE_PRODUCT","deleteProduct","delete","window","location","reload","deleteProducts","product_ids","query","forEach","item","mapDispatchToProps","connect","product","useEffect","state","delProduct","useCallback","i18next","t","disabled","defaultValue","placeholder","price","onClick"],"mappings":"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","file":"static/js/19.1ac47304.chunk.js","sourcesContent":["import React from 'react';\r\nimport './wrapper.scss';\r\n\r\nconst Wrapper = (props) => {\r\n    return (\r\n        <div className=\"strike-wrapper\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","import {\r\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\r\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER\r\n} from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getAllProducts = (limit, page) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\r\n        if (data.status === 200) {\r\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const searchProducts = (search) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/products/search?name=${search}`);\r\n        if (data.success) {\r\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\r\n            // dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProductOrder = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}/orders`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT_ORDER, data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const postStoreProduct = (body) => async (dispatch) => {\r\n    console.log('body', body)\r\n    try {\r\n        const { name, description, size, ks_price, al_price, mk_price, openable, history } = body;\r\n        const parsedOpenable = JSON.parse(openable);\r\n        const { data } = await axios.post(`/products`, { name, description, size, ks_price, al_price, mk_price, openable: parsedOpenable });\r\n        if (data.success) {\r\n            history.goBack()\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const updateProduct = (body) => async (dispatch) => {\r\n    try {\r\n        const { name, description, size, id, history } = body;\r\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\r\n        if (data.success) {\r\n            dispatch({ type: UPDATE_PRODUCT, data });\r\n            history.goBack();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.delete(`/products/${id}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProducts = (product_ids) => async (dispatch) => {\r\n    try {\r\n        var query = '';\r\n        product_ids.forEach(item => {\r\n            if (query === '') query = `product_ids[]=${item}`;\r\n            else query = `${query}&product_ids[]=${item}`;\r\n        });\r\n        const { data } = await axios.delete(`/products?${query}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const selectAllProducts = (data) => (dispatch) => {\r\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\r\n}","import React, { useCallback, useEffect } from 'react';\r\nimport './products.scss';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport { connect } from 'react-redux';\r\nimport { getProduct, deleteProduct } from '../../store/actions/products';\r\nimport i18next from '../../services/locales/i18n';\r\n\r\nconst SeeProduct = (props) => {\r\n    useEffect(() => { props.getProduct(props.location.state.id) }, [])\r\n    const delProduct = useCallback(() => {\r\n        props.deleteProduct(props.location.state.id);\r\n        props.history.goBack();\r\n    }, [])\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-product\">\r\n                <div className=\"strike-product__header\">{i18next.t('products.productDetails')}</div>\r\n                <div className=\"strike-product__body\">\r\n                    <div className=\"strike-product__body-left\">\r\n                        <div className=\"strike-product__body-label\">{i18next.t('products.id')}</div>\r\n                        <input disabled defaultValue={props.product && props.product.id} className=\"strike-product__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-product__body-label\">{i18next.t('products.name')}</div>\r\n                        <input disabled defaultValue={props.product && props.product.name} className=\"strike-product__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-product__body-label\">{i18next.t('products.description2')}</div>\r\n                        <input disabled defaultValue={props.product && props.product.description} className=\"strike-product__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-product__body-label\">{i18next.t('products.price2')}</div>\r\n                        <input disabled defaultValue={props.product && props.product.price} className=\"strike-product__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-product__body-label\">{i18next.t('products.size')}</div>\r\n                        <input disabled defaultValue={props.product && props.product.size} className=\"strike-product__body-input\" placeholder=\"Field\" />\r\n                        <button onClick={delProduct} className=\"strike-product__body-button\">{i18next.t('products.delete')}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ product }) => ({ product });\r\nconst mapDispatchToProps = { getProduct, deleteProduct };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeeProduct);"],"sourceRoot":""}