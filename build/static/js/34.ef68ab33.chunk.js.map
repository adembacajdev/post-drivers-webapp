{"version":3,"sources":["pages/orders/SeeOrder.jsx"],"names":["mapDispatchToProps","getOrder","deleteOrder","connect","order","props","useState","data","setData","width","height","latitude","longitude","zoom","viewPort","setViewPort","useEffect","location","state","id","className","i18next","t","onClick","localStorage","setItem","window","open","host","serial_number","status","updated_at","moment","format","disabled","defaultValue","product","placeholder","name","description","price","additional_info","client","first_name","last_name","phone","country","city","address","building","maxZoom","mapStyle","mapboxApiAccessToken","onViewportChange","viewport","offsetLeft","offsetTop","draggable","history","goBack"],"mappings":"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","file":"static/js/34.ef68ab33.chunk.js","sourcesContent":["import React from 'react';\nimport './orders.scss';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport { useEffect, useState } from 'react';\nimport { getOrder, deleteOrder } from '../../store/actions/orders';\nimport { connect } from 'react-redux';\nimport moment from 'moment'\nimport i18next from '../../services/locales/i18n';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\n\nconst SeeOrder = (props) => {\n    const [data, setData] = useState([]);\n    const [viewPort, setViewPort] = useState({ width: 1200, height: 600, latitude: 42.66758079200047, longitude: 21.165194013322285, zoom: 5, })\n    useEffect(() => { props.getOrder(props.location.state.id); }, []);\n    useEffect(() => { props.getOrder(props.location.state.id); }, [props?.location?.state?.id]);\n    useEffect(() => {\n        if (props.order) {\n            setData(props.order);\n            setViewPort({ width: 1200, height: 600, latitude: data?.location?.latitude, longitude: data?.location?.longitude, zoom: 5, })\n        }\n    }, [props.order])\n\n    const delOrder = () => {\n        props.deleteOrder(props.location.state.id);\n        props.history.goBack();\n    }\n    const printOrd = () => {\n        localStorage.setItem('printOne', props.location.state.id)\n        window.open(`http://${window.location.host}/print/one`, 'Print Orders') //this should be https://\n    }\n    return (\n        <Wrapper>\n            <div className=\"strike-order\">\n                <div className=\"strike-order__header\">\n                    <div className=\"strike-order__header-left\">\n                        <div className=\"strike-order__header-left-text\">{i18next.t('orders.orderDetails')}</div>\n                    </div>\n                    <div className=\"strike-order__header-right\">\n                        <button onClick={printOrd} className=\"strike-orders__print-selected\">{i18next.t('orders.printSelected')}</button>\n                    </div>\n                </div>\n                <div className=\"strike-order__body\">\n                    <div className=\"strike-order__body-left\">\n                        <div className=\"strike-order__body-left-top\">\n                            <div className=\"strike-order__body-left-top-left\">\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.serialNumber')}</div>\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.status')}</div>\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.date')}</div>\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.time')}</div>\n                            </div>\n                            <div className=\"strike-order__body-left-top-right\">\n                                <div className=\"strike-order__body-label\"><b>{data?.serial_number}</b></div>\n                                <div className=\"strike-order__body-label\"><b>{data?.status}</b></div>\n                                <div className=\"strike-order__body-label\"><b>{data.updated_at && moment(data?.updated_at).format('DD-MM-YYYY')}</b></div>\n                                <div className=\"strike-order__body-label\"><b>{data.updated_at && moment(data?.updated_at).format('HH:mm')}</b></div>\n                            </div>\n                        </div>\n                        <div className=\"strike-order__body-label\"><b>{i18next.t('orders.product')}</b></div>\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.id')}</div>\n                        <input disabled defaultValue={data?.product?.id} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.name')}</div>\n                        <input disabled defaultValue={data?.product?.name} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.description')}</div>\n                        <input disabled defaultValue={data?.product?.description} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.price')}</div>\n                        <input disabled defaultValue={data?.price} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.additionalInfo')}</div>\n                        <input disabled defaultValue={data?.additional_info} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                    </div>\n                    <div className=\"strike-order__body-right\">\n                        <div className=\"strike-order__body-label\"><b>{i18next.t('orders.customer')}</b></div>\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.firstName')}</div>\n                        <input disabled defaultValue={data?.client?.first_name} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.lastName')}</div>\n                        <input disabled defaultValue={data?.client?.last_name} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.phone')}</div>\n                        <input disabled defaultValue={data?.client?.phone} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.country')}</div>\n                        <input disabled defaultValue={data?.client?.country} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.city')}</div>\n                        <input disabled defaultValue={data?.client?.city} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.address')}</div>\n                        <input disabled defaultValue={data?.client?.address} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.building')}</div>\n                        <input disabled defaultValue={data?.client?.building} className=\"strike-order__body-input\" placeholder=\"Field\" />\n                    </div>\n                </div>\n                <div className=\"strike-order__body-label\"><b>{i18next.t('orders.location')}</b></div>\n                <div>\n                    <ReactMapGL\n                        {...viewPort}\n                        maxZoom={18}\n                        // mapStyle={'mapbox://styles/mapbox/satellite-v9'}\n                        mapStyle={'mapbox://styles/mapbox/streets-v9'}\n                        mapboxApiAccessToken={'pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q'}\n                        width={\"100%\"}\n                        height={400}\n                        onViewportChange={(viewport) => setViewPort(viewport)}\n                    >\n                        {props.order && (\n                            <Marker latitude={props.order.location.latitude} longitude={props.order.location.longitude} offsetLeft={-23} offsetTop={-46} draggable={false}>\n                                <div status={props.order.status} className=\"map-marker\" />\n                            </Marker>\n                        )}\n                    </ReactMapGL>\n                </div>\n                <button onClick={delOrder} className=\"strike-order__body-delete\">{i18next.t('orders.delete')}</button>\n            </div>\n        </Wrapper>\n    )\n}\n\nconst mapStateToProps = ({ order }) => ({ order });\nconst mapDispatchToProps = { getOrder, deleteOrder };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SeeOrder);"],"sourceRoot":""}