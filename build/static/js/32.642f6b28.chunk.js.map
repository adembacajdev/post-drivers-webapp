{"version":3,"sources":["pages/login/Login.jsx"],"names":["mapDispatchToProps","authenticate","login","connect","loggedIn","isLoggedIn","withRouter","useState","isEmailValid","validateEmail","logoWithoutText","images","useForm","register","handleSubmit","errors","watch","to","className","src","i18n","t","style","display","flexDirection","onSubmit","email","password","onChange","e","console","log","target","value","test","has-error","name","ref","required","type","placeholder"],"mappings":"8MAmDMA,EAAqB,CAAEC,iBAAcC,WAC5BC,uBAFS,SAAC,GAAD,MAA+B,CAAEC,SAAjC,EAAGA,SAAwCC,WAA3C,EAAaA,cAEGL,EAAzBG,CAA6CG,aAzC9C,SAAC,GAAmD,IAAjDJ,EAAgD,EAAhDA,MAA+BG,GAAiB,EAAzCD,SAAyC,EAA/BH,aAA+B,EAAjBI,YAAiB,EACvBE,oBAAS,GADc,mBACtDC,EADsD,KACxCC,EADwC,KAErDC,EAAoBC,IAApBD,gBAFqD,EAGXE,cAA1CC,EAHqD,EAGrDA,SAAUC,EAH2C,EAG3CA,aAAqBC,GAHsB,EAG7BC,MAH6B,EAGtBD,QAavC,OACIV,EAEI,kBAAC,IAAD,CAAUY,GAAG,MAEb,yBAAKC,UAAU,gBACX,yBAAKA,UAAU,wBACX,yBAAKA,UAAU,4BAA4BC,IAAKT,IAChD,yBAAKQ,UAAU,8BAA8BE,IAAKC,EAAE,iBAExD,yBAAKH,UAAU,wBACX,0BAAMI,MAAO,CAAEC,QAAS,OAAQC,cAAe,UAAYC,SAAUX,GAvBpE,SAAC,GAAyB,IAAvBY,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAClBZ,EAAOW,OAAUX,EAAOY,WAAYnB,GACrCN,EAAM,CAAEwB,QAAOC,iBAsBH,yBAAKT,UAAU,8BAA8BE,IAAKC,EAAE,qBACpD,2BAAOO,SAnBP,SAACC,GACjBC,QAAQC,IAAI,QAASF,EAAEG,OAAOC,QAEG,IADvB,gDACFC,KAAKL,EAAEG,OAAOC,OAAkBxB,GAAc,GACjDA,GAAc,IAe2B0B,YAAY3B,EAAwB,QAAT,OAAkB4B,KAAK,QAAQC,IAAKxB,EAAS,CAAEyB,UAAU,IAASpB,UAAU,6BAA6BqB,KAAK,OAAOC,YAAapB,IAAKC,EAAE,4BAClM,yBAAKH,UAAU,8BAA8BE,IAAKC,EAAE,wBACpD,2BAAOc,YAAWpB,EAAOY,SAAW,OAAS,QAASS,KAAK,WAAWC,IAAKxB,EAAS,CAAEyB,UAAU,IAASpB,UAAU,6BAA6BqB,KAAK,WAAWC,YAAapB,IAAKC,EAAE,+BACpL,4BAAQkB,KAAK,SAASrB,UAAU,+BAA+BE,IAAKC,EAAE,8B","file":"static/js/32.642f6b28.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { authenticate } from '../../store/actions/authenticate.action';\nimport { login } from '../../store/actions/authorization';\nimport { useForm } from \"react-hook-form\";\nimport i18n from '../../services/locales/i18n';\nimport './login.scss';\nimport images from '../../assets/images';\n\nconst Login = ({ login, loggedIn, authenticate, isLoggedIn }) => {\n    const [isEmailValid, validateEmail] = useState(true);\n    const { logoWithoutText } = images;\n    const { register, handleSubmit, watch, errors } = useForm();\n    const onSubmit = ({ email, password }) => {\n        if (!errors.email && !errors.password && isEmailValid) {\n            login({ email, password })\n        }\n    };\n\n    const handleEmail = (e) => {\n        console.log('email', e.target.value)\n        let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n        if (reg.test(e.target.value) === false) validateEmail(false);\n        else validateEmail(true);\n    }\n    return (\n        isLoggedIn\n            ?\n            <Redirect to='/' />\n            :\n            <div className=\"strike-login\">\n                <div className=\"strike-login__header\">\n                    <img className=\"strike-login__header-logo\" src={logoWithoutText} />\n                    <div className=\"strike-login__header-title\">{i18n.t('login.title')}</div>\n                </div>\n                <div className=\"strike-login__inputs\">\n                    <form style={{ display: 'flex', flexDirection: 'column' }} onSubmit={handleSubmit(onSubmit)}>\n                        <div className=\"strike-login__inputs-label\">{i18n.t('login.emailLabel')}</div>\n                        <input onChange={handleEmail} has-error={!isEmailValid ? 'true' : 'false'} name=\"email\" ref={register({ required: true })} className=\"strike-login__inputs-input\" type=\"text\" placeholder={i18n.t('login.emailPlaceholder')} />\n                        <div className=\"strike-login__inputs-label\">{i18n.t('login.passwordLabel')}</div>\n                        <input has-error={errors.password ? \"true\" : 'false'} name=\"password\" ref={register({ required: true })} className=\"strike-login__inputs-input\" type=\"password\" placeholder={i18n.t('login.passwordPlaceholder')} />\n                        <button type=\"submit\" className=\"strike-login__inputs-button\">{i18n.t('login.loginButton')}</button>\n                    </form>\n                </div>\n            </div>\n    )\n}\n\nconst mapStateToProps = ({ loggedIn, isLoggedIn }) => ({ loggedIn, isLoggedIn });\nconst mapDispatchToProps = { authenticate, login };\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));"],"sourceRoot":""}