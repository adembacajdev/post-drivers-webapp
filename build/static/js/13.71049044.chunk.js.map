{"version":3,"sources":["containers/wrapper/Wrapper.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","store/actions/products.jsx","pages/products/EditProduct.jsx"],"names":["Wrapper","props","className","children","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","getAllProducts","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","CLEAR_NOTIFICATION","clear","Promise","reject","searchProducts","search","post","success","SEARCH_PRODUCTS","getProduct","id","GET_PRODUCT","error","postStoreProduct","body","name","description","size","ks_price","al_price","mk_price","openable","history","parsedOpenable","JSON","parse","goBack","updateProduct","put","UPDATE_PRODUCT","deleteProduct","delete","window","location","reload","deleteProducts","product_ids","query","item","mapDispatchToProps","connect","product","withRouter","host","useState","state","copyText","decription","setData","useForm","register","handleSubmit","errors","watch","useEffect","delProduct","useCallback","i18n","t","onSubmit","disabled","defaultValue","has-error","product_id","ref","required","placeholder","value","onChange","e","onClick","toast","notify","position","copy"],"mappings":"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","file":"static/js/13.71049044.chunk.js","sourcesContent":["import React from 'react';\r\nimport './wrapper.scss';\r\n\r\nconst Wrapper = (props) => {\r\n    return (\r\n        <div className=\"strike-wrapper\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import {\r\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\r\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER, LOG_OUT, CLEAR_NOTIFICATION\r\n} from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getAllProducts = (limit, page) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\r\n        if (data.status === 200) {\r\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const searchProducts = (search) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/products/search?name=${search}`);\r\n        if (data.success) {\r\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProductOrder = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}/orders`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT_ORDER, data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const postStoreProduct = (body) => async (dispatch) => {\r\n    try {\r\n        const { name, description, size, ks_price, al_price, mk_price, openable, history } = body;\r\n        const parsedOpenable = JSON.parse(openable);\r\n        const { data } = await axios.post(`/products`, { name, description, size, ks_price, al_price, mk_price, openable: parsedOpenable });\r\n        if (data.success) {\r\n            history.goBack()\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const updateProduct = (body) => async (dispatch) => {\r\n    try {\r\n        const { name, description, size, id, history } = body;\r\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\r\n        if (data.success) {\r\n            dispatch({ type: UPDATE_PRODUCT, data });\r\n            history.goBack();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.delete(`/products/${id}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProducts = (product_ids) => async (dispatch) => {\r\n    try {\r\n        var query = '';\r\n        product_ids.forEach(item => {\r\n            if (query === '') query = `product_ids[]=${item}`;\r\n            else query = `${query}&product_ids[]=${item}`;\r\n        });\r\n        const { data } = await axios.delete(`/products?${query}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const selectAllProducts = (data) => (dispatch) => {\r\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\r\n}","import React, { useEffect, useState, useCallback } from 'react';\r\nimport './products.scss';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport i18n from '../../services/locales/i18n';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { updateProduct, getProduct, deleteProduct } from '../../store/actions/products';\r\nimport copy from \"copy-to-clipboard\";\r\nimport toast from 'toasted-notes'\r\nimport 'toasted-notes/src/styles.css';\r\n\r\nconst EditProduct = (props) => {\r\n    let host = window.location.host;\r\n    const [copyText, setCopyText] = useState(`${host}/add-order/${props.location.state.id}`)\r\n    const [data, setData] = useState({ name: '', decription: '', size: '', openable: '', ks_price: '', al_price: '', mk_price: '' })\r\n    const { register, handleSubmit, watch, errors } = useForm();\r\n    const onSubmit = ({ name, description, size, ks_price, al_price, mk_price, openable }) => {\r\n        const { id } = props.location.state;\r\n        if (name !== '' && description !== '' && size !== '' && ks_price !== '' && al_price !== '' && mk_price !== '' && openable !== '') {\r\n            props.updateProduct({ name: name, description, size, ks_price, al_price, mk_price, openable, id, history: props.history });\r\n        }\r\n    };\r\n\r\n    useEffect(() => { props.getProduct(props.location.state.id) }, [])\r\n    useEffect(() => { setData(props.product) }, [props.product]);\r\n\r\n    const handleSelect = (e) => setData({ ...data, size: e.target.value });\r\n    const handleOpenable = (e) => setData({ ...data, openable: e.target.value });\r\n    const delProduct = useCallback(() => {\r\n        props.deleteProduct(props.location.state.id);\r\n        props.history.goBack();\r\n    }, [])\r\n\r\n    const copyLink = () => {\r\n        toast.notify('Link copied!', { position: 'bottom-right' });\r\n        copy(copyText);\r\n    }\r\n\r\n    const addOrder = () => props.history.push('/add-order-by-shop', { id: props.location.state.id })\r\n\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-addproduct\">\r\n                <div className=\"strike-addproduct__title\">{i18n.t('addProductForm.editProduct')}</div>\r\n                <div className=\"strike-addproduct__form\">\r\n                    <form onSubmit={handleSubmit(onSubmit)}>\r\n                        <div className=\"strike-addproduct__form-label\">{i18n.t('addProductForm.productId')}</div>\r\n                        <input disabled defaultValue={data && data.id} has-error={errors.product_id ? 'true' : 'false'} name=\"product_id\" ref={register({ required: false })} className=\"strike-addproduct__form-input\" placeholder={i18n.t('addProductForm.productId')} />\r\n                        <div className=\"strike-addproduct__form-label\">{i18n.t('addProductForm.name')}</div>\r\n                        <input defaultValue={data && data.name} has-error={errors.name ? 'true' : 'false'} name=\"name\" ref={register({ required: true })} className=\"strike-addproduct__form-input\" placeholder={i18n.t('addProductForm.name')} />\r\n                        <div className=\"strike-addproduct__form-label\">{i18n.t('addProductForm.description')}</div>\r\n                        <input defaultValue={data && data.description} has-error={errors.description ? 'true' : 'false'} name=\"description\" ref={register({ required: true })} className=\"strike-addproduct__form-input\" placeholder={i18n.t('addProductForm.description')} />\r\n                        <div className=\"strike-addproduct__form-label\">{i18n.t('addProductForm.price')}</div>\r\n                        <div className=\"strike-addproduct__form-input-multiple\">\r\n                            <div className=\"strike-addproduct__form-input-multiple-item\">\r\n                                <div className=\"strike-addproduct__form-input-multiple-item-label\">{i18n.t('addProductForm.ks')}</div>\r\n                                <input defaultValue={data && data.ks_price} disabled has-error={errors.ks_price ? 'true' : 'false'} name=\"ks_price\" ref={register({ required: true })} className=\"strike-addproduct__form-input-multiple-item-input\" placeholder={i18n.t('addProductForm.price')} />\r\n                            </div>\r\n                            <div className=\"strike-addproduct__form-input-multiple-item ml-15\">\r\n                                <div className=\"strike-addproduct__form-input-multiple-item-label\">{i18n.t('addProductForm.al')}</div>\r\n                                <input defaultValue={data && data.al_price} disabled has-error={errors.al_price ? 'true' : 'false'} name=\"al_price\" ref={register({ required: true })} className=\"strike-addproduct__form-input-multiple-item-input\" placeholder={i18n.t('addProductForm.price')} />\r\n                            </div>\r\n                            <div className=\"strike-addproduct__form-input-multiple-item ml-15\">\r\n                                <div className=\"strike-addproduct__form-input-multiple-item-label\">{i18n.t('addProductForm.mk')}</div>\r\n                                <input defaultValue={data && data.mk_price} disabled has-error={errors.mk_price ? 'true' : 'false'} name=\"mk_price\" ref={register({ required: true })} className=\"strike-addproduct__form-input-multiple-item-input\" placeholder={i18n.t('addProductForm.price')} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"strike-addproduct__form-label\">{i18n.t('addProductForm.openable')}</div>\r\n                        <select value={data ? data.openable : ''} onChange={handleOpenable} has-error={errors.openable ? 'true' : 'false'} name=\"openable\" ref={register({ required: true })} className=\"strike-addproduct__form-input\">\r\n                            <option value={true}>{i18n.t('addProductForm.true')}</option>\r\n                            <option value={false}>{i18n.t('addProductForm.false')}</option>\r\n                        </select>\r\n                        <div className=\"strike-addproduct__form-label\">{i18n.t('addProductForm.size')}</div>\r\n                        <select disabled onChange={handleSelect} ref={register({ required: true })} value={data ? data.size : ''} has-error={errors.size ? 'true' : 'false'} name=\"size\" className=\"strike-addproduct__form-input\">\r\n                            <option value=\"small\">{i18n.t('addProductForm.small')}</option>\r\n                            <option value=\"medium\">{i18n.t('addProductForm.medium')}</option>\r\n                            <option value=\"large\">{i18n.t('addProductForm.large')}</option>\r\n                        </select>\r\n                        <button className=\"strike-addproduct__form-button\">{i18n.t('addProductForm.editProduct')}</button>\r\n                    </form>\r\n                    <button onClick={addOrder} className=\"strike-addproduct__form-button\">{i18n.t('products.addOrder')}</button>\r\n                    <button onClick={copyLink} className=\"strike-addproduct__form-button\">{i18n.t('products.copyLink')}</button>\r\n                    <button onClick={delProduct} className=\"strike-addproduct__form-button\">{i18n.t('products.delete')}</button>\r\n                </div>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ product }) => ({ product });\r\nconst mapDispatchToProps = { updateProduct, getProduct, deleteProduct };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(EditProduct));"],"sourceRoot":""}