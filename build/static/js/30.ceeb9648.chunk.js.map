{"version":3,"sources":["pages/orders/SeeOrder.jsx"],"names":["mapDispatchToProps","getOrder","deleteOrder","connect","order","props","useState","width","height","latitude","longitude","zoom","viewPort","setViewPort","useEffect","location","state","id","className","i18next","t","onClick","localStorage","setItem","window","open","host","serial_number","status","moment","updated_at","format","disabled","defaultValue","placeholder","product","name","description","price","additional_info","client","first_name","last_name","phone","country","city","address","building","mapStyle","mapboxApiAccessToken","onViewportChange","viewport","offsetLeft","offsetTop","draggable","history","goBack"],"mappings":"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","file":"static/js/30.ceeb9648.chunk.js","sourcesContent":["import React from 'react';\r\nimport './orders.scss';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport { useEffect, useState } from 'react';\r\nimport { getOrder, deleteOrder } from '../../store/actions/orders';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment'\r\nimport i18next from '../../services/locales/i18n';\r\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\r\n\r\nconst SeeOrder = (props) => {\r\n    const [viewPort, setViewPort] = useState({ width: 1200, height: 600, latitude: 42.66758079200047, longitude: 21.165194013322285, zoom: 5, })\r\n    useEffect(() => { props.getOrder(props.location.state.id); }, [])\r\n    useEffect(() => {\r\n        if (props.order) {\r\n            setViewPort({ width: 1200, height: 600, latitude: props.order && props.order.location.latitude, longitude: props.order && props.order.location.longitude, zoom: 5, })\r\n        }\r\n    }, [props.order])\r\n\r\n    const delOrder = () => {\r\n        props.deleteOrder(props.location.state.id);\r\n        props.history.goBack();\r\n    }\r\n    const printOrd = () => {\r\n        localStorage.setItem('printOne', props.location.state.id)\r\n        window.open(`http://${window.location.host}/print/one`, 'Print Orders') //this should be https://\r\n    }\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-order\">\r\n                <div className=\"strike-order__header\">\r\n                    <div className=\"strike-order__header-left\">\r\n                        <div className=\"strike-order__header-left-text\">{i18next.t('orders.orderDetails')}</div>\r\n                    </div>\r\n                    <div className=\"strike-order__header-right\">\r\n                        <button onClick={printOrd} className=\"strike-orders__print-selected\">{i18next.t('orders.printSelected')}</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"strike-order__body\">\r\n                    <div className=\"strike-order__body-left\">\r\n                        <div className=\"strike-order__body-left-top\">\r\n                            <div className=\"strike-order__body-left-top-left\">\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.serialNumber')}</div>\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.status')}</div>\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.date')}</div>\r\n                                <div className=\"strike-order__body-label\">{i18next.t('orders.time')}</div>\r\n                            </div>\r\n                            <div className=\"strike-order__body-left-top-right\">\r\n                                <div className=\"strike-order__body-label\"><b>{props.order && props.order.serial_number}</b></div>\r\n                                <div className=\"strike-order__body-label\"><b>{props.order && props.order.status}</b></div>\r\n                                <div className=\"strike-order__body-label\"><b>{props.order && moment(props.order.updated_at).format('DD-MM-YYYY')}</b></div>\r\n                                <div className=\"strike-order__body-label\"><b>{props.order && moment(props.order.updated_at).format('HH:mm')}</b></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"strike-order__body-label\"><b>{i18next.t('orders.product')}</b></div>\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.id')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.id} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.name')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.product.name} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.description')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.product.description} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.price')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.price} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.additionalInfo')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.additional_info} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                    </div>\r\n                    <div className=\"strike-order__body-right\">\r\n                        <div className=\"strike-order__body-label\"><b>{i18next.t('orders.customer')}</b></div>\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.firstName')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.client.first_name} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.lastName')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.client.last_name} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.phone')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.client.phone} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.country')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.client.country} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.city')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.client.city} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.address')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.client.address} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-order__body-label\">{i18next.t('orders.building')}</div>\r\n                        <input disabled defaultValue={props.order && props.order.client.building} className=\"strike-order__body-input\" placeholder=\"Field\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"strike-order__body-label\"><b>{i18next.t('orders.location')}</b></div>\r\n                <div>\r\n                    <ReactMapGL\r\n                        {...viewPort}\r\n                        // mapStyle={'mapbox://styles/mapbox/satellite-v9'}\r\n                        mapStyle={'mapbox://styles/mapbox/streets-v9'}\r\n                        mapboxApiAccessToken={'pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q'}\r\n                        width={\"100%\"}\r\n                        height={400}\r\n                        onViewportChange={(viewport) => setViewPort(viewport)}\r\n                    >\r\n                        {props.order && (\r\n                            <Marker latitude={props.order.location.latitude} longitude={props.order.location.longitude} offsetLeft={-23} offsetTop={-46} draggable={false}>\r\n                                <div status={props.order.status} className=\"map-marker\" />\r\n                            </Marker>\r\n                        )}\r\n                    </ReactMapGL>\r\n                </div>\r\n                <button onClick={delOrder} className=\"strike-order__body-delete\">{i18next.t('orders.delete')}</button>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ order }) => ({ order });\r\nconst mapDispatchToProps = { getOrder, deleteOrder };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeeOrder);"],"sourceRoot":""}