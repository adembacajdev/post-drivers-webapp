{"version":3,"sources":["containers/wrapper/Wrapper.jsx","store/actions/products.jsx","pages/products/Context.jsx","pages/products/TableItem.jsx","pages/products/Table.jsx","pages/products/Products.jsx"],"names":["Wrapper","props","className","children","getAllProducts","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","CLEAR_NOTIFICATION","clear","Promise","reject","searchProducts","search","post","success","SEARCH_PRODUCTS","getProduct","id","GET_PRODUCT","error","postStoreProduct","body","name","description","size","ks_price","al_price","mk_price","openable","history","parsedOpenable","JSON","parse","goBack","updateProduct","put","UPDATE_PRODUCT","deleteProduct","delete","window","location","reload","deleteProducts","product_ids","query","forEach","item","Context","createContext","TableItem","host","useContext","selected","setSelected","selectedAll","useHistory","threePoints","images","products","useState","copyText","checked","setChecked","isOpen","open","toggle","useCallback","edit","push","deleteProd","addOrder","useEffect","deletedCheck","filter","el","length","onChange","value","onClick","is-responsive","src","toast","notify","position","copy","i18n","t","Table","items","selectAll","selectAllProducts","map","index","key","mapDispatchToProps","connect","allProducts","deletedProduct","withRouter","customers","filledLeftArrow","unfilledLeftArrow","filledRightArrow","unfilledRightArrow","setData","useForm","register","handleSubmit","errors","newArray","elem","nextPage","hasNextPage","currentPage","prevPage","hasPrevPage","number","addProduct","Provider","onSubmit","ref","required","placeholder","lastPage","is-active","disabled"],"mappings":"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","file":"static/js/16.bdc2d027.chunk.js","sourcesContent":["import React from 'react';\nimport './wrapper.scss';\n\nconst Wrapper = (props) => {\n    return (\n        <div className=\"strike-wrapper\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Wrapper;","import {\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER, LOG_OUT, CLEAR_NOTIFICATION\n} from '../actionTypes';\nimport axios from 'axios';\n\nexport const getAllProducts = (limit, page) => async (dispatch) => {\n    try {\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\n        if (data.status === 200) {\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const searchProducts = (search) => async (dispatch) => {\n    try {\n        const { data } = await axios.post(`/products/search?name=${search}`);\n        if (data.success) {\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT, data: data.data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const getProductOrder = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.get(`/products/${id}/orders`);\n        if (data.success) {\n            dispatch({ type: GET_PRODUCT_ORDER, data });\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const postStoreProduct = (body) => async (dispatch) => {\n    try {\n        const { name, description, size, ks_price, al_price, mk_price, openable, history } = body;\n        const parsedOpenable = JSON.parse(openable);\n        const { data } = await axios.post(`/products`, { name, description, size, ks_price, al_price, mk_price, openable: parsedOpenable });\n        if (data.success) {\n            history.goBack()\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const updateProduct = (body) => async (dispatch) => {\n    try {\n        const { name, description, size, id, history } = body;\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\n        if (data.success) {\n            dispatch({ type: UPDATE_PRODUCT, data });\n            history.goBack();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProduct = (id) => async (dispatch) => {\n    try {\n        const { data } = await axios.delete(`/products/${id}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const deleteProducts = (product_ids) => async (dispatch) => {\n    try {\n        var query = '';\n        product_ids.forEach(item => {\n            if (query === '') query = `product_ids[]=${item}`;\n            else query = `${query}&product_ids[]=${item}`;\n        });\n        const { data } = await axios.delete(`/products?${query}`);\n        if (data.success) {\n            window.location.reload();\n        } else if (data.code === 403) {\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            localStorage.removeItem('token');\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\n            axios.defaults.headers.common['Authorization'] = ``\n        }else{\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\n        }\n    } catch (e) {\n        if (e?.response?.status === 401) {\n            dispatch({ type: LOG_OUT });\n            dispatch({ type: IS_LOGGED_IN, data: false });\n            dispatch({ type: CLEAR_NOTIFICATION })\n            localStorage.clear();\n        }\n        return Promise.reject(e);\n    }\n}\n\nexport const selectAllProducts = (data) => (dispatch) => {\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\n}","import React, {createContext} from 'react';\n\nconst Context = createContext(null);\n\nexport default Context;","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './products.scss';\nimport Context from './Context';\nimport config from '../../config';\nimport copy from \"copy-to-clipboard\";\nimport toast from 'toasted-notes'\nimport 'toasted-notes/src/styles.css';\n\nconst TableItem = ({ item, deleteProduct }) => {\n    let host = window.location.host;\n    const { selected, setSelected, selectedAll } = useContext(Context);\n    const history = useHistory();\n    const { threePoints } = images.products;\n\n    const [copyText, setCopyText] = useState(`${host}/add-order/${item.id}`)\n    const [checked, setChecked] = useState(item.checked)\n    const [isOpen, open] = useState(false);\n\n    const toggle = useCallback(() => { open(!isOpen) }, [isOpen]);\n    const edit = useCallback(() => { history.push('/edit-product', { id: item.id }) }, [item.id]);\n    const deleteProd = useCallback(() => { deleteProduct(item.id) }, []);\n    const check = () => setChecked(!checked);\n    const copyLink = () => {\n        toast.notify('Link copied!', { position: 'bottom-right' });\n        copy(copyText);\n    }\n    const addOrder = useCallback(() => { history.push('/add-order-by-shop', { id: item.id }) }, [item.id])\n\n    useEffect(() => {\n        if (checked) setSelected([...selected, item.id])\n        else if (!checked) {\n            const deletedCheck = selected.filter(el => el !== item.id);\n            setSelected(deletedCheck);\n        }\n    }, [checked]);\n\n    useEffect(() => {\n        const iAmSelected = selected.filter(el => el === item.id);\n        if (iAmSelected.length === 0) {\n            setChecked(false)\n        } else {\n            setChecked(true);\n        }\n    }, [selected])\n\n    return (\n        <div className=\"strike-products__table-item\">\n            <div className=\"strike-products__table-item-content flex-1\">\n                <input type=\"checkbox\" onChange={check} value={checked} checked={checked} />\n            </div>\n            <div onClick={edit} className=\"strike-products__table-item-content flex-1\">\n                <div className=\"strike-products__table-item-content-text\">{item.id}</div>\n            </div>\n            <div onClick={edit} className=\"strike-products__table-item-content flex-3\">\n                <div className=\"strike-products__table-item-content-text ml-15\">{item.name}</div>\n            </div>\n            <div onClick={edit} is-responsive=\"true\" className=\"strike-products__table-item-content flex-3\">\n                <div className=\"strike-products__table-item-content-text\">{item.description}</div>\n            </div>\n            <div onClick={edit} className=\"strike-products__table-item-content flex-15\">\n                <div className=\"strike-products__table-item-content-text\">{`${item.ks_price}€`}</div>\n            </div>\n            <div is-responsive=\"true\" onClick={toggle} className=\"strike-products__table-item-content flex-15 text-center\">\n                <div className=\"dropdown\">\n                    <img className=\"strike-products__table-item-content-points\" src={threePoints} />\n                    <div id=\"dropdown-content\" className=\"dropdown-content\">\n                        <div onClick={copyLink} className=\"dropdown-content-text\">{i18n.t('products.copyLink')}</div>\n                        <div onClick={edit} className=\"dropdown-content-text\">{i18n.t('products.edit')}</div>\n                        <div onClick={addOrder} className=\"dropdown-content-text\">{i18n.t('products.addOrder')}</div>\n                        <div onClick={deleteProd} className=\"dropdown-content-text\">{i18n.t('products.delete')}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default TableItem;","import React, { useContext, useCallback } from 'react';\nimport i18n from '../../services/locales/i18n';\nimport './products.scss';\nimport TableItem from './TableItem';\nimport Context from './Context';\n\nconst Table = ({ items, deleteProduct }) => {\n    const { selectedAll, selectAll } = useContext(Context);\n    const selectAllProducts = useCallback(() => { selectAll(!selectedAll) }, [selectedAll]);\n    return (\n        <div className=\"strike-products__table\">\n            <div className=\"strike-products__table-header\">\n                <div className=\"strike-products__table-header-item flex-1\">\n                    <input type=\"checkbox\" onChange={selectAllProducts} value={selectedAll} checked={selectedAll} />\n                </div>\n                <div className=\"strike-products__table-header-item flex-1\">{i18n.t('products.id')}</div>\n                <div className=\"strike-products__table-header-item flex-3\">{i18n.t('products.product')}</div>\n                <div is-responsive=\"true\" className=\"strike-products__table-header-item flex-3\">{i18n.t('products.description')}</div>\n                <div className=\"strike-products__table-header-item flex-15\">{i18n.t('products.price')}</div>\n                <div is-responsive=\"true\" className=\"strike-products__table-header-item flex-15 text-center\">{i18n.t('products.actions')}</div>\n            </div>\n            {items && items.map((item, index) => {\n                return <TableItem key={index} item={item} deleteProduct={deleteProduct} />\n            })}\n        </div>\n    )\n}\n\nexport default Table;","import React, { useState, useCallback, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Wrapper from '../../containers/wrapper/Wrapper';\nimport images from '../../assets/images';\nimport i18n from '../../services/locales/i18n';\nimport './products.scss';\nimport { getAllProducts, deleteProduct, searchProducts, deleteProducts } from '../../store/actions/products';\nimport { useForm } from \"react-hook-form\";\nimport Context from './Context';\nimport Table from './Table';\n\nconst Products = (props) => {\n    const { filledLeftArrow, unfilledLeftArrow, filledRightArrow, unfilledRightArrow } = images.customers;\n    const [data, setData] = useState(props.allProducts);\n    const [selected, setSelected] = useState([]);\n    const [selectedAll, selectAll] = useState(false)\n    const { register, handleSubmit, errors } = useForm();\n    const onSubmit = ({ search }) => {\n        props.searchProducts(search);\n    };\n\n    useEffect(() => { props.getAllProducts(10, 1) }, []);\n    useEffect(() => { if (props.deletedProduct) window.location.reload() }, [props.deletedProduct])\n    useEffect(() => {\n        setData(props.allProducts);\n        selectAll(false);\n        setSelected([])\n    }, [props.allProducts]);\n    useEffect(() => {\n        if (selectedAll) {\n            let newArray = [];\n            data.data.forEach(elem => {\n                newArray.push(elem.id)\n            })\n            setSelected(newArray)\n        } else {\n            setSelected([])\n        }\n    }, [selectedAll])\n\n    const deleteSelectedProducts = () => {\n        props.deleteProducts(selected);\n        selectAll(false);\n        setSelected([])\n    }\n\n    const nextPage = useCallback(() => { if (data.hasNextPage) props.getAllProducts(10, data.currentPage + 1) }, [data]);\n    const prevPage = useCallback(() => { if (data.hasPrevPage) props.getAllProducts(10, data.currentPage - 1) }, [data]);\n    const number = useCallback((page) => { props.getAllProducts(10, page) }, [data]);\n\n    const addProduct = useCallback(() => { props.history.push('/add-product') }, []);\n    \n    return (\n        <Context.Provider value={{ selected, setSelected, selectedAll, selectAll }}>\n            <Wrapper>\n                <div className=\"strike-products\">\n                    <div className=\"strike-products__header\">\n                        <div className=\"strike-products__header-left\">\n                            <div className=\"strike-products__header-left-title\">{i18n.t('products.products')}</div>\n                        </div>\n                        <div className=\"strike-products__header-right\">\n                            <div onClick={addProduct} className=\"strike-products__header-right-text\">{i18n.t('products.addProduct')}</div>\n                        </div>\n                    </div>\n                    <form onSubmit={handleSubmit(onSubmit)} className=\"strike-products__search\">\n                        <input name=\"search\" ref={register({ required: true })} placeholder={i18n.t('products.searchPlaceholder')} className=\"strike-products__search-input\" />\n                        <button type=\"submit\" className=\"strike-products__search-button\">{i18n.t('products.search')}</button>\n                    </form>\n                    <Table items={data.data} deleteProduct={props.deleteProduct} />\n                    <div className=\"strike-products__pagination\">\n                        <img onClick={prevPage} src={data.hasPrevPage ? filledLeftArrow : unfilledLeftArrow} className='strike-products__pagination-leftarrow' />\n                        {data && data.lastPage.map(item => {\n                            return <div onClick={() => number(item)} is-active={item === data.currentPage ? 'true' : 'false'} key={item} className=\"strike-products__pagination-number\">{item}</div>\n                        })}\n                        <img onClick={nextPage} src={data.hasNextPage ? filledRightArrow : unfilledRightArrow} className='strike-products__pagination-rightarrow' />\n                    </div>\n                    <button onClick={deleteSelectedProducts} disabled={selected.length ? false : true} className=\"strike-products__delete-selected\">{i18n.t('products.deleteProducts')}</button>\n                </div>\n            </Wrapper>\n        </Context.Provider>\n    )\n}\n\nconst mapStateToProps = ({ allProducts, deletedProduct }) => ({ allProducts, deletedProduct });\nconst mapDispatchToProps = { getAllProducts, deleteProduct, searchProducts, deleteProducts };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Products));"],"sourceRoot":""}