{"version":3,"sources":["containers/wrapper/Wrapper.jsx","store/actions/customers.jsx","pages/customers/SeeCustomer.jsx"],"names":["Wrapper","props","className","children","getAllCustomers","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_CUSTOMERS","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","IS_LOGGED_IN","CLEAR_NOTIFICATION","localStorage","clear","Promise","reject","searchCustomers","text","post","success","SEARCH_CUSTOMERS","getCustomer","id","GET_SELECTED_CUSTOMERS","code","removeItem","defaults","headers","common","getRecentCustomers","GET_RECENT_CUSTOMERS","deleteCustomer","delete","window","location","reload","deleteCustomers","client_ids","query","forEach","item","mapDispatchToProps","connect","customer","useState","setData","useEffect","state","i18next","t","disabled","defaultValue","first_name","placeholder","last_name","phone","country","city","address","building","product","name","description","ks_price","onClick","history","goBack"],"mappings":"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","file":"static/js/14.6305c01a.chunk.js","sourcesContent":["import React from 'react';\r\nimport './wrapper.scss';\r\n\r\nconst Wrapper = (props) => {\r\n    return (\r\n        <div className=\"strike-wrapper\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","//RECENT CUSTOMERS are missing from Postman\r\nimport {\r\n    GET_ALL_CUSTOMERS, GET_SELECTED_CUSTOMERS, GET_CUSTOMERS_ORDER, DELETE_CUSTOMER, DELETE_CUSTOMERS, GET_RECENT_CUSTOMERS,\r\n    IS_LOGGED_IN, SEARCH_CUSTOMERS, TOGGLE_ERROR_MODAL, LOG_OUT, CLEAR_NOTIFICATION\r\n} from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getAllCustomers = (limit, page) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.get(`clients/paginate/${limit}?page=${page}`);\r\n        if (data.status === 200) {\r\n            dispatch({ type: GET_ALL_CUSTOMERS, data: data.data })\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const searchCustomers = (type, text) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`clients/search/${type}?${type}=${text}`);\r\n        if (data.success) {\r\n            dispatch({ type: SEARCH_CUSTOMERS, data: data.data })\r\n        } else {\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getCustomer = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/clients/${id}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_SELECTED_CUSTOMERS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getCustomerOrders = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/clients/${id}/order`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_CUSTOMERS_ORDER, data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getRecentCustomers = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/recent/clients`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_RECENT_CUSTOMERS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteCustomer = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.delete(`/clients/${id}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteCustomers = (client_ids) => async (dispatch) => {\r\n    try {\r\n        var query = '';\r\n        client_ids.forEach(item => {\r\n            if (query === '') query = `client_ids[]=${item}`;\r\n            else query = `${query}&client_ids[]=${item}`;\r\n        });\r\n        const { data } = await axios.delete(`/clients?${query}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}","import React, { useEffect } from 'react';\r\nimport './customers.scss';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport { connect } from 'react-redux';\r\nimport { getCustomer, deleteCustomer } from '../../store/actions/customers';\r\nimport i18next from 'i18next';\r\nimport { useState } from 'react';\r\n\r\nconst SeeCustomer = (props) => {\r\n    const [data, setData] = useState([]);\r\n    // useEffect(() => { props.getCustomer(props.location.state.id); }, []);\r\n    useEffect(() => { props.getCustomer(props.location.state.id); }, [props?.location?.state?.id]);\r\n    const delCustomer = () => {\r\n        props.deleteCustomer(props.location.state.id);\r\n        props.history.goBack()\r\n    }\r\n\r\n    useEffect(() => {\r\n        setData(props.customer)\r\n    }, [props.customer])\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-customer\">\r\n                <div className=\"strike-customer__header\">{i18next.t('customers.customerDetails')}</div>\r\n                <div className=\"strike-customer__body\">\r\n                    <div className=\"strike-customer__body-left\">\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.firstName')}</div>\r\n                        <input disabled defaultValue={data?.first_name} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.lastName')}</div>\r\n                        <input disabled defaultValue={data?.last_name} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.phone')}</div>\r\n                        <input disabled defaultValue={data?.phone} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.country')}</div>\r\n                        <input disabled defaultValue={data?.country} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.city')}</div>\r\n                        <input disabled defaultValue={data?.city} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.address')}</div>\r\n                        <input disabled defaultValue={data?.address} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.building')}</div>\r\n                        <input disabled defaultValue={data?.building} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                    </div>\r\n                    <div className=\"strike-customer__body-right\">\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.product')}</div>\r\n                        <input disabled defaultValue={data?.product?.name} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.description')}</div>\r\n                        <input disabled defaultValue={data?.product?.description} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                        <div className=\"strike-customer__body-label\">{i18next.t('customers.price')}</div>\r\n                        <input disabled defaultValue={data?.product?.ks_price} className=\"strike-customer__body-input\" placeholder=\"Field\" />\r\n                    </div>\r\n                </div>\r\n                <button onClick={delCustomer} className=\"strike-customer__body-button\">{i18next.t('customers.delete')}</button>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ customer }) => ({ customer });\r\nconst mapDispatchToProps = { getCustomer, deleteCustomer };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeeCustomer);"],"sourceRoot":""}