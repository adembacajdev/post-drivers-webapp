(this.webpackJsonpstrikeapp=this.webpackJsonpstrikeapp||[]).push([[33],{221:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(27);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},244:function(e,t,r){"use strict";var a=r(0),s=Object(a.createContext)(null);t.a=s},375:function(e,t,r){"use strict";var a=r(0),s=r.n(a),i=r(31),c=r(5),n=(r(243),r(242)),l=r(16),d=r(203),o=r(25),m=r.n(o),u=r(244),b=function(e){var t,r,o=e.id,b=e.serial_number,_=e.status,v=e.updated_at,p=e.deleteItem,k=e.price,O=e.client,f=(e.printOne,e.item),h=Object(a.useContext)(u.a),E=h.selected,N=h.setSelected,g=Object(a.useState)(!1),j=Object(l.a)(g,2),P=j[0],y=j[1],w=Object(d.e)(),x=i.a.orders.threePoints,C=m()(v).format("DD/MM/YYYY"),S=m()(v).format("HH:mm:ss");switch(_){case"pending":case"ongoing":case"cancelled":case"completed":t=_,r=_;break;case"archived":t="archived",r="archived";break;case"archived:cancelled":t="cancelled",r="archived";break;case"archived:completed":t="completed",r="archived"}var A=Object(a.useCallback)((function(){w.push("/order",{id:o})}),[f.id]);return Object(a.useEffect)((function(){if(P)N([].concat(Object(n.a)(E),[o]));else if(!P){var e=E.filter((function(e){return e!==o}));N(e)}}),[P]),Object(a.useEffect)((function(){0===E.filter((function(e){return e===o})).length?y(!1):y(!0)}),[E]),s.a.createElement("div",{className:"strike-orders__table-item"},s.a.createElement("div",{className:"strike-orders__table-item-container"},s.a.createElement("input",{onChange:function(){return y(!P)},value:P,checked:P,className:"strike-orders__table-item-container-checkbox",type:"checkbox"}),s.a.createElement("div",{className:"strike-orders__table-item-container-text"},b)),s.a.createElement("div",{onClick:A,className:"strike-orders__table-item-container"},s.a.createElement("div",{className:r}),s.a.createElement("div",{className:"strike-orders__table-item-container-text"},t)),s.a.createElement("div",{onClick:A,className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},k,"\u20ac")),s.a.createElement("div",{onClick:A,"is-responsive":"true",className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},C)),s.a.createElement("div",{onClick:A,"is-responsive":"true",className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},S)),s.a.createElement("div",{onClick:A,"is-responsive":"true",className:"strike-orders__table-item-container"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},O.first_name)),s.a.createElement("div",{onClick:A,"is-responsive":"true",className:"strike-orders__table-item-container centered"},s.a.createElement("div",{className:"strike-orders__table-item-container-text"},O.city)),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-item-container centered"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("img",{className:"strike-orders__table-item-container-dots",src:x}),s.a.createElement("div",{className:"dropdown-content"},s.a.createElement("div",{onClick:function(){localStorage.setItem("printOne",o),window.open("http://".concat(window.location.host,"/print/one"),"Print Orders")},className:"dropdown-content-text"},c.a.t("orders.print")),s.a.createElement("div",{onClick:function(){return p(o)},className:"dropdown-content-text"},c.a.t("orders.delete"))))))};t.a=function(e){var t=e.items,r=e.deleteItem,n=e.printOne,l=Object(a.useContext)(u.a),d=l.selectedAll,o=l.selectAll,m=(i.a.orders.tableArrow,Object(a.useCallback)((function(){o(!d)}),[d]));return s.a.createElement("div",{className:"strike-orders__table"},s.a.createElement("div",{className:"strike-orders__table-header"},s.a.createElement("div",{className:"strike-orders__table-header-item"},s.a.createElement("input",{type:"checkbox",onChange:m,value:d,checked:d}),s.a.createElement("div",{style:{marginLeft:15},className:"strike-orders__table-header-item-text"},c.a.t("orders.serialNumber"))),s.a.createElement("div",{className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},c.a.t("orders.status"))),s.a.createElement("div",{className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},c.a.t("orders.unitedPrice"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},c.a.t("orders.date"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},c.a.t("orders.time"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},c.a.t("orders.customerName"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item centered"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},c.a.t("orders.city"))),s.a.createElement("div",{"is-responsive":"true",className:"strike-orders__table-header-item centered"},s.a.createElement("div",{className:"strike-orders__table-header-item-text"},c.a.t("orders.actions")))),t&&t.map((function(e,t){return s.a.createElement(b,Object.assign({item:e,printOne:n,deleteItem:r},e,{key:t}))})))}},791:function(e,t,r){"use strict";r.r(t);var a=r(16),s=r(0),i=r.n(s),c=r(8),n=r(203),l=r(214),d=r(31),o=r(5),m=(r(243),r(220)),u=r(219),b=r(244),_=r(375),v=r(25),p=r.n(v),k={getAllOrders:m.d,deleteOrder:m.b,printOneOrder:m.n,getOrdersPaginated:m.i,searchOrders:m.p,printSelectedOrders:m.o,deleteOrders:m.c};t.default=Object(c.b)((function(e){return{allOrders:e.allOrders,ordersPaginated:e.ordersPaginated,deletedOrder:e.deletedOrder,printOrder:e.printOrder}}),k)(Object(n.g)((function(e){var t=Object(s.useState)(o.a.t("orders.allOrders")),r=Object(a.a)(t,2),c=r[0],n=r[1],m=Object(s.useState)(e.ordersPaginated),v=Object(a.a)(m,2),k=v[0],O=v[1],f=Object(s.useState)([]),h=Object(a.a)(f,2),E=h[0],N=h[1],g=Object(s.useState)(!1),j=Object(a.a)(g,2),P=j[0],y=j[1],w=Object(s.useState)("serial_number"),x=Object(a.a)(w,2),C=x[0],S=x[1],A=d.a.orders,D=A.filledLeftArrow,I=A.unfilledLeftArrow,M=A.filledRightArrow,Y=A.unfilledRightArrow,J=Object(u.a)(),L=J.register,q=J.handleSubmit;J.errors;Object(s.useEffect)((function(){e.getOrdersPaginated(10,1),e.location.state&&e.location.state.title&&n(e.location.state.title)}),[]),Object(s.useEffect)((function(){e.deletedOrder&&window.location.reload()}),[e.deletedOrder]),Object(s.useEffect)((function(){O(e.ordersPaginated),y(!1),N([])}),[e.ordersPaginated]),Object(s.useEffect)((function(){if(P){var e=[];k.data.forEach((function(t){e.push(t.id)})),N(e)}else N([])}),[P]);var H=Object(s.useCallback)((function(){k.hasNextPage&&e.getOrdersPaginated(10,k.currentPage+1)}),[k]),R=Object(s.useCallback)((function(){k.hasPrevPage&&e.getOrdersPaginated(10,k.currentPage-1)}),[k]),V=Object(s.useCallback)((function(t){e.getOrdersPaginated(10,t)}),[k]),z=Object(s.useCallback)((function(e){S(e.target.value)}),[C]),B=Object(s.useCallback)((function(){e.history.push("/add-order-direct-by-shop")}),[]);return i.a.createElement(b.a.Provider,{value:{selected:E,setSelected:N,selectedAll:P,selectAll:y}},i.a.createElement(l.a,null,i.a.createElement("div",{className:"strike-orders"},i.a.createElement("div",{className:"strike-orders__header"},i.a.createElement("div",{className:"strike-orders__header-left"},i.a.createElement("div",{className:"strike-orders__header-left-text"},c)),i.a.createElement("div",{className:"strike-orders__header-right"},i.a.createElement("div",{onClick:B,className:"strike-orders__header-right-text"},o.a.t("products.addOrder")))),i.a.createElement("form",{onSubmit:q((function(t){var r=t.type,a=t.search;e.searchOrders(r,a)})),className:"strike-orders__search"},i.a.createElement("select",{defaultValue:C,onChange:z,name:"type",ref:L({required:!0}),className:"strike-orders__search-select"},i.a.createElement("option",{value:"serial_number"},o.a.t("orders.serialNumber")),i.a.createElement("option",{value:"customer_name"},o.a.t("orders.customerName")),i.a.createElement("option",{value:"city"},o.a.t("orders.city")),i.a.createElement("option",{value:"status"},o.a.t("orders.status")),i.a.createElement("option",{value:"date"},o.a.t("orders.date"))),i.a.createElement("input",{defaultValue:"date"===C?p()().format("yyyy-MM-DD"):"",type:"date"===C?"date":"text",name:"search",ref:L({required:!0}),placeholder:o.a.t("orders.searchPlaceholder"),className:"strike-orders__search-input"}),i.a.createElement("button",{type:"submit",className:"strike-orders__search-button"},o.a.t("orders.search"))),i.a.createElement(_.a,{printOne:e.printOneOrder,deleteItem:e.deleteOrder,items:null===k||void 0===k?void 0:k.data}),i.a.createElement("div",{className:"strike-orders__pagination"},i.a.createElement("img",{onClick:R,src:k.hasPrevPage?D:I,className:"strike-orders__pagination-leftarrow"}),k&&k.lastPage.map((function(e){return i.a.createElement("div",{onClick:function(){return V(e)},"is-active":e===k.currentPage?"true":"false",key:e,className:"strike-orders__pagination-number"},e)})),i.a.createElement("img",{onClick:H,src:k.hasNextPage?M:Y,className:"strike-orders__pagination-rightarrow"})),i.a.createElement("div",{className:"strike-orders__footerbuttons"},i.a.createElement("button",{onClick:function(){e.deleteOrders(E),y(!1),N([])},disabled:!E.length,className:"strike-orders__delete-selected"},o.a.t("orders.deleteOrders")),i.a.createElement("button",{onClick:function(){var e=JSON.stringify(E);localStorage.setItem("printMultiple",e),window.open("http://".concat(window.location.host,"/print/multiple"),"Print Orders")},disabled:!E.length,className:"strike-orders__print-selected"},o.a.t("orders.printSelected"))))))})))}}]);
//# sourceMappingURL=33.5ef7564d.chunk.js.map