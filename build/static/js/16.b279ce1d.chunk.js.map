{"version":3,"sources":["containers/wrapper/Wrapper.jsx","store/actions/products.jsx","pages/orders/AddOrderByShop.jsx"],"names":["Wrapper","props","className","children","getAllProducts","limit","page","dispatch","a","axios","get","data","status","type","GET_ALL_PRODUCTS","code","IS_LOGGED_IN","localStorage","removeItem","defaults","headers","common","TOGGLE_ERROR_MODAL","message","response","LOG_OUT","CLEAR_NOTIFICATION","clear","Promise","reject","searchProducts","search","post","success","SEARCH_PRODUCTS","getProduct","id","GET_PRODUCT","error","postStoreProduct","body","name","description","size","ks_price","al_price","mk_price","openable","history","parsedOpenable","JSON","parse","goBack","updateProduct","put","UPDATE_PRODUCT","deleteProduct","delete","window","location","reload","deleteProducts","product_ids","query","forEach","item","timeout","mapDispatchToProps","postOrderByShop","connect","product","withRouter","useState","setData","useForm","register","handleSubmit","errors","country","setCountry","latitudeMarker","setLatitudeMarker","longitudeMarker","setLongitudeMarker","width","height","latitude","longitude","zoom","viewPort","setViewPort","useEffect","state","console","log","orderPosted","setTimeout","i18n","t","onSubmit","product_id","first_name","last_name","city","address","building","prefix","phone","style","fontSize","color","onChange","e","onkeyup","clearTimeout","target","value","length","defaultValue","has-error","ref","required","placeholder","disabled","href","locations","cities","map","index","key","maxZoom","mapStyle","mapboxApiAccessToken","onViewportChange","viewport","offsetLeft","offsetTop","draggable","onDragStart","event","lngLat","onDragEnd","src","images","orders","pin","alt"],"mappings":"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","file":"static/js/16.b279ce1d.chunk.js","sourcesContent":["import React from 'react';\r\nimport './wrapper.scss';\r\n\r\nconst Wrapper = (props) => {\r\n    return (\r\n        <div className=\"strike-wrapper\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","import {\r\n    GET_ALL_PRODUCTS, GET_PRODUCT, GET_PRODUCT_ORDER, POST_STORE_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, DELETE_PRODUCTS, IS_LOGGED_IN,\r\n    SEARCH_PRODUCTS, TOGGLE_ERROR_MODAL, SELECT_ALL_PRODUCTS, DELETE_ORDER, LOG_OUT, CLEAR_NOTIFICATION\r\n} from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getAllProducts = (limit, page) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.get(`/products/paginate/${limit}?page=${page}`);\r\n        if (data.status === 200) {\r\n            dispatch({ type: GET_ALL_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const searchProducts = (search) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`/products/search?name=${search}`);\r\n        if (data.success) {\r\n            dispatch({ type: SEARCH_PRODUCTS, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT, data: data.data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: GET_PRODUCT, data: {error: data.error} });\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const getProductOrder = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`/products/${id}/orders`);\r\n        if (data.success) {\r\n            dispatch({ type: GET_PRODUCT_ORDER, data });\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const postStoreProduct = (body) => async (dispatch) => {\r\n    try {\r\n        const { name, description, size, ks_price, al_price, mk_price, openable, history } = body;\r\n        const parsedOpenable = JSON.parse(openable);\r\n        const { data } = await axios.post(`/products`, { name, description, size, ks_price, al_price, mk_price, openable: parsedOpenable });\r\n        if (data.success) {\r\n            history.goBack()\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const updateProduct = (body) => async (dispatch) => {\r\n    try {\r\n        const { name, description, size, id, history } = body;\r\n        const { data } = await axios.put(`/products/${id}`, { name, description, size });\r\n        if (data.success) {\r\n            dispatch({ type: UPDATE_PRODUCT, data });\r\n            history.goBack();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProduct = (id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.delete(`/products/${id}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.error })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const deleteProducts = (product_ids) => async (dispatch) => {\r\n    try {\r\n        var query = '';\r\n        product_ids.forEach(item => {\r\n            if (query === '') query = `product_ids[]=${item}`;\r\n            else query = `${query}&product_ids[]=${item}`;\r\n        });\r\n        const { data } = await axios.delete(`/products?${query}`);\r\n        if (data.success) {\r\n            window.location.reload();\r\n        } else if (data.code === 403) {\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Content-Type'] = \"applicaton/json\"\r\n            axios.defaults.headers.common['Authorization'] = ``\r\n        }else{\r\n            dispatch({ type: TOGGLE_ERROR_MODAL, data: data.message })\r\n        }\r\n    } catch (e) {\r\n        if (e?.response?.status === 401) {\r\n            dispatch({ type: LOG_OUT });\r\n            dispatch({ type: IS_LOGGED_IN, data: false });\r\n            dispatch({ type: CLEAR_NOTIFICATION })\r\n            localStorage.clear();\r\n        }\r\n        return Promise.reject(e);\r\n    }\r\n}\r\n\r\nexport const selectAllProducts = (data) => (dispatch) => {\r\n    dispatch({type: SELECT_ALL_PRODUCTS, data})\r\n}","import React, { useEffect, useState } from 'react';\r\nimport './addOrderByShop.scss';\r\nimport Wrapper from '../../containers/wrapper/Wrapper';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport i18n from '../../services/locales/i18n';\r\nimport { useForm } from \"react-hook-form\";\r\nimport ReactMapGL, { Marker } from 'react-map-gl';\r\nimport cities from '../../services/constants/Cities';\r\nimport locations from '../../services/constants/Locations';\r\nimport { getProduct } from '../../store/actions/products';\r\nimport images from '../../assets/images';\r\nimport { postOrderByShop } from '../../store/actions/orders';\r\n\r\nvar timeout = null;\r\n\r\nconst AddOrderByShop = (props) => {\r\n    const [data, setData] = useState([]);\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const [country, setCountry] = useState('Kosovë');\r\n    const [tooltipOpen, setTooltipOpen] = useState(false);\r\n    const [latitudeMarker, setLatitudeMarker] = useState(42.66758079200047);\r\n    const [longitudeMarker, setLongitudeMarker] = useState(21.165194013322285);\r\n    const [viewPort, setViewPort] = useState({ width: 1200, height: 600, latitude: 42.66758079200047, longitude: 21.165194013322285, zoom: 14, })\r\n\r\n    const onDragStart = (event) => { const { lngLat } = event }\r\n    const onDragEnd = (event) => { setLatitudeMarker(event.lngLat[1]); setLongitudeMarker(event.lngLat[0]); }\r\n    const toggle = () => setTooltipOpen(!tooltipOpen);\r\n\r\n    const handleSelectCountry = (e) => {\r\n        setCountry(e.target.value);\r\n        setLatitudeMarker(locations[e.target.value][0]);\r\n        setLongitudeMarker(locations[e.target.value][1]);\r\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\r\n    }\r\n    const handleSelectCity = (e) => {\r\n        setLatitudeMarker(locations[e.target.value][0]);\r\n        setLongitudeMarker(locations[e.target.value][1]);\r\n        setViewPort({ width: 1200, height: 600, latitude: locations[e.target.value][0], longitude: locations[e.target.value][1], zoom: 14, })\r\n    }\r\n\r\n    const onSubmit = ({ product_id, description, first_name, last_name, country, city, address, building, prefix, phone }) => {\r\n        const body = {\r\n            product_id, description, first_name, last_name, phone: `${prefix}${phone}`, country, city, address, building,\r\n            latitude: latitudeMarker, longitude: longitudeMarker\r\n        }\r\n        props.postOrderByShop(body, props.history);\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.location.state?.id ? props.getProduct(props.location.state.id) : console.log('no id')\r\n    }, [props.location.state.id])\r\n\r\n    const handleIdChange = (e) => {\r\n        window.onkeyup = (e) => {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(async () => {\r\n                if (e.target.name === 'product_id' && e.target.value.length === 6) {\r\n                    props.getProduct(e.target.value);\r\n                }\r\n            }, 500)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.orderPosted) {\r\n            setTimeout(() => {\r\n                window.location.reload();\r\n            }, 1000)\r\n        }\r\n    }, [props.orderPosted]);\r\n\r\n    useEffect(() => {\r\n        setData(props.product)\r\n    }, [props.product])\r\n\r\n\r\n    return (\r\n        <Wrapper>\r\n            <div className=\"strike-addorderbyshop\">\r\n                <div className=\"strike-addorderbyshop__title\">{i18n.t('addProductForm.editProduct')}</div>\r\n                <div className=\"strike-addorderbyshop__form\">\r\n                    <form onSubmit={handleSubmit(onSubmit)}>\r\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.productDetails')}</div>\r\n                        {props.product && <div style={{ fontSize: 10, color: 'red' }}>{data?.error}</div>}\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.productId')}</div>\r\n                        <input onChange={handleIdChange} defaultValue={props?.location?.state?.id} has-error={errors.product_id ? 'true' : 'false'} ref={register({ required: true })} name=\"product_id\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.productId')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.name')}</div>\r\n                        <input defaultValue={data?.name} disabled ref={register({ required: false })} name=\"name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.name')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.description')}</div>\r\n                        <input defaultValue={data?.description} disabled ref={register({ required: false })} name=\"firstDescription\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.description')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.price')}</div>\r\n                        <input defaultValue={data?.ks_price} disabled ref={register({ required: false })} name=\"price\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.price')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.additionalInfo')}</div>\r\n                        <input has-error={errors.description ? 'true' : 'false'} ref={register({ required: false })} name=\"description\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.exSizeColor')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.yourInformation')}</div>\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.firstName')}</div>\r\n                        <input has-error={errors.first_name ? 'true' : 'false'} ref={register({ required: true })} name=\"first_name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.firstName')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.lastName')}</div>\r\n                        <input has-error={errors.last_name ? 'true' : 'false'} ref={register({ required: true })} name=\"last_name\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.lastName')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.phone')}</div>\r\n                        <div className=\"flex-row\">\r\n                            <select name=\"prefix\" ref={register({ required: false })} className=\"strike-addorderbyshop__fields-row-form-input w-10\">\r\n                                <option value=\"383\">+383</option>\r\n                                <option value=\"355\">+355</option>\r\n                                <option value=\"389\">+389</option>\r\n                            </select>\r\n                            <input href=\"#\" id=\"TooltipExample\" has-error={errors.phone ? 'true' : 'false'} ref={register({ required: true })} name=\"phone\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.phone')} />\r\n                        </div>\r\n                        {/* <Tooltip placement=\"left\" isOpen={tooltipOpen} target=\"TooltipExample\" toggle={toggle}>{i18n.t('addOrder.receiveCode')}</Tooltip> */}\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.country')}</div>\r\n                        <select name=\"country\" has-error={errors.country ? 'true' : 'false'} ref={register({ required: true })} onChange={handleSelectCountry} className=\"strike-addorderbyshop__fields-row-form-input\">\r\n                            <option value=\"Kosovë\">{i18n.t('addOrder.kosovo')}</option>\r\n                            <option value=\"Shqipëri\">{i18n.t('addOrder.albania')}</option>\r\n                            <option value=\"Maqedoni e Veriut\">{i18n.t('addOrder.northMacedonia')}</option>\r\n                        </select>\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.city')}</div>\r\n                        <select onChange={handleSelectCity} name=\"city\" has-error={errors.city ? 'true' : 'false'} ref={register({ required: true })} className=\"strike-addorderbyshop__fields-row-form-input\">\r\n                            {cities[country].map((item, index) => {\r\n                                return <option key={index} value={item}>{item}</option>\r\n                            })}\r\n                        </select>\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.address')}</div>\r\n                        <input has-error={errors.address ? 'true' : 'false'} ref={register({ required: true })} name=\"address\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.address')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-form-label\">{i18n.t('addOrder.building')}</div>\r\n                        <input has-error={errors.building ? 'true' : 'false'} ref={register({ required: false })} name=\"building\" className=\"strike-addorderbyshop__fields-row-form-input\" placeholder={i18n.t('addOrder.building')} />\r\n                        <div className=\"strike-addorderbyshop__fields-row-column-title\">{i18n.t('addOrder.putLocation')}</div>\r\n                        <ReactMapGL\r\n                            {...viewPort}\r\n                            maxZoom={18}\r\n                            mapStyle={'mapbox://styles/mapbox/streets-v9'}\r\n                            // mapStyle={'mapbox://styles/mapbox/satellite-v9'}\r\n                            mapboxApiAccessToken={'pk.eyJ1IjoiYWRlbWJhY2FqIiwiYSI6ImNrYnF0c3phNjBhd3Iydm50bnIyeHl0d3kifQ.6zDG514PklFKYJTYD32p8Q'}\r\n                            width={\"100%\"}\r\n                            height={400}\r\n                            onViewportChange={(viewport) => setViewPort(viewport)}>\r\n                            <Marker latitude={latitudeMarker} longitude={longitudeMarker} offsetLeft={-23} offsetTop={-46} draggable={true} onDragStart={onDragStart} onDragEnd={onDragEnd}>\r\n                                <div ><img src={images.orders.pin} width={46} height={46} alt=\"App Logo\" />\r\n                                </div>\r\n                            </Marker>\r\n                        </ReactMapGL>\r\n                        <div className=\"strike-addorderbyshop__fields-footer\">\r\n                            <button type=\"submit\">{i18n.t('addOrder.button')}</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({ product }) => ({ product });\r\nconst mapDispatchToProps = { getProduct, postOrderByShop };\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(AddOrderByShop));"],"sourceRoot":""}